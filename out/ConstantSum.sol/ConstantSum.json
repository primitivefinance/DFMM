{"abi":[{"type":"constructor","inputs":[{"name":"dfmm_","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"computeSwapConstant","inputs":[{"name":"poolId","type":"uint256","internalType":"uint256"},{"name":"data","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"","type":"int256","internalType":"int256"}],"stateMutability":"view"},{"type":"function","name":"dfmm","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"getPoolParams","inputs":[{"name":"poolId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"view"},{"type":"function","name":"init","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"poolId","type":"uint256","internalType":"uint256"},{"name":"data","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"valid","type":"bool","internalType":"bool"},{"name":"invariant","type":"int256","internalType":"int256"},{"name":"reserveX","type":"uint256","internalType":"uint256"},{"name":"reserveY","type":"uint256","internalType":"uint256"},{"name":"totalLiquidity","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"internalParams","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"price","type":"uint256","internalType":"uint256"},{"name":"swapFee","type":"uint256","internalType":"uint256"},{"name":"controller","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"name","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"update","inputs":[{"name":"sender","type":"address","internalType":"address"},{"name":"poolId","type":"uint256","internalType":"uint256"},{"name":"data","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"validateAllocateOrDeallocate","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"poolId","type":"uint256","internalType":"uint256"},{"name":"data","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"valid","type":"bool","internalType":"bool"},{"name":"invariant","type":"int256","internalType":"int256"},{"name":"reserveX","type":"uint256","internalType":"uint256"},{"name":"reserveY","type":"uint256","internalType":"uint256"},{"name":"totalLiquidity","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"validateSwap","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"poolId","type":"uint256","internalType":"uint256"},{"name":"data","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"valid","type":"bool","internalType":"bool"},{"name":"invariant","type":"int256","internalType":"int256"},{"name":"liquidityDelta","type":"int256","internalType":"int256"},{"name":"nextRx","type":"uint256","internalType":"uint256"},{"name":"nextRy","type":"uint256","internalType":"uint256"},{"name":"nextL","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"error","name":"InvalidSender","inputs":[]},{"type":"error","name":"InvalidUpdateCode","inputs":[]},{"type":"error","name":"NotDFMM","inputs":[]}],"bytecode":{"object":"0x60803461007457601f610db038819003918201601f19168301916001600160401b038311848410176100795780849260209460405283398101031261007457516001600160a01b0381169081900361007457600080546001600160a01b031916919091179055604051610d2090816100908239f35b600080fd5b634e487b7160e01b600052604160045260246000fdfe6080604052600436101561001257600080fd5b6000803560e01c9081622e524b146100a95750806306fdde03146100a45780631edb71e51461009f57806368bd3e381461009a57806373cb2d03146100955780638a04bdd514610090578063acad29891461008b578063afba13c4146100865763dc1783551461008157600080fd5b61087d565b610854565b610705565b6106cb565b6105b4565b610343565b61028b565b61023f565b3461013b57604036600319011261013b576024359067ffffffffffffffff821161013b573660238301121561013b576101376101276101026100f3366004870135602488016101b3565b602080825183010191016108b0565b90610120610111600435610aed565b602080825183010191016108cb565b5192610b61565b6040519081529081906020820190565b0390f35b80fd5b634e487b7160e01b600052604160045260246000fd5b6060810190811067ffffffffffffffff82111761017057604052565b61013e565b6040810190811067ffffffffffffffff82111761017057604052565b90601f8019910116810190811067ffffffffffffffff82111761017057604052565b92919267ffffffffffffffff821161017057604051916101dd601f8201601f191660200184610191565b8294818452818301116101fa578281602093846000960137010152565b600080fd5b919082519283825260005b84811061022b575050826000602080949584010152601f8019910116010190565b60208183018101518483018201520161020a565b346101fa5760003660031901126101fa5761013760405161025f81610175565b600b81526a436f6e7374616e7453756d60a81b60208201526040519182916020835260208301906101ff565b346101fa5760203660031901126101fa57600435600052600160205260606040600020805490600181015490600260018060a01b03910154169060405192835260208301526040820152f35b6001600160a01b038116036101fa57565b9060606003198301126101fa57600435610301816102d7565b916024359160443567ffffffffffffffff928382116101fa57806023830112156101fa5781600401359384116101fa57602484830101116101fa576024019190565b346101fa57610351366102e8565b9250906103ab606061036561011184610aed565b60005490939061038b9061037f906001600160a01b031681565b6001600160a01b031690565b60405180809581946333854efd60e21b8352600483019190602083019252565b03915afa9283156105af57600094600092600095610572575b50906103d291810190610911565b92919390956000928086116000146104bf575061043561042d6104659461041b6103ff61043e958a610942565b6104108161040b610954565b610bb0565b602087015190610cbe565b906104288261040b610986565b6109b4565b965b856109c1565b958612156109da565b61044f8561044a6109f7565b610bfa565b61045c815161040b610a30565b51828685610b61565b936104728561044a610a53565b846013191292836104b4575b6101379394604051968796879260a094919796959260c08501981515855260208501526040840152606083015260808201520152565b60148612935061047e565b925050818611156105145761043e61043561050e6104fa6104e3610465968b610942565b6104ef8161040b610954565b602086015190610cbe565b6105068161040b610986565b845190610c8e565b9661042f565b60405162461bcd60e51b815260206004820152603060248201527f696e76616c696420737761703a20696e70757473207820616e6420792068617660448201526f65207468652073616d65207369676e2160801b6064820152608490fd5b90945061059d9195506103d2925060603d6060116105a8575b6105958183610191565b8101906108b0565b9195919490926103c4565b503d61058b565b610905565b346101fa576105c2366102e8565b600054919350906001600160a01b031633036106b95782906105e2610a8c565b508101039160c083126101fa578035916020820135916060604082013595605f1901126101fa5761067791600161066c6040519361061f85610154565b606081013580865260a06020870192608081013584520135610640816102d7565b6040870152610659856000526001602052604060002090565b5551926000526001602052604060002090565b015551848385610b61565b92836013191291826106ae575b6040805193151584526020840195909552938201929092526060810192909252608082015260a090f35b601485129250610684565b604051636853cba760e01b8152600490fd5b346101fa576106fc6101116106f26106776106e5366102e8565b9080929593500190610911565b9591949093610aed565b51848385610b61565b346101fa57610713366102e8565b6000549093906001600160a01b0390811633036106b95761075461037f6002610746876000526001602052604060002090565b01546001600160a01b031690565b9116036108425761076783820182610ab5565b61077081610acd565b600281036107a5575061078c610791916107a2939436916101b3565b610c51565b916000526001602052604060002090565b55005b6107ae81610acd565b600181036107e157506107cc61078c6107dd926001949536916101b3565b926000526001602052604060002090565b0155005b806107ed600392610acd565b036108305761080e6107cc61080960029361082e9636916101b3565b610c29565b0180546001600160a01b0319166001600160a01b03909216919091179055565b005b60405163235d2b3d60e01b8152600490fd5b604051636edaef2f60e11b8152600490fd5b346101fa5760003660031901126101fa576000546040516001600160a01b039091168152602090f35b346101fa5760203660031901126101fa5761013761089c600435610aed565b6040519182916020835260208301906101ff565b908160609103126101fa578051916040602083015192015190565b908160609103126101fa5760408051916108e483610154565b805183526020810151602084015201516108fd816102d7565b604082015290565b6040513d6000823e3d90fd5b908160609103126101fa578035916040602083013592013590565b634e487b7160e01b600052601160045260246000fd5b9190820391821161094f57565b61092c565b6040519061096182610175565b6016825275030b6b7bab73a24b71034b7103b30b634b230ba329d160551b6020830152565b6040519061099382610175565b601282527103332b2b99034b7103b30b634b230ba329d160751b6020830152565b9190820180921161094f57565b8181039291600013801582851316918412161761094f57565b156109e157565b634e487b7160e01b600052600160045260246000fd5b60405190610a0482610175565b601c82527f6c697175696469747944656c746120696e2076616c69646174653a20000000006020830152565b60405190610a3d82610175565b60078252660383934b1b29d160cd1b6020830152565b60405190610a6082610175565b601782527f696e76617269616e7420696e2076616c69646174653a200000000000000000006020830152565b60405190610a9982610154565b60006040838281528260208201520152565b600411156101fa57565b908160209103126101fa5735610aca81610aab565b90565b60041115610ad757565b634e487b7160e01b600052602160045260246000fd5b610af5610a8c565b90806000526001602052604090816000205483526000526001602052600181600020015491602081019283528151928151602085015251828401528160018060a01b0391015116606083015260608252608082019082821067ffffffffffffffff831117610170575290565b8293610b73610b7f94610b7993610c8e565b94610cbe565b90610c8e565b906000828201928312911290801582169115161761094f57670de0b6b3a763ffff19810190811360011661094f5790565b610bf3610bdf91610bf893604051938492632d839cb360e21b60208501526040602485015260648401906101ff565b90604483015203601f198101835282610191565b610c73565b565b610bf3610bdf91610bf893604051938492631e53134760e11b60208501526040602485015260648401906101ff565b6040818051810103126101fa5780610c4660206040930151610aab565b015161037f816102d7565b6040818051810103126101fa5780610c6e60206040930151610aab565b015190565b600080916020815191016a636f6e736f6c652e6c6f675afa50565b90670de0b6b3a764000091828102928184041490151781151516156101fa57600190600019830104019015150290565b8181029181830414901517600116156101fa576001670de0b6b3a764000060001983010401901515029056fea264697066735822122079499075bdd39583b9f30943004e2499fd0904e46091bbba750512bf0550406664736f6c63430008160033","sourceMap":"244:5985:39:-:0;;;;;;;;;;;;;-1:-1:-1;;244:5985:39;;;;-1:-1:-1;;;;;244:5985:39;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;244:5985:39;;;;;;;;-1:-1:-1;244:5985:39;;-1:-1:-1;;;;;;244:5985:39;;;;;;;;;;;;;;;;;-1:-1:-1;244:5985:39;;;;;;-1:-1:-1;244:5985:39;;;;;-1:-1:-1;244:5985:39","linkReferences":{}},"deployedBytecode":{"object":"0x6080604052600436101561001257600080fd5b6000803560e01c9081622e524b146100a95750806306fdde03146100a45780631edb71e51461009f57806368bd3e381461009a57806373cb2d03146100955780638a04bdd514610090578063acad29891461008b578063afba13c4146100865763dc1783551461008157600080fd5b61087d565b610854565b610705565b6106cb565b6105b4565b610343565b61028b565b61023f565b3461013b57604036600319011261013b576024359067ffffffffffffffff821161013b573660238301121561013b576101376101276101026100f3366004870135602488016101b3565b602080825183010191016108b0565b90610120610111600435610aed565b602080825183010191016108cb565b5192610b61565b6040519081529081906020820190565b0390f35b80fd5b634e487b7160e01b600052604160045260246000fd5b6060810190811067ffffffffffffffff82111761017057604052565b61013e565b6040810190811067ffffffffffffffff82111761017057604052565b90601f8019910116810190811067ffffffffffffffff82111761017057604052565b92919267ffffffffffffffff821161017057604051916101dd601f8201601f191660200184610191565b8294818452818301116101fa578281602093846000960137010152565b600080fd5b919082519283825260005b84811061022b575050826000602080949584010152601f8019910116010190565b60208183018101518483018201520161020a565b346101fa5760003660031901126101fa5761013760405161025f81610175565b600b81526a436f6e7374616e7453756d60a81b60208201526040519182916020835260208301906101ff565b346101fa5760203660031901126101fa57600435600052600160205260606040600020805490600181015490600260018060a01b03910154169060405192835260208301526040820152f35b6001600160a01b038116036101fa57565b9060606003198301126101fa57600435610301816102d7565b916024359160443567ffffffffffffffff928382116101fa57806023830112156101fa5781600401359384116101fa57602484830101116101fa576024019190565b346101fa57610351366102e8565b9250906103ab606061036561011184610aed565b60005490939061038b9061037f906001600160a01b031681565b6001600160a01b031690565b60405180809581946333854efd60e21b8352600483019190602083019252565b03915afa9283156105af57600094600092600095610572575b50906103d291810190610911565b92919390956000928086116000146104bf575061043561042d6104659461041b6103ff61043e958a610942565b6104108161040b610954565b610bb0565b602087015190610cbe565b906104288261040b610986565b6109b4565b965b856109c1565b958612156109da565b61044f8561044a6109f7565b610bfa565b61045c815161040b610a30565b51828685610b61565b936104728561044a610a53565b846013191292836104b4575b6101379394604051968796879260a094919796959260c08501981515855260208501526040840152606083015260808201520152565b60148612935061047e565b925050818611156105145761043e61043561050e6104fa6104e3610465968b610942565b6104ef8161040b610954565b602086015190610cbe565b6105068161040b610986565b845190610c8e565b9661042f565b60405162461bcd60e51b815260206004820152603060248201527f696e76616c696420737761703a20696e70757473207820616e6420792068617660448201526f65207468652073616d65207369676e2160801b6064820152608490fd5b90945061059d9195506103d2925060603d6060116105a8575b6105958183610191565b8101906108b0565b9195919490926103c4565b503d61058b565b610905565b346101fa576105c2366102e8565b600054919350906001600160a01b031633036106b95782906105e2610a8c565b508101039160c083126101fa578035916020820135916060604082013595605f1901126101fa5761067791600161066c6040519361061f85610154565b606081013580865260a06020870192608081013584520135610640816102d7565b6040870152610659856000526001602052604060002090565b5551926000526001602052604060002090565b015551848385610b61565b92836013191291826106ae575b6040805193151584526020840195909552938201929092526060810192909252608082015260a090f35b601485129250610684565b604051636853cba760e01b8152600490fd5b346101fa576106fc6101116106f26106776106e5366102e8565b9080929593500190610911565b9591949093610aed565b51848385610b61565b346101fa57610713366102e8565b6000549093906001600160a01b0390811633036106b95761075461037f6002610746876000526001602052604060002090565b01546001600160a01b031690565b9116036108425761076783820182610ab5565b61077081610acd565b600281036107a5575061078c610791916107a2939436916101b3565b610c51565b916000526001602052604060002090565b55005b6107ae81610acd565b600181036107e157506107cc61078c6107dd926001949536916101b3565b926000526001602052604060002090565b0155005b806107ed600392610acd565b036108305761080e6107cc61080960029361082e9636916101b3565b610c29565b0180546001600160a01b0319166001600160a01b03909216919091179055565b005b60405163235d2b3d60e01b8152600490fd5b604051636edaef2f60e11b8152600490fd5b346101fa5760003660031901126101fa576000546040516001600160a01b039091168152602090f35b346101fa5760203660031901126101fa5761013761089c600435610aed565b6040519182916020835260208301906101ff565b908160609103126101fa578051916040602083015192015190565b908160609103126101fa5760408051916108e483610154565b805183526020810151602084015201516108fd816102d7565b604082015290565b6040513d6000823e3d90fd5b908160609103126101fa578035916040602083013592013590565b634e487b7160e01b600052601160045260246000fd5b9190820391821161094f57565b61092c565b6040519061096182610175565b6016825275030b6b7bab73a24b71034b7103b30b634b230ba329d160551b6020830152565b6040519061099382610175565b601282527103332b2b99034b7103b30b634b230ba329d160751b6020830152565b9190820180921161094f57565b8181039291600013801582851316918412161761094f57565b156109e157565b634e487b7160e01b600052600160045260246000fd5b60405190610a0482610175565b601c82527f6c697175696469747944656c746120696e2076616c69646174653a20000000006020830152565b60405190610a3d82610175565b60078252660383934b1b29d160cd1b6020830152565b60405190610a6082610175565b601782527f696e76617269616e7420696e2076616c69646174653a200000000000000000006020830152565b60405190610a9982610154565b60006040838281528260208201520152565b600411156101fa57565b908160209103126101fa5735610aca81610aab565b90565b60041115610ad757565b634e487b7160e01b600052602160045260246000fd5b610af5610a8c565b90806000526001602052604090816000205483526000526001602052600181600020015491602081019283528151928151602085015251828401528160018060a01b0391015116606083015260608252608082019082821067ffffffffffffffff831117610170575290565b8293610b73610b7f94610b7993610c8e565b94610cbe565b90610c8e565b906000828201928312911290801582169115161761094f57670de0b6b3a763ffff19810190811360011661094f5790565b610bf3610bdf91610bf893604051938492632d839cb360e21b60208501526040602485015260648401906101ff565b90604483015203601f198101835282610191565b610c73565b565b610bf3610bdf91610bf893604051938492631e53134760e11b60208501526040602485015260648401906101ff565b6040818051810103126101fa5780610c4660206040930151610aab565b015161037f816102d7565b6040818051810103126101fa5780610c6e60206040930151610aab565b015190565b600080916020815191016a636f6e736f6c652e6c6f675afa50565b90670de0b6b3a764000091828102928184041490151781151516156101fa57600190600019830104019015150290565b8181029181830414901517600116156101fa576001670de0b6b3a764000060001983010401901515029056fea264697066735822122079499075bdd39583b9f30943004e2499fd0904e46091bbba750512bf0550406664736f6c63430008160033","sourceMap":"244:5985:39:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;:::i;:::-;;:::i;:::-;;:::i;:::-;;:::i;:::-;;:::i;:::-;;:::i;:::-;;;;;;-1:-1:-1;;244:5985:39;;;;;;;;;;;;;;;;;;;;;4026:186;3964:45;244:5985;;;;;;;;;;:::i;:::-;;;;;3964:45;;;;;;:::i;:::-;244:5985;4142:54;4153:21;244:5985;;4153:21;:::i;:::-;244:5985;;;;4142:54;;;;;;:::i;:::-;244:5985;4026:186;;:::i;:::-;244:5985;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;:::i;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;-1:-1:-1;;244:5985:39;;;;;:::i;:::-;;;;;;;;;;;;;;;;;-1:-1:-1;244:5985:39;;;;;;:::o;:::-;-1:-1:-1;244:5985:39;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;244:5985:39;;;;;;;;;;:::i;:::-;;;;-1:-1:-1;;;244:5985:39;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;-1:-1:-1;;244:5985:39;;;;;;-1:-1:-1;244:5985:39;731:56;244:5985;;;;-1:-1:-1;244:5985:39;;;731:56;;;;244:5985;;731:56;244:5985;;;;;731:56;;244:5985;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;244:5985:39;;;;;:::o;:::-;;;-1:-1:-1;;244:5985:39;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;:::i;:::-;2268:21;;;2387:43;;2257:54;2268:21;;;:::i;2257:54::-;-1:-1:-1;244:5985:39;;;;2387:35;;:11;;-1:-1:-1;;;;;244:5985:39;2387:11;244:5985;;-1:-1:-1;;;;;244:5985:39;;;2387:35;244:5985;;;;;;;;;;2387:43;;244:5985;2387:43;;244:5985;;;;;;;;2387:43;;;;;;;;;;-1:-1:-1;;;;;2387:43:39;;;244:5985;2467:45;;;;;;;;:::i;:::-;2523:25;;;;;-1:-1:-1;2610:16:39;;;;2606:684;2610:16;;;2653;3317:30;2853:25;3560:67;2653:16;799:19:18;2653:16:39;3357:51;2653:16;;;:::i;:::-;2683:48;244:5985;;;:::i;:::-;2683:48;:::i;:::-;2257:54;2770:14;;244:5985;799:19:18;;:::i;:::-;244:5985:39;2799:40;244:5985;;;:::i;2799:40::-;2853:25;:::i;:::-;2606:684;;3317:30;;:::i;:::-;3364:43;;;;3357:51;:::i;:::-;3419:60;244:5985;;;:::i;:::-;3419:60;:::i;:::-;3489:37;244:5985;;;;:::i;3489:37::-;244:5985;3560:67;;;;:::i;:::-;244:5985;3638:50;244:5985;;;:::i;3638:50::-;653:2:31;;;3706:20:39;:43;;;;2606:684;244:5985;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3706:43;653:2:31;3730:19:39;;;-1:-1:-1;3706:43:39;;2606:684;2899:16;-1:-1:-1;;2899:16:39;;;;;;3357:51;3317:30;1133:19:18;799;2942:16:39;3560:67;2942:16;;;:::i;:::-;2972:48;244:5985;;;:::i;2972:48::-;2257:54;3059:14;;244:5985;799:19:18;;:::i;:::-;3088:40:39;244:5985;;;:::i;3088:40::-;244:5985;;1133:19:18;;:::i;:::-;2895:395:39;2606:684;;2895:395;244:5985;;-1:-1:-1;;;3221:58:39;;244:5985;;3221:58;;244:5985;;;;;;;;;;;-1:-1:-1;;;244:5985:39;;;;;;3221:58;2387:43;;;;;;;;2467:45;2387:43;;;;;;;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;;;;;;;:::i;244:5985::-;;;;;;;:::i;:::-;-1:-1:-1;244:5985:39;;;-1:-1:-1;244:5985:39;-1:-1:-1;;;;;244:5985:39;890:10;:18;886:40;;244:5985;;;;:::i;:::-;;1363:64;;244:5985;;;;;;;;;;;;;;;;;;;;;;;;;;;1621:102;244:5985;1438:14;1491:22;244:5985;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;1438:22;;244:5985;;1438:14;244:5985;;;;;;;1438:22;244:5985;;1491:22;244:5985;;1438:14;244:5985;;;;;;;1491:22;:30;244:5985;;1621:102;;;;:::i;:::-;653:2:31;;;;1742:20:39;:43;;;;244:5985;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1742:43;653:2:31;1766:19:39;;;-1:-1:-1;1742:43:39;;886:40;244:5985;;-1:-1:-1;;;917:9:39;;244:5985;;917:9;244:5985;;;;4840:54;4851:21;4656:45;4724:186;244:5985;;;:::i;:::-;4656:45;;;;;;;;;:::i;:::-;4851:21;;;;;;:::i;4840:54::-;244:5985;4724:186;;;;:::i;244:5985::-;;;;;;;:::i;:::-;904:4;244:5985;;;;-1:-1:-1;;;;;244:5985:39;;;890:10;:18;886:40;;5116:43;5126:33;;:22;;244:5985;;1438:14;244:5985;;;;;;;5126:22;:33;244:5985;-1:-1:-1;;;;;244:5985:39;;;5116:43;244:5985;;5116:43;5112:71;;5255:56;;;;;;:::i;:::-;244:5985;;;:::i;:::-;5126:33;5326:56;;5126:33;;244:5985;;5445:38;244:5985;5398:22;244:5985;;;;;:::i;:::-;5445:38;:::i;:::-;5398:22;244:5985;;1438:14;244:5985;;;;;;;5398:22;244:5985;;5322:624;244:5985;;;:::i;:::-;5126:14;5504:58;;5126:14;;244:5985;5627:36;244:5985;5578:22;244:5985;5126:14;244:5985;;;;;:::i;5627:36::-;5578:22;244:5985;;1438:14;244:5985;;;;;;;5578:22;:30;244:5985;;5500:446;244:5985;;5711:47;244:5985;;:::i;:::-;5697:61;5711:47;;5783:22;5835:43;244:5985;5126:33;244:5985;5783:95;244:5985;;;;:::i;:::-;5835:43;:::i;5783:22::-;:33;244:5985;;-1:-1:-1;;;;;;244:5985:39;-1:-1:-1;;;;;244:5985:39;;;;;;;;;;5783:95;244:5985;5680:266;244:5985;;-1:-1:-1;;;5916:19:39;;244:5985;;5916:19;5112:71;244:5985;;-1:-1:-1;;;5168:15:39;;244:5985;;5168:15;244:5985;;;;;;-1:-1:-1;;244:5985:39;;;;;;;;-1:-1:-1;;;;;244:5985:39;;;;;;;;;;;;;;-1:-1:-1;;244:5985:39;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;-1:-1:-1;;;244:5985:39;;;;:::o;:::-;;;;;;;:::i;:::-;;;;-1:-1:-1;;;244:5985:39;;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;;;-1:-1:-1;244:5985:39;;;;;;;;;;;;;:::o;:::-;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;:::o;:::-;;;;;;;:::i;:::-;;;;-1:-1:-1;;;244:5985:39;;;;:::o;:::-;;;;;;;:::i;:::-;;;;;;;;;:::o;:::-;;;;;;;:::i;:::-;-1:-1:-1;244:5985:39;;;;;;;;;;;;:::o;:::-;;-1:-1:-1;244:5985:39;;;:::o;:::-;;;;;;;;;;;;;:::i;:::-;;:::o;:::-;;-1:-1:-1;244:5985:39;;;:::o;:::-;;;;;;;;;;;;5958:269;244:5985;;:::i;:::-;;;-1:-1:-1;244:5985:39;6099:14;244:5985;;;;;-1:-1:-1;244:5985:39;;;;-1:-1:-1;244:5985:39;6099:14;244:5985;;6099:14;244:5985;-1:-1:-1;244:5985:39;6154:30;244:5985;6137:14;244:5985;6137:14;;244:5985;;;;;;;;;6202:18;;244:5985;;;;;;;;;;;;;;;;;;;;;6202:18;;244:5985;;;;;;;;;;;;;;5958:269;:::o;1607:332:40:-;;;1133:19:18;;1607:332:40;799:19:18;1607:332:40;1133:19:18;:::i;:::-;799;;:::i;:::-;1133;;:::i;:::-;244:5985:39;-1:-1:-1;244:5985:39;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1607:332:40;:::o;7176:145:14:-;7259:54;244:5985:39;7176:145:14;7259:54;7176:145;244:5985:39;;7259:54:14;;;;;;;;;;244:5985:39;7259:54:14;;;244:5985:39;;;;;;:::i;:::-;;;;;;7259:54:14;244:5985:39;;7259:54:14;;;;;;:::i;:::-;;:::i;:::-;7176:145::o;7327:143::-;7409:53;244:5985:39;7327:143:14;7409:53;7327:143;244:5985:39;;7409:53:14;;;;;;;;;;244:5985:39;7409:53:14;;;244:5985:39;;;;;;:::i;1359:242:40:-;244:5985:39;;;;1517:50:40;;244:5985:39;;;;1517:50:40;244:5985:39;1517:50:40;244:5985:39;1517:50:40;;244:5985:39;;:::i;:::-;;;;;;:::i;541:217:40:-;244:5985:39;;;;677:50:40;;244:5985:39;;;;677:50:40;244:5985:39;677:50:40;244:5985:39;677:50:40;;244:5985:39;;:::i;:::-;;;541:217:40;:::o;641:376:14:-;852:159;641:376;;852:159;244:5985:39;;852:159:14;;591:42;852:159;;;641:376::o;8282:752:18:-;;378:4:31;8417:611:18;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8282:752;:::o;:::-;8417:611;;;;;;;;;;;;;;;;;378:4:31;8417:611:18;;;;;;;;;;8282:752;:::o","linkReferences":{}},"methodIdentifiers":{"computeSwapConstant(uint256,bytes)":"002e524b","dfmm()":"afba13c4","getPoolParams(uint256)":"dc178355","init(address,uint256,bytes)":"73cb2d03","internalParams(uint256)":"1edb71e5","name()":"06fdde03","update(address,uint256,bytes)":"acad2989","validateAllocateOrDeallocate(address,uint256,bytes)":"8a04bdd5","validateSwap(address,uint256,bytes)":"68bd3e38"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.22+commit.4fc1097e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"dfmm_\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"InvalidSender\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidUpdateCode\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotDFMM\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"poolId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"computeSwapConstant\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"dfmm\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"poolId\",\"type\":\"uint256\"}],\"name\":\"getPoolParams\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"poolId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"init\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"valid\",\"type\":\"bool\"},{\"internalType\":\"int256\",\"name\":\"invariant\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"reserveX\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"reserveY\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalLiquidity\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"internalParams\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"swapFee\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"controller\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"poolId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"update\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"poolId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"validateAllocateOrDeallocate\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"valid\",\"type\":\"bool\"},{\"internalType\":\"int256\",\"name\":\"invariant\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"reserveX\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"reserveY\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalLiquidity\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"poolId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"validateSwap\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"valid\",\"type\":\"bool\"},{\"internalType\":\"int256\",\"name\":\"invariant\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"liquidityDelta\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"nextRx\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nextRy\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nextL\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"errors\":{\"InvalidSender()\":[{\"details\":\"Thrown when the sender is authorized.\"}],\"InvalidUpdateCode()\":[{\"details\":\"Thrown when the update code is invalid.\"}],\"NotDFMM()\":[{\"details\":\"Thrown when the sender is not the DFMM contract.\"}]},\"kind\":\"dev\",\"methods\":{},\"stateVariables\":{\"name\":{\"details\":\"The name of the strategy is included in the name of the liquidity token.\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"name()\":{\"notice\":\"Returns the name of the strategy.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/strategies/ConstantSum/ConstantSum.sol\":\"ConstantSum\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":ds-test/=lib/solstat/lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/solstat/lib/forge-std/src/\",\":solmate/=lib/solstat/lib/solmate/src/\",\":solstat/=lib/solstat/src/\"],\"viaIR\":true},\"sources\":{\"lib/solstat/lib/forge-std/lib/ds-test/src/test.sol\":{\"keccak256\":\"0xb39cd1d5220cb474947b131e15a4538334b7e886af244b440ae5c9c6bba96a54\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://3101520221449ac0070bda3881311a71d9aa87e5210765e875246922cb5cb5f5\",\"dweb:/ipfs/Qmbg6kAHNoG7ox9N9Xqd9Ere2H2XixMFWFqvyPwFCzB3Gr\"]},\"lib/solstat/lib/forge-std/src/Base.sol\":{\"keccak256\":\"0x7f6016716c0c6f49e8163af625290c7ef270a045d9b82be04e269035726d3213\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bd050537b58640f8545b319928ee66bef9649d1ebd68a3afa1d28a1ce8cea3dd\",\"dweb:/ipfs/QmbBVxERnZ2ciQuRuZ45czd2DRgouCLEhibLWtC2CrH2j4\"]},\"lib/solstat/lib/forge-std/src/StdAssertions.sol\":{\"keccak256\":\"0x9d53fb0317c888ed0ef4a8476883d4304f5e7e6fa0161d84d18fa27a63875524\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9638e9a042f5b7695953ea394072f90b814ac98312e447f45c4f2f6cdb22c3ec\",\"dweb:/ipfs/QmPvKu8hyzB2og54Lecmb2DvEiAgM9o5UC2gGgRQJ42PQw\"]},\"lib/solstat/lib/forge-std/src/StdChains.sol\":{\"keccak256\":\"0xd9f9791f56c2afcd841237417d5a55fa8b69de2c1b528ddbfc7d7823fe136606\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f66271850d38488984ec1e38aeb57df1cda53538b2ddd19e2164c767792905f0\",\"dweb:/ipfs/QmetNJMTfgJ7SCNMwfLrZEwnL3xdNaBY5vMiqrRrUWjjes\"]},\"lib/solstat/lib/forge-std/src/StdCheats.sol\":{\"keccak256\":\"0x94d97a78c720a10212552c5f7f27c61ea58eb027bd51dd054efae6925e785269\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://563fd7373c84d700606fc113d535b1a103e7bad4b0412e6cb515d927fb8f57bc\",\"dweb:/ipfs/QmQEjP2DXCXRC4bxXPonLfF8cq1UvMhdQu5X1JynPntvio\"]},\"lib/solstat/lib/forge-std/src/StdError.sol\":{\"keccak256\":\"0xbf477b11a42d7611696956546bcfaa29317d1166bf65e402344599c05943fc77\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bc2e117d1135e030862b96a6526a43feb38d396cc79857f1fb696d4eff0e5fd6\",\"dweb:/ipfs/QmdSuQ5RrQudTLsNmWXGEeVJX8gR5U9XPm6m4dwwuQnJrj\"]},\"lib/solstat/lib/forge-std/src/StdJson.sol\":{\"keccak256\":\"0x113bce4d6d0fe7c4e1e3bf2760ba21c075448660a8dae6003f27b9ff86890612\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8c8a169ea47398b475696e66d07e354d9997680b5f954418caeeaec5427a131f\",\"dweb:/ipfs/QmSTK6XmjgYZ2CCGZ87AVTowNL3UWfRvqhT6DTbZoKyJzz\"]},\"lib/solstat/lib/forge-std/src/StdMath.sol\":{\"keccak256\":\"0xd90ad4fd8aeaeb8929964e686e769fdedd5eded3fc3815df194a0ab9f91a3fb2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7919b70f636c7b805223992f28ad1ad0145d6c1385b5931a3589aface5fe6c92\",\"dweb:/ipfs/QmY7FRaULwoGgFteF8GawjQJRfasNgpWnU2aiMsFrYpuTC\"]},\"lib/solstat/lib/forge-std/src/StdStorage.sol\":{\"keccak256\":\"0xb31c4ee03d05c6202f6e354245ac3ab883d954f9f36074902089e1b3e645273d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://33bd98bde50b840b8d7d5cebf818176b9f219345078ed5d3bd0071f035efb2e3\",\"dweb:/ipfs/QmPYC7FZvCWCPF2qWg6TXXTTPGEdnT4y5nebPn1AoZ1H4p\"]},\"lib/solstat/lib/forge-std/src/StdUtils.sol\":{\"keccak256\":\"0xc3222299fd637498c81ab5c8e15c9327289d3708fb8a7063dd10a55a8813c9cf\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b6f5f818e75e8ae5a67b58cff9b351dd790a72d0a5332fb6f425a3561801b6cc\",\"dweb:/ipfs/QmXJEPtMM1AzwCh6u1o1wL2xdi1qRyxsTLt1eVgeC8Y1QH\"]},\"lib/solstat/lib/forge-std/src/Test.sol\":{\"keccak256\":\"0xb7004fe1ceab4a20ae13baec8732a5414b28d5ddb06f9f4184b49c1fc1d61521\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5a60b5d84bd7d7e455f4a1ca1d260f6b50c419e4c4e7196ef32fd77d0f480d51\",\"dweb:/ipfs/QmYwRMAYYsQuvvM4mnagYs8Zhqm5VXicXmxoqEvkiUzQSd\"]},\"lib/solstat/lib/forge-std/src/Vm.sol\":{\"keccak256\":\"0xfd793ebfb854f707ccf9dfec320b3b75d0d73ba54af0dfae727862fe93bc1cfd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9a0a39917aabf39d981b17d1a06c9b82377917c3a0eedce8e9dc00df5c096bf9\",\"dweb:/ipfs/Qme7GpiHd32FFKYNbY4vdhiiciWPV1z1Uwtj1KDQAusxki\"]},\"lib/solstat/lib/forge-std/src/console.sol\":{\"keccak256\":\"0x91d5413c2434ca58fd278b6e1e79fd98d10c83931cc2596a6038eee4daeb34ba\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://91ccea707361e48b9b7a161fe81f496b9932bc471e9c4e4e1e9c283f2453cc70\",\"dweb:/ipfs/QmcB66sZhQ6Kz7MUHcLE78YXRUZxoZnnxZjN6yATsbB2ec\"]},\"lib/solstat/lib/forge-std/src/console2.sol\":{\"keccak256\":\"0xcd5706f5a7025825d9fd389c89b49bf571f9abaea8a062dc4048320b5b43bf46\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c066485a7d4bd18d44efb4c89274b0959e8066b9a480383a2ce07d7f31555f88\",\"dweb:/ipfs/QmckeYfA5FtAjcxaytq69Dpj6uY57tbQ61kNPPxXi9kgbW\"]},\"lib/solstat/lib/solmate/src/utils/FixedPointMathLib.sol\":{\"keccak256\":\"0x0bf1d4f3999a4471e0fded0a2f67e7fe328e2a27385348571b1fc0a8d9c9f62e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://737232ccd46bfbe6f34a3e5bc24c345777da47e6ea27bcc46d2c3931883c2257\",\"dweb:/ipfs/QmeA6ikG9dQKZgkJYUVGXcApuCii34h7qtmguToRdSU3qZ\"]},\"lib/solstat/src/Gaussian.sol\":{\"keccak256\":\"0x6d8461cfbbcd52f15b35af8e5d3fdf67a544bcf3a20db2e00fdfee9f538489ec\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://169aac115f217f00d741e3b63413df28f540e33d3b628a6f42a5ef4ed8af8bd9\",\"dweb:/ipfs/QmTHwgyiPgygMWnW5vTem1ARicssoBNw69ASMrCdgEPdKs\"]},\"lib/solstat/src/Units.sol\":{\"keccak256\":\"0x7bd75c8513c11a58e3afd88cc083318e27453ae5545db3023b07de2cd0a672a5\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0ae27dbbd82b4dea4afb0caf04dcab5bcea62790e46b785bd752a11e98d0fc1e\",\"dweb:/ipfs/QmbF9xjLJSE6h3v1qMVYhBYY1PksgfgBkVMhefsxrA8cP2\"]},\"src/interfaces/IDFMM.sol\":{\"keccak256\":\"0xd5b5452996dda5edf737d0aff0753b241d5209af867cf21d235288b2786b6826\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://35b24ba013cf67d1d887abf1872f18fe91dc8951c21470590a4341c82e5af1ad\",\"dweb:/ipfs/QmSHMfk6v8Z9UmDmfzKGezJqbgV4nostapBfMJiqG67Syv\"]},\"src/interfaces/IStrategy.sol\":{\"keccak256\":\"0xffe5e42cb4b35fcd34eec76c3af4f71b806ff818d3ef29d1bb88854dc987b1c9\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://d3416b7a2ffeba44c08e99829fa36a51141feed449077f263e4c08bb0e9ed4ca\",\"dweb:/ipfs/QmYKj3Q5uQ1TojRp6urNQFJXadVwDeQqms8MHaMGXy5DGS\"]},\"src/lib/DynamicParamLib.sol\":{\"keccak256\":\"0x3b6e3212336e9ea98f15dedd38ba356e3ca97e3a10cb2fdb11df0056fc40126a\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://9bddae3638de314e1c0046caf4974e65f6e68e64a3dd31fe5cf0330e9ebdf7d5\",\"dweb:/ipfs/QmNPhHmQ68apS4eWvYBHe17qeSEQicgcAUkCfHC9KaLzDJ\"]},\"src/lib/StrategyLib.sol\":{\"keccak256\":\"0xd85613792edcfb6ae0d3514b24ae556fb00ea626ab5b8b4e74a49b33b639fb6c\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://5b11c21bd4c718d0430363807b7bcc145133382e1480129e1bbffcba178365cc\",\"dweb:/ipfs/QmduNUCbUJJnxy75fuewpwX2GuwYb56ji44usYtEA5rnFd\"]},\"src/strategies/ConstantSum/ConstantSum.sol\":{\"keccak256\":\"0xb842f20507e6dcc6751ca5a7e902b3a71376bacd6ccb732c36369ec42b80293b\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://3e8eab1244452c527e995512bf2be44809de0dff09f9c675a9aa65dee5e85fe5\",\"dweb:/ipfs/QmfHn6yjWUhrVbKwSA6hZ1xpCXd5zFjgkGoKv6jqPdjnbK\"]},\"src/strategies/ConstantSum/ConstantSumLib.sol\":{\"keccak256\":\"0xbecc63accf7f1015ad2e60521f9c91f03b2692493e93b936e3939a1619f51c2a\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://2cbb36900fbcd271029f9659731988e3c401d01f19ab9a3b7ce182153918dc66\",\"dweb:/ipfs/QmZS3YyfNRdwndyb8njoByb7qVbAKEbo6DgejmUdNAfkwv\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.22+commit.4fc1097e"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"dfmm_","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"InvalidSender"},{"inputs":[],"type":"error","name":"InvalidUpdateCode"},{"inputs":[],"type":"error","name":"NotDFMM"},{"inputs":[{"internalType":"uint256","name":"poolId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"stateMutability":"view","type":"function","name":"computeSwapConstant","outputs":[{"internalType":"int256","name":"","type":"int256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"dfmm","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"poolId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getPoolParams","outputs":[{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"poolId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"init","outputs":[{"internalType":"bool","name":"valid","type":"bool"},{"internalType":"int256","name":"invariant","type":"int256"},{"internalType":"uint256","name":"reserveX","type":"uint256"},{"internalType":"uint256","name":"reserveY","type":"uint256"},{"internalType":"uint256","name":"totalLiquidity","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"internalParams","outputs":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"},{"internalType":"address","name":"controller","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"name","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"poolId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"update"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"poolId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"stateMutability":"view","type":"function","name":"validateAllocateOrDeallocate","outputs":[{"internalType":"bool","name":"valid","type":"bool"},{"internalType":"int256","name":"invariant","type":"int256"},{"internalType":"uint256","name":"reserveX","type":"uint256"},{"internalType":"uint256","name":"reserveY","type":"uint256"},{"internalType":"uint256","name":"totalLiquidity","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"poolId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"stateMutability":"view","type":"function","name":"validateSwap","outputs":[{"internalType":"bool","name":"valid","type":"bool"},{"internalType":"int256","name":"invariant","type":"int256"},{"internalType":"int256","name":"liquidityDelta","type":"int256"},{"internalType":"uint256","name":"nextRx","type":"uint256"},{"internalType":"uint256","name":"nextRy","type":"uint256"},{"internalType":"uint256","name":"nextL","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{"name()":{"notice":"Returns the name of the strategy."}},"version":1}},"settings":{"remappings":["ds-test/=lib/solstat/lib/forge-std/lib/ds-test/src/","forge-std/=lib/solstat/lib/forge-std/src/","solmate/=lib/solstat/lib/solmate/src/","solstat/=lib/solstat/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/strategies/ConstantSum/ConstantSum.sol":"ConstantSum"},"evmVersion":"paris","libraries":{},"viaIR":true},"sources":{"lib/solstat/lib/forge-std/lib/ds-test/src/test.sol":{"keccak256":"0xb39cd1d5220cb474947b131e15a4538334b7e886af244b440ae5c9c6bba96a54","urls":["bzz-raw://3101520221449ac0070bda3881311a71d9aa87e5210765e875246922cb5cb5f5","dweb:/ipfs/Qmbg6kAHNoG7ox9N9Xqd9Ere2H2XixMFWFqvyPwFCzB3Gr"],"license":"GPL-3.0-or-later"},"lib/solstat/lib/forge-std/src/Base.sol":{"keccak256":"0x7f6016716c0c6f49e8163af625290c7ef270a045d9b82be04e269035726d3213","urls":["bzz-raw://bd050537b58640f8545b319928ee66bef9649d1ebd68a3afa1d28a1ce8cea3dd","dweb:/ipfs/QmbBVxERnZ2ciQuRuZ45czd2DRgouCLEhibLWtC2CrH2j4"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdAssertions.sol":{"keccak256":"0x9d53fb0317c888ed0ef4a8476883d4304f5e7e6fa0161d84d18fa27a63875524","urls":["bzz-raw://9638e9a042f5b7695953ea394072f90b814ac98312e447f45c4f2f6cdb22c3ec","dweb:/ipfs/QmPvKu8hyzB2og54Lecmb2DvEiAgM9o5UC2gGgRQJ42PQw"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdChains.sol":{"keccak256":"0xd9f9791f56c2afcd841237417d5a55fa8b69de2c1b528ddbfc7d7823fe136606","urls":["bzz-raw://f66271850d38488984ec1e38aeb57df1cda53538b2ddd19e2164c767792905f0","dweb:/ipfs/QmetNJMTfgJ7SCNMwfLrZEwnL3xdNaBY5vMiqrRrUWjjes"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdCheats.sol":{"keccak256":"0x94d97a78c720a10212552c5f7f27c61ea58eb027bd51dd054efae6925e785269","urls":["bzz-raw://563fd7373c84d700606fc113d535b1a103e7bad4b0412e6cb515d927fb8f57bc","dweb:/ipfs/QmQEjP2DXCXRC4bxXPonLfF8cq1UvMhdQu5X1JynPntvio"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdError.sol":{"keccak256":"0xbf477b11a42d7611696956546bcfaa29317d1166bf65e402344599c05943fc77","urls":["bzz-raw://bc2e117d1135e030862b96a6526a43feb38d396cc79857f1fb696d4eff0e5fd6","dweb:/ipfs/QmdSuQ5RrQudTLsNmWXGEeVJX8gR5U9XPm6m4dwwuQnJrj"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdJson.sol":{"keccak256":"0x113bce4d6d0fe7c4e1e3bf2760ba21c075448660a8dae6003f27b9ff86890612","urls":["bzz-raw://8c8a169ea47398b475696e66d07e354d9997680b5f954418caeeaec5427a131f","dweb:/ipfs/QmSTK6XmjgYZ2CCGZ87AVTowNL3UWfRvqhT6DTbZoKyJzz"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdMath.sol":{"keccak256":"0xd90ad4fd8aeaeb8929964e686e769fdedd5eded3fc3815df194a0ab9f91a3fb2","urls":["bzz-raw://7919b70f636c7b805223992f28ad1ad0145d6c1385b5931a3589aface5fe6c92","dweb:/ipfs/QmY7FRaULwoGgFteF8GawjQJRfasNgpWnU2aiMsFrYpuTC"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdStorage.sol":{"keccak256":"0xb31c4ee03d05c6202f6e354245ac3ab883d954f9f36074902089e1b3e645273d","urls":["bzz-raw://33bd98bde50b840b8d7d5cebf818176b9f219345078ed5d3bd0071f035efb2e3","dweb:/ipfs/QmPYC7FZvCWCPF2qWg6TXXTTPGEdnT4y5nebPn1AoZ1H4p"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdUtils.sol":{"keccak256":"0xc3222299fd637498c81ab5c8e15c9327289d3708fb8a7063dd10a55a8813c9cf","urls":["bzz-raw://b6f5f818e75e8ae5a67b58cff9b351dd790a72d0a5332fb6f425a3561801b6cc","dweb:/ipfs/QmXJEPtMM1AzwCh6u1o1wL2xdi1qRyxsTLt1eVgeC8Y1QH"],"license":"MIT"},"lib/solstat/lib/forge-std/src/Test.sol":{"keccak256":"0xb7004fe1ceab4a20ae13baec8732a5414b28d5ddb06f9f4184b49c1fc1d61521","urls":["bzz-raw://5a60b5d84bd7d7e455f4a1ca1d260f6b50c419e4c4e7196ef32fd77d0f480d51","dweb:/ipfs/QmYwRMAYYsQuvvM4mnagYs8Zhqm5VXicXmxoqEvkiUzQSd"],"license":"MIT"},"lib/solstat/lib/forge-std/src/Vm.sol":{"keccak256":"0xfd793ebfb854f707ccf9dfec320b3b75d0d73ba54af0dfae727862fe93bc1cfd","urls":["bzz-raw://9a0a39917aabf39d981b17d1a06c9b82377917c3a0eedce8e9dc00df5c096bf9","dweb:/ipfs/Qme7GpiHd32FFKYNbY4vdhiiciWPV1z1Uwtj1KDQAusxki"],"license":"MIT"},"lib/solstat/lib/forge-std/src/console.sol":{"keccak256":"0x91d5413c2434ca58fd278b6e1e79fd98d10c83931cc2596a6038eee4daeb34ba","urls":["bzz-raw://91ccea707361e48b9b7a161fe81f496b9932bc471e9c4e4e1e9c283f2453cc70","dweb:/ipfs/QmcB66sZhQ6Kz7MUHcLE78YXRUZxoZnnxZjN6yATsbB2ec"],"license":"MIT"},"lib/solstat/lib/forge-std/src/console2.sol":{"keccak256":"0xcd5706f5a7025825d9fd389c89b49bf571f9abaea8a062dc4048320b5b43bf46","urls":["bzz-raw://c066485a7d4bd18d44efb4c89274b0959e8066b9a480383a2ce07d7f31555f88","dweb:/ipfs/QmckeYfA5FtAjcxaytq69Dpj6uY57tbQ61kNPPxXi9kgbW"],"license":"MIT"},"lib/solstat/lib/solmate/src/utils/FixedPointMathLib.sol":{"keccak256":"0x0bf1d4f3999a4471e0fded0a2f67e7fe328e2a27385348571b1fc0a8d9c9f62e","urls":["bzz-raw://737232ccd46bfbe6f34a3e5bc24c345777da47e6ea27bcc46d2c3931883c2257","dweb:/ipfs/QmeA6ikG9dQKZgkJYUVGXcApuCii34h7qtmguToRdSU3qZ"],"license":"MIT"},"lib/solstat/src/Gaussian.sol":{"keccak256":"0x6d8461cfbbcd52f15b35af8e5d3fdf67a544bcf3a20db2e00fdfee9f538489ec","urls":["bzz-raw://169aac115f217f00d741e3b63413df28f540e33d3b628a6f42a5ef4ed8af8bd9","dweb:/ipfs/QmTHwgyiPgygMWnW5vTem1ARicssoBNw69ASMrCdgEPdKs"],"license":"MIT"},"lib/solstat/src/Units.sol":{"keccak256":"0x7bd75c8513c11a58e3afd88cc083318e27453ae5545db3023b07de2cd0a672a5","urls":["bzz-raw://0ae27dbbd82b4dea4afb0caf04dcab5bcea62790e46b785bd752a11e98d0fc1e","dweb:/ipfs/QmbF9xjLJSE6h3v1qMVYhBYY1PksgfgBkVMhefsxrA8cP2"],"license":"MIT"},"src/interfaces/IDFMM.sol":{"keccak256":"0xd5b5452996dda5edf737d0aff0753b241d5209af867cf21d235288b2786b6826","urls":["bzz-raw://35b24ba013cf67d1d887abf1872f18fe91dc8951c21470590a4341c82e5af1ad","dweb:/ipfs/QmSHMfk6v8Z9UmDmfzKGezJqbgV4nostapBfMJiqG67Syv"],"license":"GPL-3.0-or-later"},"src/interfaces/IStrategy.sol":{"keccak256":"0xffe5e42cb4b35fcd34eec76c3af4f71b806ff818d3ef29d1bb88854dc987b1c9","urls":["bzz-raw://d3416b7a2ffeba44c08e99829fa36a51141feed449077f263e4c08bb0e9ed4ca","dweb:/ipfs/QmYKj3Q5uQ1TojRp6urNQFJXadVwDeQqms8MHaMGXy5DGS"],"license":"GPL-3.0-or-later"},"src/lib/DynamicParamLib.sol":{"keccak256":"0x3b6e3212336e9ea98f15dedd38ba356e3ca97e3a10cb2fdb11df0056fc40126a","urls":["bzz-raw://9bddae3638de314e1c0046caf4974e65f6e68e64a3dd31fe5cf0330e9ebdf7d5","dweb:/ipfs/QmNPhHmQ68apS4eWvYBHe17qeSEQicgcAUkCfHC9KaLzDJ"],"license":"GPL-3.0-or-later"},"src/lib/StrategyLib.sol":{"keccak256":"0xd85613792edcfb6ae0d3514b24ae556fb00ea626ab5b8b4e74a49b33b639fb6c","urls":["bzz-raw://5b11c21bd4c718d0430363807b7bcc145133382e1480129e1bbffcba178365cc","dweb:/ipfs/QmduNUCbUJJnxy75fuewpwX2GuwYb56ji44usYtEA5rnFd"],"license":"GPL-3.0-or-later"},"src/strategies/ConstantSum/ConstantSum.sol":{"keccak256":"0xb842f20507e6dcc6751ca5a7e902b3a71376bacd6ccb732c36369ec42b80293b","urls":["bzz-raw://3e8eab1244452c527e995512bf2be44809de0dff09f9c675a9aa65dee5e85fe5","dweb:/ipfs/QmfHn6yjWUhrVbKwSA6hZ1xpCXd5zFjgkGoKv6jqPdjnbK"],"license":"GPL-3.0-or-later"},"src/strategies/ConstantSum/ConstantSumLib.sol":{"keccak256":"0xbecc63accf7f1015ad2e60521f9c91f03b2692493e93b936e3939a1619f51c2a","urls":["bzz-raw://2cbb36900fbcd271029f9659731988e3c401d01f19ab9a3b7ce182153918dc66","dweb:/ipfs/QmZS3YyfNRdwndyb8njoByb7qVbAKEbo6DgejmUdNAfkwv"],"license":"GPL-3.0-or-later"}},"version":1},"ast":{"absolutePath":"src/strategies/ConstantSum/ConstantSum.sol","id":37072,"exportedSymbols":{"ConstantSum":[37071],"ConstantSumLib":[37235],"DSTest":[1786],"DynamicParam":[29851],"DynamicParamLib":[30012],"EPSILON":[30665],"FixedPointMathLib":[26640],"Gaussian":[27374],"HALF":[30636],"IDFMM":[29730],"INFINITY_IS_NOT_REAL":[30646],"IStrategy":[29839],"I_ONE":[30655],"I_TWO":[30661],"Min":[27736],"ONE":[30639],"SQRT_WAD":[30630],"StdAssertions":[2708],"StdChains":[3244],"StdCheats":[5181],"StdStorage":[6088],"StdUtils":[8153],"TWO":[30633],"Test":[8195],"TestBase":[1843],"Vm":[9352],"ZERO":[30649],"abs":[27763],"computeAllocationGivenX":[30723],"computeAllocationGivenY":[30775],"console":[17416],"console2":[25512],"diviWad":[27813],"muli":[27777],"muliWad":[27795],"stdError":[5247],"stdJson":[5914],"stdMath":[6056],"stdStorage":[7522]},"nodeType":"SourceUnit","src":"45:6185:39","nodes":[{"id":36462,"nodeType":"PragmaDirective","src":"45:24:39","nodes":[],"literals":["solidity","^","0.8",".13"]},{"id":36463,"nodeType":"ImportDirective","src":"71:34:39","nodes":[],"absolutePath":"src/interfaces/IDFMM.sol","file":"src/interfaces/IDFMM.sol","nameLocation":"-1:-1:-1","scope":37072,"sourceUnit":29731,"symbolAliases":[],"unitAlias":""},{"id":36464,"nodeType":"ImportDirective","src":"106:38:39","nodes":[],"absolutePath":"src/interfaces/IStrategy.sol","file":"src/interfaces/IStrategy.sol","nameLocation":"-1:-1:-1","scope":37072,"sourceUnit":29840,"symbolAliases":[],"unitAlias":""},{"id":36465,"nodeType":"ImportDirective","src":"145:37:39","nodes":[],"absolutePath":"src/lib/DynamicParamLib.sol","file":"src/lib/DynamicParamLib.sol","nameLocation":"-1:-1:-1","scope":37072,"sourceUnit":30013,"symbolAliases":[],"unitAlias":""},{"id":36466,"nodeType":"ImportDirective","src":"183:30:39","nodes":[],"absolutePath":"src/strategies/ConstantSum/ConstantSumLib.sol","file":"./ConstantSumLib.sol","nameLocation":"-1:-1:-1","scope":37072,"sourceUnit":37236,"symbolAliases":[],"unitAlias":""},{"id":36467,"nodeType":"ImportDirective","src":"214:28:39","nodes":[],"absolutePath":"lib/solstat/lib/forge-std/src/Test.sol","file":"forge-std/Test.sol","nameLocation":"-1:-1:-1","scope":37072,"sourceUnit":8196,"symbolAliases":[],"unitAlias":""},{"id":37071,"nodeType":"ContractDefinition","src":"244:5985:39","nodes":[{"id":36472,"nodeType":"UsingForDirective","src":"284:36:39","nodes":[],"global":false,"libraryName":{"id":36470,"name":"FixedPointMathLib","nameLocations":["290:17:39"],"nodeType":"IdentifierPath","referencedDeclaration":26640,"src":"290:17:39"},"typeName":{"id":36471,"name":"uint256","nodeType":"ElementaryTypeName","src":"312:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":36476,"nodeType":"UsingForDirective","src":"325:39:39","nodes":[],"global":false,"libraryName":{"id":36473,"name":"DynamicParamLib","nameLocations":["331:15:39"],"nodeType":"IdentifierPath","referencedDeclaration":30012,"src":"331:15:39"},"typeName":{"id":36475,"nodeType":"UserDefinedTypeName","pathNode":{"id":36474,"name":"DynamicParam","nameLocations":["351:12:39"],"nodeType":"IdentifierPath","referencedDeclaration":29851,"src":"351:12:39"},"referencedDeclaration":29851,"src":"351:12:39","typeDescriptions":{"typeIdentifier":"t_struct$_DynamicParam_$29851_storage_ptr","typeString":"struct DynamicParam"}}},{"id":36483,"nodeType":"StructDefinition","src":"370:105:39","nodes":[],"canonicalName":"ConstantSum.InternalParams","members":[{"constant":false,"id":36478,"mutability":"mutable","name":"price","nameLocation":"410:5:39","nodeType":"VariableDeclaration","scope":36483,"src":"402:13:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36477,"name":"uint256","nodeType":"ElementaryTypeName","src":"402:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36480,"mutability":"mutable","name":"swapFee","nameLocation":"433:7:39","nodeType":"VariableDeclaration","scope":36483,"src":"425:15:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36479,"name":"uint256","nodeType":"ElementaryTypeName","src":"425:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36482,"mutability":"mutable","name":"controller","nameLocation":"458:10:39","nodeType":"VariableDeclaration","scope":36483,"src":"450:18:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":36481,"name":"address","nodeType":"ElementaryTypeName","src":"450:7:39","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"name":"InternalParams","nameLocation":"377:14:39","scope":37071,"visibility":"public"},{"id":36490,"nodeType":"StructDefinition","src":"481:108:39","nodes":[],"canonicalName":"ConstantSum.ConstantSumParams","members":[{"constant":false,"id":36485,"mutability":"mutable","name":"price","nameLocation":"524:5:39","nodeType":"VariableDeclaration","scope":36490,"src":"516:13:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36484,"name":"uint256","nodeType":"ElementaryTypeName","src":"516:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36487,"mutability":"mutable","name":"swapFee","nameLocation":"547:7:39","nodeType":"VariableDeclaration","scope":36490,"src":"539:15:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36486,"name":"uint256","nodeType":"ElementaryTypeName","src":"539:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36489,"mutability":"mutable","name":"controller","nameLocation":"572:10:39","nodeType":"VariableDeclaration","scope":36490,"src":"564:18:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":36488,"name":"address","nodeType":"ElementaryTypeName","src":"564:7:39","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"name":"ConstantSumParams","nameLocation":"488:17:39","scope":37071,"visibility":"public"},{"id":36493,"nodeType":"VariableDeclaration","src":"625:19:39","nodes":[],"baseFunctions":[29831],"constant":false,"documentation":{"id":36491,"nodeType":"StructuredDocumentation","src":"595:25:39","text":"@inheritdoc IStrategy"},"functionSelector":"afba13c4","mutability":"mutable","name":"dfmm","nameLocation":"640:4:39","scope":37071,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":36492,"name":"address","nodeType":"ElementaryTypeName","src":"625:7:39","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":36497,"nodeType":"VariableDeclaration","src":"681:43:39","nodes":[],"baseFunctions":[29768],"constant":true,"documentation":{"id":36494,"nodeType":"StructuredDocumentation","src":"651:25:39","text":"@inheritdoc IStrategy"},"functionSelector":"06fdde03","mutability":"constant","name":"name","nameLocation":"704:4:39","scope":37071,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":36495,"name":"string","nodeType":"ElementaryTypeName","src":"681:6:39","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":{"hexValue":"436f6e7374616e7453756d","id":36496,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"711:13:39","typeDescriptions":{"typeIdentifier":"t_stringliteral_9d40ac42989a30ac93e361dd494fc0f13677a14223e3e8e73b6a9765afa29696","typeString":"literal_string \"ConstantSum\""},"value":"ConstantSum"},"visibility":"public"},{"id":36502,"nodeType":"VariableDeclaration","src":"731:56:39","nodes":[],"constant":false,"functionSelector":"1edb71e5","mutability":"mutable","name":"internalParams","nameLocation":"773:14:39","scope":37071,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_InternalParams_$36483_storage_$","typeString":"mapping(uint256 => struct ConstantSum.InternalParams)"},"typeName":{"id":36501,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36498,"name":"uint256","nodeType":"ElementaryTypeName","src":"739:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"731:34:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_InternalParams_$36483_storage_$","typeString":"mapping(uint256 => struct ConstantSum.InternalParams)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36500,"nodeType":"UserDefinedTypeName","pathNode":{"id":36499,"name":"InternalParams","nameLocations":["750:14:39"],"nodeType":"IdentifierPath","referencedDeclaration":36483,"src":"750:14:39"},"referencedDeclaration":36483,"src":"750:14:39","typeDescriptions":{"typeIdentifier":"t_struct$_InternalParams_$36483_storage_ptr","typeString":"struct ConstantSum.InternalParams"}}},"visibility":"public"},{"id":36512,"nodeType":"FunctionDefinition","src":"794:56:39","nodes":[],"body":{"id":36511,"nodeType":"Block","src":"821:29:39","nodes":[],"statements":[{"expression":{"id":36509,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36507,"name":"dfmm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36493,"src":"831:4:39","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":36508,"name":"dfmm_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36504,"src":"838:5:39","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"831:12:39","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":36510,"nodeType":"ExpressionStatement","src":"831:12:39"}]},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":36505,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36504,"mutability":"mutable","name":"dfmm_","nameLocation":"814:5:39","nodeType":"VariableDeclaration","scope":36512,"src":"806:13:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":36503,"name":"address","nodeType":"ElementaryTypeName","src":"806:7:39","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"805:15:39"},"returnParameters":{"id":36506,"nodeType":"ParameterList","parameters":[],"src":"821:0:39"},"scope":37071,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":36524,"nodeType":"ModifierDefinition","src":"856:88:39","nodes":[],"body":{"id":36523,"nodeType":"Block","src":"876:68:39","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":36517,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":36514,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"890:3:39","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":36515,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"894:6:39","memberName":"sender","nodeType":"MemberAccess","src":"890:10:39","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":36516,"name":"dfmm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36493,"src":"904:4:39","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"890:18:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36521,"nodeType":"IfStatement","src":"886:40:39","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":36518,"name":"NotDFMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29739,"src":"917:7:39","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":36519,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"917:9:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36520,"nodeType":"RevertStatement","src":"910:16:39"}},{"id":36522,"nodeType":"PlaceholderStatement","src":"936:1:39"}]},"name":"onlyDFMM","nameLocation":"865:8:39","parameters":{"id":36513,"nodeType":"ParameterList","parameters":[],"src":"873:2:39"},"virtual":false,"visibility":"internal"},{"id":36614,"nodeType":"FunctionDefinition","src":"950:914:39","nodes":[],"body":{"id":36613,"nodeType":"Block","src":"1253:611:39","nodes":[],"statements":[{"assignments":[36547],"declarations":[{"constant":false,"id":36547,"mutability":"mutable","name":"params","nameLocation":"1288:6:39","nodeType":"VariableDeclaration","scope":36613,"src":"1263:31:39","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams"},"typeName":{"id":36546,"nodeType":"UserDefinedTypeName","pathNode":{"id":36545,"name":"ConstantSumParams","nameLocations":["1263:17:39"],"nodeType":"IdentifierPath","referencedDeclaration":36490,"src":"1263:17:39"},"referencedDeclaration":36490,"src":"1263:17:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_storage_ptr","typeString":"struct ConstantSum.ConstantSumParams"}},"visibility":"internal"}],"id":36548,"nodeType":"VariableDeclarationStatement","src":"1263:31:39"},{"expression":{"id":36566,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":36549,"name":"reserveX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36539,"src":"1305:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36550,"name":"reserveY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36541,"src":"1315:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36551,"name":"totalLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36543,"src":"1325:14:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36552,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36547,"src":"1341:6:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}}],"id":36553,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"1304:44:39","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$_t_struct$_ConstantSumParams_$36490_memory_ptr_$","typeString":"tuple(uint256,uint256,uint256,struct ConstantSum.ConstantSumParams memory)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":36556,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36530,"src":"1374:4:39","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"components":[{"id":36558,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1381:7:39","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36557,"name":"uint256","nodeType":"ElementaryTypeName","src":"1381:7:39","typeDescriptions":{}}},{"id":36560,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1390:7:39","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36559,"name":"uint256","nodeType":"ElementaryTypeName","src":"1390:7:39","typeDescriptions":{}}},{"id":36562,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1399:7:39","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36561,"name":"uint256","nodeType":"ElementaryTypeName","src":"1399:7:39","typeDescriptions":{}}},{"id":36563,"name":"ConstantSumParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36490,"src":"1408:17:39","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}}],"id":36564,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"1380:46:39","typeDescriptions":{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$_$","typeString":"tuple(type(uint256),type(uint256),type(uint256),type(struct ConstantSum.ConstantSumParams storage pointer))"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$_$","typeString":"tuple(type(uint256),type(uint256),type(uint256),type(struct ConstantSum.ConstantSumParams storage pointer))"}],"expression":{"id":36554,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1363:3:39","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":36555,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1367:6:39","memberName":"decode","nodeType":"MemberAccess","src":"1363:10:39","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":36565,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1363:64:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$_t_struct$_ConstantSumParams_$36490_memory_ptr_$","typeString":"tuple(uint256,uint256,uint256,struct ConstantSum.ConstantSumParams memory)"}},"src":"1304:123:39","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36567,"nodeType":"ExpressionStatement","src":"1304:123:39"},{"expression":{"id":36574,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":36568,"name":"internalParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36502,"src":"1438:14:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_InternalParams_$36483_storage_$","typeString":"mapping(uint256 => struct ConstantSum.InternalParams storage ref)"}},"id":36570,"indexExpression":{"id":36569,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36528,"src":"1453:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1438:22:39","typeDescriptions":{"typeIdentifier":"t_struct$_InternalParams_$36483_storage","typeString":"struct ConstantSum.InternalParams storage ref"}},"id":36571,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"1461:5:39","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36478,"src":"1438:28:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":36572,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36547,"src":"1469:6:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":36573,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1476:5:39","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"1469:12:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1438:43:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36575,"nodeType":"ExpressionStatement","src":"1438:43:39"},{"expression":{"id":36582,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":36576,"name":"internalParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36502,"src":"1491:14:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_InternalParams_$36483_storage_$","typeString":"mapping(uint256 => struct ConstantSum.InternalParams storage ref)"}},"id":36578,"indexExpression":{"id":36577,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36528,"src":"1506:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1491:22:39","typeDescriptions":{"typeIdentifier":"t_struct$_InternalParams_$36483_storage","typeString":"struct ConstantSum.InternalParams storage ref"}},"id":36579,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"1514:7:39","memberName":"swapFee","nodeType":"MemberAccess","referencedDeclaration":36480,"src":"1491:30:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":36580,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36547,"src":"1524:6:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":36581,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1531:7:39","memberName":"swapFee","nodeType":"MemberAccess","referencedDeclaration":36487,"src":"1524:14:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1491:47:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36583,"nodeType":"ExpressionStatement","src":"1491:47:39"},{"expression":{"id":36593,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36584,"name":"invariant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36537,"src":"1609:9:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":36587,"name":"reserveX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36539,"src":"1665:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36588,"name":"reserveY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36541,"src":"1675:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36589,"name":"totalLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36543,"src":"1685:14:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":36590,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36547,"src":"1701:6:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":36591,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1708:5:39","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"1701:12:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36585,"name":"ConstantSumLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37235,"src":"1621:14:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ConstantSumLib_$37235_$","typeString":"type(library ConstantSumLib)"}},"id":36586,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1636:15:39","memberName":"tradingFunction","nodeType":"MemberAccess","referencedDeclaration":37234,"src":"1621:30:39","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256,uint256,uint256,uint256) pure returns (int256)"}},"id":36592,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1621:102:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"1609:114:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":36594,"nodeType":"ExpressionStatement","src":"1609:114:39"},{"expression":{"id":36604,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36595,"name":"valid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36535,"src":"1734:5:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":36603,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":36599,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36597,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"1742:8:39","subExpression":{"id":36596,"name":"EPSILON","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30665,"src":"1743:7:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":36598,"name":"invariant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36537,"src":"1753:9:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"1742:20:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":36602,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36600,"name":"invariant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36537,"src":"1766:9:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":36601,"name":"EPSILON","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30665,"src":"1778:7:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"1766:19:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1742:43:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1734:51:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36605,"nodeType":"ExpressionStatement","src":"1734:51:39"},{"expression":{"components":[{"id":36606,"name":"valid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36535,"src":"1804:5:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":36607,"name":"invariant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36537,"src":"1811:9:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":36608,"name":"reserveX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36539,"src":"1822:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36609,"name":"reserveY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36541,"src":"1832:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36610,"name":"totalLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36543,"src":"1842:14:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":36611,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1803:54:39","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(bool,int256,uint256,uint256,uint256)"}},"functionReturnParameters":36544,"id":36612,"nodeType":"Return","src":"1796:61:39"}]},"baseFunctions":[29762],"functionSelector":"73cb2d03","implemented":true,"kind":"function","modifiers":[{"id":36533,"kind":"modifierInvocation","modifierName":{"id":36532,"name":"onlyDFMM","nameLocations":["1063:8:39"],"nodeType":"IdentifierPath","referencedDeclaration":36524,"src":"1063:8:39"},"nodeType":"ModifierInvocation","src":"1063:8:39"}],"name":"init","nameLocation":"959:4:39","parameters":{"id":36531,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36526,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":36614,"src":"973:7:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":36525,"name":"address","nodeType":"ElementaryTypeName","src":"973:7:39","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":36528,"mutability":"mutable","name":"poolId","nameLocation":"998:6:39","nodeType":"VariableDeclaration","scope":36614,"src":"990:14:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36527,"name":"uint256","nodeType":"ElementaryTypeName","src":"990:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36530,"mutability":"mutable","name":"data","nameLocation":"1029:4:39","nodeType":"VariableDeclaration","scope":36614,"src":"1014:19:39","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":36529,"name":"bytes","nodeType":"ElementaryTypeName","src":"1014:5:39","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"963:76:39"},"returnParameters":{"id":36544,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36535,"mutability":"mutable","name":"valid","nameLocation":"1107:5:39","nodeType":"VariableDeclaration","scope":36614,"src":"1102:10:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":36534,"name":"bool","nodeType":"ElementaryTypeName","src":"1102:4:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":36537,"mutability":"mutable","name":"invariant","nameLocation":"1133:9:39","nodeType":"VariableDeclaration","scope":36614,"src":"1126:16:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":36536,"name":"int256","nodeType":"ElementaryTypeName","src":"1126:6:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":36539,"mutability":"mutable","name":"reserveX","nameLocation":"1164:8:39","nodeType":"VariableDeclaration","scope":36614,"src":"1156:16:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36538,"name":"uint256","nodeType":"ElementaryTypeName","src":"1156:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36541,"mutability":"mutable","name":"reserveY","nameLocation":"1194:8:39","nodeType":"VariableDeclaration","scope":36614,"src":"1186:16:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36540,"name":"uint256","nodeType":"ElementaryTypeName","src":"1186:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36543,"mutability":"mutable","name":"totalLiquidity","nameLocation":"1224:14:39","nodeType":"VariableDeclaration","scope":36614,"src":"1216:22:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36542,"name":"uint256","nodeType":"ElementaryTypeName","src":"1216:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1088:160:39"},"scope":37071,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":36835,"nodeType":"FunctionDefinition","src":"1870:1886:39","nodes":[],"body":{"id":36834,"nodeType":"Block","src":"2201:1555:39","nodes":[],"statements":[{"assignments":[36637],"declarations":[{"constant":false,"id":36637,"mutability":"mutable","name":"params","nameLocation":"2236:6:39","nodeType":"VariableDeclaration","scope":36834,"src":"2211:31:39","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams"},"typeName":{"id":36636,"nodeType":"UserDefinedTypeName","pathNode":{"id":36635,"name":"ConstantSumParams","nameLocations":["2211:17:39"],"nodeType":"IdentifierPath","referencedDeclaration":36490,"src":"2211:17:39"},"referencedDeclaration":36490,"src":"2211:17:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_storage_ptr","typeString":"struct ConstantSum.ConstantSumParams"}},"visibility":"internal"}],"id":36646,"initialValue":{"arguments":[{"arguments":[{"id":36641,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36618,"src":"2282:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":36640,"name":"getPoolParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37070,"src":"2268:13:39","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_bytes_memory_ptr_$","typeString":"function (uint256) view returns (bytes memory)"}},"id":36642,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2268:21:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":36643,"name":"ConstantSumParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36490,"src":"2292:17:39","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}}],"id":36644,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"2291:19:39","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}],"expression":{"id":36638,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2257:3:39","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":36639,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2261:6:39","memberName":"decode","nodeType":"MemberAccess","src":"2257:10:39","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":36645,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2257:54:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"nodeType":"VariableDeclarationStatement","src":"2211:100:39"},{"assignments":[36648,36650,36652],"declarations":[{"constant":false,"id":36648,"mutability":"mutable","name":"startRx","nameLocation":"2331:7:39","nodeType":"VariableDeclaration","scope":36834,"src":"2323:15:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36647,"name":"uint256","nodeType":"ElementaryTypeName","src":"2323:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36650,"mutability":"mutable","name":"startRy","nameLocation":"2348:7:39","nodeType":"VariableDeclaration","scope":36834,"src":"2340:15:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36649,"name":"uint256","nodeType":"ElementaryTypeName","src":"2340:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36652,"mutability":"mutable","name":"startL","nameLocation":"2365:6:39","nodeType":"VariableDeclaration","scope":36834,"src":"2357:14:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36651,"name":"uint256","nodeType":"ElementaryTypeName","src":"2357:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36659,"initialValue":{"arguments":[{"id":36657,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36618,"src":"2423:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":36654,"name":"dfmm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36493,"src":"2393:4:39","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":36653,"name":"IDFMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29730,"src":"2387:5:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDFMM_$29730_$","typeString":"type(contract IDFMM)"}},"id":36655,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2387:11:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IDFMM_$29730","typeString":"contract IDFMM"}},"id":36656,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2399:23:39","memberName":"getReservesAndLiquidity","nodeType":"MemberAccess","referencedDeclaration":29710,"src":"2387:35:39","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (uint256) view external returns (uint256,uint256,uint256)"}},"id":36658,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2387:43:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"2322:108:39"},{"expression":{"id":36675,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":36660,"name":"nextRx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36629,"src":"2442:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36661,"name":"nextRy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36631,"src":"2450:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36662,"name":"nextL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36633,"src":"2458:5:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":36663,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"2441:23:39","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":36666,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36620,"src":"2478:4:39","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"components":[{"id":36668,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2485:7:39","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36667,"name":"uint256","nodeType":"ElementaryTypeName","src":"2485:7:39","typeDescriptions":{}}},{"id":36670,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2494:7:39","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36669,"name":"uint256","nodeType":"ElementaryTypeName","src":"2494:7:39","typeDescriptions":{}}},{"id":36672,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2503:7:39","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36671,"name":"uint256","nodeType":"ElementaryTypeName","src":"2503:7:39","typeDescriptions":{}}}],"id":36673,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"2484:27:39","typeDescriptions":{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$","typeString":"tuple(type(uint256),type(uint256),type(uint256))"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$","typeString":"tuple(type(uint256),type(uint256),type(uint256))"}],"expression":{"id":36664,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2467:3:39","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":36665,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2471:6:39","memberName":"decode","nodeType":"MemberAccess","src":"2467:10:39","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":36674,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2467:45:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"src":"2441:71:39","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36676,"nodeType":"ExpressionStatement","src":"2441:71:39"},{"assignments":[36678],"declarations":[{"constant":false,"id":36678,"mutability":"mutable","name":"minLiquidityDelta","nameLocation":"2531:17:39","nodeType":"VariableDeclaration","scope":36834,"src":"2523:25:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36677,"name":"uint256","nodeType":"ElementaryTypeName","src":"2523:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36679,"nodeType":"VariableDeclarationStatement","src":"2523:25:39"},{"assignments":[36681],"declarations":[{"constant":false,"id":36681,"mutability":"mutable","name":"amountIn","nameLocation":"2566:8:39","nodeType":"VariableDeclaration","scope":36834,"src":"2558:16:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36680,"name":"uint256","nodeType":"ElementaryTypeName","src":"2558:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36682,"nodeType":"VariableDeclarationStatement","src":"2558:16:39"},{"assignments":[36684],"declarations":[{"constant":false,"id":36684,"mutability":"mutable","name":"fees","nameLocation":"2592:4:39","nodeType":"VariableDeclaration","scope":36834,"src":"2584:12:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36683,"name":"uint256","nodeType":"ElementaryTypeName","src":"2584:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36685,"nodeType":"VariableDeclarationStatement","src":"2584:12:39"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36688,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36686,"name":"nextRx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36629,"src":"2610:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":36687,"name":"startRy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36650,"src":"2619:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2610:16:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36724,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36722,"name":"nextRy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36631,"src":"2899:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":36723,"name":"startRy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36650,"src":"2908:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2899:16:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":36766,"nodeType":"Block","src":"3207:83:39","statements":[{"expression":{"arguments":[{"hexValue":"696e76616c696420737761703a20696e70757473207820616e6420792068617665207468652073616d65207369676e21","id":36763,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3228:50:39","typeDescriptions":{"typeIdentifier":"t_stringliteral_6c54ddfd1f745104b0bff565f04a31914e6f8f946d592485aea78017952f8de3","typeString":"literal_string \"invalid swap: inputs x and y have the same sign!\""},"value":"invalid swap: inputs x and y have the same sign!"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_6c54ddfd1f745104b0bff565f04a31914e6f8f946d592485aea78017952f8de3","typeString":"literal_string \"invalid swap: inputs x and y have the same sign!\""}],"id":36762,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"3221:6:39","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":36764,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3221:58:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36765,"nodeType":"ExpressionStatement","src":"3221:58:39"}]},"id":36767,"nodeType":"IfStatement","src":"2895:395:39","trueBody":{"id":36761,"nodeType":"Block","src":"2917:284:39","statements":[{"expression":{"id":36729,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36725,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36681,"src":"2931:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36728,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36726,"name":"nextRy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36631,"src":"2942:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":36727,"name":"startRy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36650,"src":"2951:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2942:16:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2931:27:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36730,"nodeType":"ExpressionStatement","src":"2931:27:39"},{"expression":{"arguments":[{"hexValue":"616d6f756e74496e20696e2076616c69646174653a20","id":36734,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2985:24:39","typeDescriptions":{"typeIdentifier":"t_stringliteral_cde3342921a83d43823a2706b663cc1bfe3361079bfb748f04fe4e5a3bdb3dcd","typeString":"literal_string \"amountIn in validate: \""},"value":"amountIn in validate: "},{"id":36735,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36681,"src":"3011:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_cde3342921a83d43823a2706b663cc1bfe3361079bfb748f04fe4e5a3bdb3dcd","typeString":"literal_string \"amountIn in validate: \""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36731,"name":"console2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25512,"src":"2972:8:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_console2_$25512_$","typeString":"type(library console2)"}},"id":36733,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2981:3:39","memberName":"log","nodeType":"MemberAccess","referencedDeclaration":18139,"src":"2972:12:39","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_string_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (string memory,uint256) view"}},"id":36736,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2972:48:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36737,"nodeType":"ExpressionStatement","src":"2972:48:39"},{"expression":{"id":36744,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36738,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36684,"src":"3034:4:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":36741,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36637,"src":"3059:6:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":36742,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3066:7:39","memberName":"swapFee","nodeType":"MemberAccess","referencedDeclaration":36487,"src":"3059:14:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36739,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36681,"src":"3041:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36740,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3050:8:39","memberName":"mulWadUp","nodeType":"MemberAccess","referencedDeclaration":26065,"src":"3041:17:39","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":36743,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3041:33:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3034:40:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36745,"nodeType":"ExpressionStatement","src":"3034:40:39"},{"expression":{"arguments":[{"hexValue":"6665657320696e2076616c69646174653a20","id":36749,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3101:20:39","typeDescriptions":{"typeIdentifier":"t_stringliteral_e74e3cfb8138326841d5b041fa6f061576672ab633759de8e3ac2761820c9226","typeString":"literal_string \"fees in validate: \""},"value":"fees in validate: "},{"id":36750,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36684,"src":"3123:4:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_e74e3cfb8138326841d5b041fa6f061576672ab633759de8e3ac2761820c9226","typeString":"literal_string \"fees in validate: \""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36746,"name":"console2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25512,"src":"3088:8:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_console2_$25512_$","typeString":"type(library console2)"}},"id":36748,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3097:3:39","memberName":"log","nodeType":"MemberAccess","referencedDeclaration":18139,"src":"3088:12:39","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_string_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (string memory,uint256) view"}},"id":36751,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3088:40:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36752,"nodeType":"ExpressionStatement","src":"3088:40:39"},{"expression":{"id":36759,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36753,"name":"minLiquidityDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36678,"src":"3142:17:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"arguments":[{"expression":{"id":36756,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36637,"src":"3177:6:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":36757,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3184:5:39","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"3177:12:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36754,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36684,"src":"3163:4:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36755,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3168:8:39","memberName":"divWadUp","nodeType":"MemberAccess","referencedDeclaration":26097,"src":"3163:13:39","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":36758,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3163:27:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3142:48:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36760,"nodeType":"ExpressionStatement","src":"3142:48:39"}]}},"id":36768,"nodeType":"IfStatement","src":"2606:684:39","trueBody":{"id":36721,"nodeType":"Block","src":"2628:261:39","statements":[{"expression":{"id":36693,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36689,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36681,"src":"2642:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36692,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36690,"name":"nextRx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36629,"src":"2653:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":36691,"name":"startRx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36648,"src":"2662:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2653:16:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2642:27:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36694,"nodeType":"ExpressionStatement","src":"2642:27:39"},{"expression":{"arguments":[{"hexValue":"616d6f756e74496e20696e2076616c69646174653a20","id":36698,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2696:24:39","typeDescriptions":{"typeIdentifier":"t_stringliteral_cde3342921a83d43823a2706b663cc1bfe3361079bfb748f04fe4e5a3bdb3dcd","typeString":"literal_string \"amountIn in validate: \""},"value":"amountIn in validate: "},{"id":36699,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36681,"src":"2722:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_cde3342921a83d43823a2706b663cc1bfe3361079bfb748f04fe4e5a3bdb3dcd","typeString":"literal_string \"amountIn in validate: \""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36695,"name":"console2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25512,"src":"2683:8:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_console2_$25512_$","typeString":"type(library console2)"}},"id":36697,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2692:3:39","memberName":"log","nodeType":"MemberAccess","referencedDeclaration":18139,"src":"2683:12:39","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_string_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (string memory,uint256) view"}},"id":36700,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2683:48:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36701,"nodeType":"ExpressionStatement","src":"2683:48:39"},{"expression":{"id":36708,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36702,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36684,"src":"2745:4:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":36705,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36637,"src":"2770:6:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":36706,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2777:7:39","memberName":"swapFee","nodeType":"MemberAccess","referencedDeclaration":36487,"src":"2770:14:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36703,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36681,"src":"2752:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36704,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2761:8:39","memberName":"mulWadUp","nodeType":"MemberAccess","referencedDeclaration":26065,"src":"2752:17:39","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":36707,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2752:33:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2745:40:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36709,"nodeType":"ExpressionStatement","src":"2745:40:39"},{"expression":{"arguments":[{"hexValue":"6665657320696e2076616c69646174653a20","id":36713,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2812:20:39","typeDescriptions":{"typeIdentifier":"t_stringliteral_e74e3cfb8138326841d5b041fa6f061576672ab633759de8e3ac2761820c9226","typeString":"literal_string \"fees in validate: \""},"value":"fees in validate: "},{"id":36714,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36684,"src":"2834:4:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_e74e3cfb8138326841d5b041fa6f061576672ab633759de8e3ac2761820c9226","typeString":"literal_string \"fees in validate: \""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36710,"name":"console2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25512,"src":"2799:8:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_console2_$25512_$","typeString":"type(library console2)"}},"id":36712,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2808:3:39","memberName":"log","nodeType":"MemberAccess","referencedDeclaration":18139,"src":"2799:12:39","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_string_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (string memory,uint256) view"}},"id":36715,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2799:40:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36716,"nodeType":"ExpressionStatement","src":"2799:40:39"},{"expression":{"id":36719,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36717,"name":"minLiquidityDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36678,"src":"2853:17:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":36718,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36684,"src":"2874:4:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2853:25:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36720,"nodeType":"ExpressionStatement","src":"2853:25:39"}]}},{"expression":{"id":36779,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36769,"name":"liquidityDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36627,"src":"3300:14:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":36778,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":36772,"name":"nextL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36633,"src":"3324:5:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":36771,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3317:6:39","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":36770,"name":"int256","nodeType":"ElementaryTypeName","src":"3317:6:39","typeDescriptions":{}}},"id":36773,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3317:13:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":36776,"name":"startL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36652,"src":"3340:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":36775,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3333:6:39","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":36774,"name":"int256","nodeType":"ElementaryTypeName","src":"3333:6:39","typeDescriptions":{}}},"id":36777,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3333:14:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"3317:30:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"3300:47:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":36780,"nodeType":"ExpressionStatement","src":"3300:47:39"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":36787,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36782,"name":"liquidityDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36627,"src":"3364:14:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"arguments":[{"id":36785,"name":"minLiquidityDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36678,"src":"3389:17:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":36784,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3382:6:39","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":36783,"name":"int256","nodeType":"ElementaryTypeName","src":"3382:6:39","typeDescriptions":{}}},"id":36786,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3382:25:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"3364:43:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":36781,"name":"assert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-3,"src":"3357:6:39","typeDescriptions":{"typeIdentifier":"t_function_assert_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":36788,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3357:51:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36789,"nodeType":"ExpressionStatement","src":"3357:51:39"},{"expression":{"arguments":[{"hexValue":"6c697175696469747944656c746120696e2076616c69646174653a20","id":36793,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3432:30:39","typeDescriptions":{"typeIdentifier":"t_stringliteral_ec58198f7d535c5cff41ce2d0c4baa889f5c9d07784f2c8406b2921bc77dd461","typeString":"literal_string \"liquidityDelta in validate: \""},"value":"liquidityDelta in validate: "},{"id":36794,"name":"liquidityDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36627,"src":"3464:14:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_ec58198f7d535c5cff41ce2d0c4baa889f5c9d07784f2c8406b2921bc77dd461","typeString":"literal_string \"liquidityDelta in validate: \""},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":36790,"name":"console2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25512,"src":"3419:8:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_console2_$25512_$","typeString":"type(library console2)"}},"id":36792,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3428:3:39","memberName":"log","nodeType":"MemberAccess","referencedDeclaration":18156,"src":"3419:12:39","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_string_memory_ptr_$_t_int256_$returns$__$","typeString":"function (string memory,int256) view"}},"id":36795,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3419:60:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36796,"nodeType":"ExpressionStatement","src":"3419:60:39"},{"expression":{"arguments":[{"hexValue":"70726963653a20","id":36800,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3502:9:39","typeDescriptions":{"typeIdentifier":"t_stringliteral_3aa48c3588dd77a7238e530f76a63b6b4be114831bfa0aeb1ab81b373f2e5d81","typeString":"literal_string \"price: \""},"value":"price: "},{"expression":{"id":36801,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36637,"src":"3513:6:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":36802,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3520:5:39","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"3513:12:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_3aa48c3588dd77a7238e530f76a63b6b4be114831bfa0aeb1ab81b373f2e5d81","typeString":"literal_string \"price: \""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36797,"name":"console2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25512,"src":"3489:8:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_console2_$25512_$","typeString":"type(library console2)"}},"id":36799,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3498:3:39","memberName":"log","nodeType":"MemberAccess","referencedDeclaration":18139,"src":"3489:12:39","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_string_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (string memory,uint256) view"}},"id":36803,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3489:37:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36804,"nodeType":"ExpressionStatement","src":"3489:37:39"},{"expression":{"id":36814,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36805,"name":"invariant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36625,"src":"3536:9:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":36808,"name":"nextRx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36629,"src":"3591:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36809,"name":"nextRy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36631,"src":"3599:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36810,"name":"nextL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36633,"src":"3607:5:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":36811,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36637,"src":"3614:6:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":36812,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3621:5:39","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"3614:12:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36806,"name":"ConstantSumLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37235,"src":"3560:14:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ConstantSumLib_$37235_$","typeString":"type(library ConstantSumLib)"}},"id":36807,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3575:15:39","memberName":"tradingFunction","nodeType":"MemberAccess","referencedDeclaration":37234,"src":"3560:30:39","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256,uint256,uint256,uint256) pure returns (int256)"}},"id":36813,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3560:67:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"3536:91:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":36815,"nodeType":"ExpressionStatement","src":"3536:91:39"},{"expression":{"arguments":[{"hexValue":"696e76617269616e7420696e2076616c69646174653a20","id":36819,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3651:25:39","typeDescriptions":{"typeIdentifier":"t_stringliteral_ab6d2d5531c4d7069b0830b52c16f5abeb47a1df006d92a8fc0d334fa61ec58a","typeString":"literal_string \"invariant in validate: \""},"value":"invariant in validate: "},{"id":36820,"name":"invariant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36625,"src":"3678:9:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_ab6d2d5531c4d7069b0830b52c16f5abeb47a1df006d92a8fc0d334fa61ec58a","typeString":"literal_string \"invariant in validate: \""},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":36816,"name":"console2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25512,"src":"3638:8:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_console2_$25512_$","typeString":"type(library console2)"}},"id":36818,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3647:3:39","memberName":"log","nodeType":"MemberAccess","referencedDeclaration":18156,"src":"3638:12:39","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_string_memory_ptr_$_t_int256_$returns$__$","typeString":"function (string memory,int256) view"}},"id":36821,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3638:50:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36822,"nodeType":"ExpressionStatement","src":"3638:50:39"},{"expression":{"id":36832,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36823,"name":"valid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36623,"src":"3698:5:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":36831,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":36827,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36825,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"3706:8:39","subExpression":{"id":36824,"name":"EPSILON","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30665,"src":"3707:7:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":36826,"name":"invariant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36625,"src":"3717:9:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"3706:20:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":36830,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36828,"name":"invariant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36625,"src":"3730:9:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":36829,"name":"EPSILON","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30665,"src":"3742:7:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"3730:19:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3706:43:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3698:51:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36833,"nodeType":"ExpressionStatement","src":"3698:51:39"}]},"baseFunctions":[29808],"functionSelector":"68bd3e38","implemented":true,"kind":"function","modifiers":[],"name":"validateSwap","nameLocation":"1879:12:39","parameters":{"id":36621,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36616,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":36835,"src":"1901:7:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":36615,"name":"address","nodeType":"ElementaryTypeName","src":"1901:7:39","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":36618,"mutability":"mutable","name":"poolId","nameLocation":"1926:6:39","nodeType":"VariableDeclaration","scope":36835,"src":"1918:14:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36617,"name":"uint256","nodeType":"ElementaryTypeName","src":"1918:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36620,"mutability":"mutable","name":"data","nameLocation":"1957:4:39","nodeType":"VariableDeclaration","scope":36835,"src":"1942:19:39","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":36619,"name":"bytes","nodeType":"ElementaryTypeName","src":"1942:5:39","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1891:76:39"},"returnParameters":{"id":36634,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36623,"mutability":"mutable","name":"valid","nameLocation":"2033:5:39","nodeType":"VariableDeclaration","scope":36835,"src":"2028:10:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":36622,"name":"bool","nodeType":"ElementaryTypeName","src":"2028:4:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":36625,"mutability":"mutable","name":"invariant","nameLocation":"2059:9:39","nodeType":"VariableDeclaration","scope":36835,"src":"2052:16:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":36624,"name":"int256","nodeType":"ElementaryTypeName","src":"2052:6:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":36627,"mutability":"mutable","name":"liquidityDelta","nameLocation":"2089:14:39","nodeType":"VariableDeclaration","scope":36835,"src":"2082:21:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":36626,"name":"int256","nodeType":"ElementaryTypeName","src":"2082:6:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":36629,"mutability":"mutable","name":"nextRx","nameLocation":"2125:6:39","nodeType":"VariableDeclaration","scope":36835,"src":"2117:14:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36628,"name":"uint256","nodeType":"ElementaryTypeName","src":"2117:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36631,"mutability":"mutable","name":"nextRy","nameLocation":"2153:6:39","nodeType":"VariableDeclaration","scope":36835,"src":"2145:14:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36630,"name":"uint256","nodeType":"ElementaryTypeName","src":"2145:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36633,"mutability":"mutable","name":"nextL","nameLocation":"2181:5:39","nodeType":"VariableDeclaration","scope":36835,"src":"2173:13:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36632,"name":"uint256","nodeType":"ElementaryTypeName","src":"2173:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2014:182:39"},"scope":37071,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":36879,"nodeType":"FunctionDefinition","src":"3762:457:39","nodes":[],"body":{"id":36878,"nodeType":"Block","src":"3879:340:39","nodes":[],"statements":[{"assignments":[36845,36847,36849],"declarations":[{"constant":false,"id":36845,"mutability":"mutable","name":"reserveX","nameLocation":"3898:8:39","nodeType":"VariableDeclaration","scope":36878,"src":"3890:16:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36844,"name":"uint256","nodeType":"ElementaryTypeName","src":"3890:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36847,"mutability":"mutable","name":"reserveY","nameLocation":"3916:8:39","nodeType":"VariableDeclaration","scope":36878,"src":"3908:16:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36846,"name":"uint256","nodeType":"ElementaryTypeName","src":"3908:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36849,"mutability":"mutable","name":"totalLiquidity","nameLocation":"3934:14:39","nodeType":"VariableDeclaration","scope":36878,"src":"3926:22:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36848,"name":"uint256","nodeType":"ElementaryTypeName","src":"3926:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36861,"initialValue":{"arguments":[{"id":36852,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36839,"src":"3975:4:39","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":36854,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3982:7:39","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36853,"name":"uint256","nodeType":"ElementaryTypeName","src":"3982:7:39","typeDescriptions":{}}},{"id":36856,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3991:7:39","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36855,"name":"uint256","nodeType":"ElementaryTypeName","src":"3991:7:39","typeDescriptions":{}}},{"id":36858,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4000:7:39","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36857,"name":"uint256","nodeType":"ElementaryTypeName","src":"4000:7:39","typeDescriptions":{}}}],"id":36859,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"3981:27:39","typeDescriptions":{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$","typeString":"tuple(type(uint256),type(uint256),type(uint256))"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$","typeString":"tuple(type(uint256),type(uint256),type(uint256))"}],"expression":{"id":36850,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"3964:3:39","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":36851,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3968:6:39","memberName":"decode","nodeType":"MemberAccess","src":"3964:10:39","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":36860,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3964:45:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"3889:120:39"},{"expression":{"arguments":[{"id":36864,"name":"reserveX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36845,"src":"4070:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36865,"name":"reserveY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36847,"src":"4092:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36866,"name":"totalLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36849,"src":"4114:14:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"arguments":[{"arguments":[{"id":36870,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36837,"src":"4167:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":36869,"name":"getPoolParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37070,"src":"4153:13:39","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_bytes_memory_ptr_$","typeString":"function (uint256) view returns (bytes memory)"}},"id":36871,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4153:21:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":36872,"name":"ConstantSumParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36490,"src":"4177:17:39","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}}],"id":36873,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"4176:19:39","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}],"expression":{"id":36867,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"4142:3:39","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":36868,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4146:6:39","memberName":"decode","nodeType":"MemberAccess","src":"4142:10:39","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":36874,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4142:54:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":36875,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4197:5:39","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"4142:60:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36862,"name":"ConstantSumLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37235,"src":"4026:14:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ConstantSumLib_$37235_$","typeString":"type(library ConstantSumLib)"}},"id":36863,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4041:15:39","memberName":"tradingFunction","nodeType":"MemberAccess","referencedDeclaration":37234,"src":"4026:30:39","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256,uint256,uint256,uint256) pure returns (int256)"}},"id":36876,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4026:186:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":36843,"id":36877,"nodeType":"Return","src":"4019:193:39"}]},"baseFunctions":[29826],"functionSelector":"002e524b","implemented":true,"kind":"function","modifiers":[],"name":"computeSwapConstant","nameLocation":"3771:19:39","parameters":{"id":36840,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36837,"mutability":"mutable","name":"poolId","nameLocation":"3808:6:39","nodeType":"VariableDeclaration","scope":36879,"src":"3800:14:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36836,"name":"uint256","nodeType":"ElementaryTypeName","src":"3800:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36839,"mutability":"mutable","name":"data","nameLocation":"3837:4:39","nodeType":"VariableDeclaration","scope":36879,"src":"3824:17:39","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":36838,"name":"bytes","nodeType":"ElementaryTypeName","src":"3824:5:39","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3790:57:39"},"returnParameters":{"id":36843,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36842,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":36879,"src":"3871:6:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":36841,"name":"int256","nodeType":"ElementaryTypeName","src":"3871:6:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"3870:8:39"},"scope":37071,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":36945,"nodeType":"FunctionDefinition","src":"4270:709:39","nodes":[],"body":{"id":36944,"nodeType":"Block","src":"4595:384:39","nodes":[],"statements":[{"expression":{"id":36913,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":36898,"name":"reserveX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36892,"src":"4606:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36899,"name":"reserveY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36894,"src":"4616:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36900,"name":"totalLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36896,"src":"4626:14:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":36901,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"4605:36:39","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":36904,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36885,"src":"4667:4:39","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"components":[{"id":36906,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4674:7:39","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36905,"name":"uint256","nodeType":"ElementaryTypeName","src":"4674:7:39","typeDescriptions":{}}},{"id":36908,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4683:7:39","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36907,"name":"uint256","nodeType":"ElementaryTypeName","src":"4683:7:39","typeDescriptions":{}}},{"id":36910,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4692:7:39","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36909,"name":"uint256","nodeType":"ElementaryTypeName","src":"4692:7:39","typeDescriptions":{}}}],"id":36911,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"4673:27:39","typeDescriptions":{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$","typeString":"tuple(type(uint256),type(uint256),type(uint256))"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$","typeString":"tuple(type(uint256),type(uint256),type(uint256))"}],"expression":{"id":36902,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"4656:3:39","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":36903,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4660:6:39","memberName":"decode","nodeType":"MemberAccess","src":"4656:10:39","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":36912,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4656:45:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"src":"4605:96:39","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36914,"nodeType":"ExpressionStatement","src":"4605:96:39"},{"expression":{"id":36931,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36915,"name":"invariant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36890,"src":"4712:9:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":36918,"name":"reserveX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36892,"src":"4768:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36919,"name":"reserveY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36894,"src":"4790:8:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36920,"name":"totalLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36896,"src":"4812:14:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"arguments":[{"arguments":[{"id":36924,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36883,"src":"4865:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":36923,"name":"getPoolParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37070,"src":"4851:13:39","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_bytes_memory_ptr_$","typeString":"function (uint256) view returns (bytes memory)"}},"id":36925,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4851:21:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":36926,"name":"ConstantSumParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36490,"src":"4875:17:39","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}}],"id":36927,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"4874:19:39","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}],"expression":{"id":36921,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"4840:3:39","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":36922,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4844:6:39","memberName":"decode","nodeType":"MemberAccess","src":"4840:10:39","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":36928,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4840:54:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":36929,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4895:5:39","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"4840:60:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36916,"name":"ConstantSumLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37235,"src":"4724:14:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ConstantSumLib_$37235_$","typeString":"type(library ConstantSumLib)"}},"id":36917,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4739:15:39","memberName":"tradingFunction","nodeType":"MemberAccess","referencedDeclaration":37234,"src":"4724:30:39","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256,uint256,uint256,uint256) pure returns (int256)"}},"id":36930,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4724:186:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4712:198:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":36932,"nodeType":"ExpressionStatement","src":"4712:198:39"},{"expression":{"id":36942,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36933,"name":"valid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36888,"src":"4921:5:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":36941,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":36937,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36935,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"4929:8:39","subExpression":{"id":36934,"name":"EPSILON","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30665,"src":"4930:7:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":36936,"name":"invariant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36890,"src":"4940:9:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4929:20:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":36940,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36938,"name":"invariant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36890,"src":"4953:9:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":36939,"name":"EPSILON","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30665,"src":"4965:7:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4953:19:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4929:43:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4921:51:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36943,"nodeType":"ExpressionStatement","src":"4921:51:39"}]},"baseFunctions":[29787],"functionSelector":"8a04bdd5","implemented":true,"kind":"function","modifiers":[],"name":"validateAllocateOrDeallocate","nameLocation":"4279:28:39","parameters":{"id":36886,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36881,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":36945,"src":"4317:7:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":36880,"name":"address","nodeType":"ElementaryTypeName","src":"4317:7:39","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":36883,"mutability":"mutable","name":"poolId","nameLocation":"4342:6:39","nodeType":"VariableDeclaration","scope":36945,"src":"4334:14:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36882,"name":"uint256","nodeType":"ElementaryTypeName","src":"4334:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36885,"mutability":"mutable","name":"data","nameLocation":"4373:4:39","nodeType":"VariableDeclaration","scope":36945,"src":"4358:19:39","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":36884,"name":"bytes","nodeType":"ElementaryTypeName","src":"4358:5:39","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"4307:76:39"},"returnParameters":{"id":36897,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36888,"mutability":"mutable","name":"valid","nameLocation":"4449:5:39","nodeType":"VariableDeclaration","scope":36945,"src":"4444:10:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":36887,"name":"bool","nodeType":"ElementaryTypeName","src":"4444:4:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":36890,"mutability":"mutable","name":"invariant","nameLocation":"4475:9:39","nodeType":"VariableDeclaration","scope":36945,"src":"4468:16:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":36889,"name":"int256","nodeType":"ElementaryTypeName","src":"4468:6:39","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":36892,"mutability":"mutable","name":"reserveX","nameLocation":"4506:8:39","nodeType":"VariableDeclaration","scope":36945,"src":"4498:16:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36891,"name":"uint256","nodeType":"ElementaryTypeName","src":"4498:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36894,"mutability":"mutable","name":"reserveY","nameLocation":"4536:8:39","nodeType":"VariableDeclaration","scope":36945,"src":"4528:16:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36893,"name":"uint256","nodeType":"ElementaryTypeName","src":"4528:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36896,"mutability":"mutable","name":"totalLiquidity","nameLocation":"4566:14:39","nodeType":"VariableDeclaration","scope":36945,"src":"4558:22:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36895,"name":"uint256","nodeType":"ElementaryTypeName","src":"4558:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4430:160:39"},"scope":37071,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":37035,"nodeType":"FunctionDefinition","src":"4985:967:39","nodes":[],"body":{"id":37034,"nodeType":"Block","src":"5102:850:39","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":36961,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36956,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36947,"src":"5116:6:39","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"baseExpression":{"id":36957,"name":"internalParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36502,"src":"5126:14:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_InternalParams_$36483_storage_$","typeString":"mapping(uint256 => struct ConstantSum.InternalParams storage ref)"}},"id":36959,"indexExpression":{"id":36958,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36949,"src":"5141:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5126:22:39","typeDescriptions":{"typeIdentifier":"t_struct$_InternalParams_$36483_storage","typeString":"struct ConstantSum.InternalParams storage ref"}},"id":36960,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5149:10:39","memberName":"controller","nodeType":"MemberAccess","referencedDeclaration":36482,"src":"5126:33:39","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5116:43:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36965,"nodeType":"IfStatement","src":"5112:71:39","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":36962,"name":"InvalidSender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29742,"src":"5168:13:39","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":36963,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5168:15:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36964,"nodeType":"RevertStatement","src":"5161:22:39"}},{"assignments":[36970],"declarations":[{"constant":false,"id":36970,"mutability":"mutable","name":"updateCode","nameLocation":"5230:10:39","nodeType":"VariableDeclaration","scope":37034,"src":"5193:47:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_ConstantSumUpdateCode_$37086","typeString":"enum ConstantSumLib.ConstantSumUpdateCode"},"typeName":{"id":36969,"nodeType":"UserDefinedTypeName","pathNode":{"id":36968,"name":"ConstantSumLib.ConstantSumUpdateCode","nameLocations":["5193:14:39","5208:21:39"],"nodeType":"IdentifierPath","referencedDeclaration":37086,"src":"5193:36:39"},"referencedDeclaration":37086,"src":"5193:36:39","typeDescriptions":{"typeIdentifier":"t_enum$_ConstantSumUpdateCode_$37086","typeString":"enum ConstantSumLib.ConstantSumUpdateCode"}},"visibility":"internal"}],"id":36978,"initialValue":{"arguments":[{"id":36973,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36951,"src":"5266:4:39","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"components":[{"expression":{"id":36974,"name":"ConstantSumLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37235,"src":"5273:14:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ConstantSumLib_$37235_$","typeString":"type(library ConstantSumLib)"}},"id":36975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5288:21:39","memberName":"ConstantSumUpdateCode","nodeType":"MemberAccess","referencedDeclaration":37086,"src":"5273:36:39","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_ConstantSumUpdateCode_$37086_$","typeString":"type(enum ConstantSumLib.ConstantSumUpdateCode)"}}],"id":36976,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5272:38:39","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_ConstantSumUpdateCode_$37086_$","typeString":"type(enum ConstantSumLib.ConstantSumUpdateCode)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_type$_t_enum$_ConstantSumUpdateCode_$37086_$","typeString":"type(enum ConstantSumLib.ConstantSumUpdateCode)"}],"expression":{"id":36971,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"5255:3:39","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":36972,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5259:6:39","memberName":"decode","nodeType":"MemberAccess","src":"5255:10:39","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":36977,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5255:56:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_enum$_ConstantSumUpdateCode_$37086","typeString":"enum ConstantSumLib.ConstantSumUpdateCode"}},"nodeType":"VariableDeclarationStatement","src":"5193:118:39"},{"condition":{"commonType":{"typeIdentifier":"t_enum$_ConstantSumUpdateCode_$37086","typeString":"enum ConstantSumLib.ConstantSumUpdateCode"},"id":36983,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36979,"name":"updateCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36970,"src":"5326:10:39","typeDescriptions":{"typeIdentifier":"t_enum$_ConstantSumUpdateCode_$37086","typeString":"enum ConstantSumLib.ConstantSumUpdateCode"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":36980,"name":"ConstantSumLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37235,"src":"5340:14:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ConstantSumLib_$37235_$","typeString":"type(library ConstantSumLib)"}},"id":36981,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5355:21:39","memberName":"ConstantSumUpdateCode","nodeType":"MemberAccess","referencedDeclaration":37086,"src":"5340:36:39","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_ConstantSumUpdateCode_$37086_$","typeString":"type(enum ConstantSumLib.ConstantSumUpdateCode)"}},"id":36982,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5377:5:39","memberName":"Price","nodeType":"MemberAccess","referencedDeclaration":37084,"src":"5340:42:39","typeDescriptions":{"typeIdentifier":"t_enum$_ConstantSumUpdateCode_$37086","typeString":"enum ConstantSumLib.ConstantSumUpdateCode"}},"src":"5326:56:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_ConstantSumUpdateCode_$37086","typeString":"enum ConstantSumLib.ConstantSumUpdateCode"},"id":36999,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36995,"name":"updateCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36970,"src":"5504:10:39","typeDescriptions":{"typeIdentifier":"t_enum$_ConstantSumUpdateCode_$37086","typeString":"enum ConstantSumLib.ConstantSumUpdateCode"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":36996,"name":"ConstantSumLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37235,"src":"5518:14:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ConstantSumLib_$37235_$","typeString":"type(library ConstantSumLib)"}},"id":36997,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5533:21:39","memberName":"ConstantSumUpdateCode","nodeType":"MemberAccess","referencedDeclaration":37086,"src":"5518:36:39","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_ConstantSumUpdateCode_$37086_$","typeString":"type(enum ConstantSumLib.ConstantSumUpdateCode)"}},"id":36998,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5555:7:39","memberName":"SwapFee","nodeType":"MemberAccess","referencedDeclaration":37083,"src":"5518:44:39","typeDescriptions":{"typeIdentifier":"t_enum$_ConstantSumUpdateCode_$37086","typeString":"enum ConstantSumLib.ConstantSumUpdateCode"}},"src":"5504:58:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_ConstantSumUpdateCode_$37086","typeString":"enum ConstantSumLib.ConstantSumUpdateCode"},"id":37015,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":37011,"name":"updateCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36970,"src":"5697:10:39","typeDescriptions":{"typeIdentifier":"t_enum$_ConstantSumUpdateCode_$37086","typeString":"enum ConstantSumLib.ConstantSumUpdateCode"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":37012,"name":"ConstantSumLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37235,"src":"5711:14:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ConstantSumLib_$37235_$","typeString":"type(library ConstantSumLib)"}},"id":37013,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5726:21:39","memberName":"ConstantSumUpdateCode","nodeType":"MemberAccess","referencedDeclaration":37086,"src":"5711:36:39","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_ConstantSumUpdateCode_$37086_$","typeString":"type(enum ConstantSumLib.ConstantSumUpdateCode)"}},"id":37014,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5748:10:39","memberName":"Controller","nodeType":"MemberAccess","referencedDeclaration":37085,"src":"5711:47:39","typeDescriptions":{"typeIdentifier":"t_enum$_ConstantSumUpdateCode_$37086","typeString":"enum ConstantSumLib.ConstantSumUpdateCode"}},"src":"5697:61:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":37030,"nodeType":"Block","src":"5895:51:39","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":37027,"name":"InvalidUpdateCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29736,"src":"5916:17:39","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":37028,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5916:19:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":37029,"nodeType":"RevertStatement","src":"5909:26:39"}]},"id":37031,"nodeType":"IfStatement","src":"5680:266:39","trueBody":{"id":37026,"nodeType":"Block","src":"5769:120:39","statements":[{"expression":{"id":37024,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":37016,"name":"internalParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36502,"src":"5783:14:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_InternalParams_$36483_storage_$","typeString":"mapping(uint256 => struct ConstantSum.InternalParams storage ref)"}},"id":37018,"indexExpression":{"id":37017,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36949,"src":"5798:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5783:22:39","typeDescriptions":{"typeIdentifier":"t_struct$_InternalParams_$36483_storage","typeString":"struct ConstantSum.InternalParams storage ref"}},"id":37019,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"5806:10:39","memberName":"controller","nodeType":"MemberAccess","referencedDeclaration":36482,"src":"5783:33:39","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":37022,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36951,"src":"5873:4:39","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"expression":{"id":37020,"name":"ConstantSumLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37235,"src":"5835:14:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ConstantSumLib_$37235_$","typeString":"type(library ConstantSumLib)"}},"id":37021,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5850:22:39","memberName":"decodeControllerUpdate","nodeType":"MemberAccess","referencedDeclaration":37196,"src":"5835:37:39","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_address_$","typeString":"function (bytes memory) pure returns (address)"}},"id":37023,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5835:43:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5783:95:39","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":37025,"nodeType":"ExpressionStatement","src":"5783:95:39"}]}},"id":37032,"nodeType":"IfStatement","src":"5500:446:39","trueBody":{"id":37010,"nodeType":"Block","src":"5564:110:39","statements":[{"expression":{"id":37008,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":37000,"name":"internalParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36502,"src":"5578:14:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_InternalParams_$36483_storage_$","typeString":"mapping(uint256 => struct ConstantSum.InternalParams storage ref)"}},"id":37002,"indexExpression":{"id":37001,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36949,"src":"5593:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5578:22:39","typeDescriptions":{"typeIdentifier":"t_struct$_InternalParams_$36483_storage","typeString":"struct ConstantSum.InternalParams storage ref"}},"id":37003,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"5601:7:39","memberName":"swapFee","nodeType":"MemberAccess","referencedDeclaration":36480,"src":"5578:30:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":37006,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36951,"src":"5658:4:39","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"expression":{"id":37004,"name":"ConstantSumLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37235,"src":"5627:14:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ConstantSumLib_$37235_$","typeString":"type(library ConstantSumLib)"}},"id":37005,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5642:15:39","memberName":"decodeFeeUpdate","nodeType":"MemberAccess","referencedDeclaration":37125,"src":"5627:30:39","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_uint256_$","typeString":"function (bytes memory) pure returns (uint256)"}},"id":37007,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5627:36:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5578:85:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":37009,"nodeType":"ExpressionStatement","src":"5578:85:39"}]}},"id":37033,"nodeType":"IfStatement","src":"5322:624:39","trueBody":{"id":36994,"nodeType":"Block","src":"5384:110:39","statements":[{"expression":{"id":36992,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":36984,"name":"internalParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36502,"src":"5398:14:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_InternalParams_$36483_storage_$","typeString":"mapping(uint256 => struct ConstantSum.InternalParams storage ref)"}},"id":36986,"indexExpression":{"id":36985,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36949,"src":"5413:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5398:22:39","typeDescriptions":{"typeIdentifier":"t_struct$_InternalParams_$36483_storage","typeString":"struct ConstantSum.InternalParams storage ref"}},"id":36987,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"5421:5:39","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36478,"src":"5398:28:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":36990,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36951,"src":"5478:4:39","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"expression":{"id":36988,"name":"ConstantSumLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37235,"src":"5445:14:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ConstantSumLib_$37235_$","typeString":"type(library ConstantSumLib)"}},"id":36989,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5460:17:39","memberName":"decodePriceUpdate","nodeType":"MemberAccess","referencedDeclaration":37160,"src":"5445:32:39","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_uint256_$","typeString":"function (bytes memory) pure returns (uint256)"}},"id":36991,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5445:38:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5398:85:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36993,"nodeType":"ExpressionStatement","src":"5398:85:39"}]}}]},"baseFunctions":[29817],"functionSelector":"acad2989","implemented":true,"kind":"function","modifiers":[{"id":36954,"kind":"modifierInvocation","modifierName":{"id":36953,"name":"onlyDFMM","nameLocations":["5093:8:39"],"nodeType":"IdentifierPath","referencedDeclaration":36524,"src":"5093:8:39"},"nodeType":"ModifierInvocation","src":"5093:8:39"}],"name":"update","nameLocation":"4994:6:39","parameters":{"id":36952,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36947,"mutability":"mutable","name":"sender","nameLocation":"5018:6:39","nodeType":"VariableDeclaration","scope":37035,"src":"5010:14:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":36946,"name":"address","nodeType":"ElementaryTypeName","src":"5010:7:39","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":36949,"mutability":"mutable","name":"poolId","nameLocation":"5042:6:39","nodeType":"VariableDeclaration","scope":37035,"src":"5034:14:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36948,"name":"uint256","nodeType":"ElementaryTypeName","src":"5034:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36951,"mutability":"mutable","name":"data","nameLocation":"5073:4:39","nodeType":"VariableDeclaration","scope":37035,"src":"5058:19:39","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":36950,"name":"bytes","nodeType":"ElementaryTypeName","src":"5058:5:39","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"5000:83:39"},"returnParameters":{"id":36955,"nodeType":"ParameterList","parameters":[],"src":"5102:0:39"},"scope":37071,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":37070,"nodeType":"FunctionDefinition","src":"5958:269:39","nodes":[],"body":{"id":37069,"nodeType":"Block","src":"6032:195:39","nodes":[],"statements":[{"assignments":[37044],"declarations":[{"constant":false,"id":37044,"mutability":"mutable","name":"params","nameLocation":"6067:6:39","nodeType":"VariableDeclaration","scope":37069,"src":"6042:31:39","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams"},"typeName":{"id":37043,"nodeType":"UserDefinedTypeName","pathNode":{"id":37042,"name":"ConstantSumParams","nameLocations":["6042:17:39"],"nodeType":"IdentifierPath","referencedDeclaration":36490,"src":"6042:17:39"},"referencedDeclaration":36490,"src":"6042:17:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_storage_ptr","typeString":"struct ConstantSum.ConstantSumParams"}},"visibility":"internal"}],"id":37045,"nodeType":"VariableDeclarationStatement","src":"6042:31:39"},{"expression":{"id":37053,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":37046,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37044,"src":"6084:6:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":37048,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"6091:5:39","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"6084:12:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"baseExpression":{"id":37049,"name":"internalParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36502,"src":"6099:14:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_InternalParams_$36483_storage_$","typeString":"mapping(uint256 => struct ConstantSum.InternalParams storage ref)"}},"id":37051,"indexExpression":{"id":37050,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37037,"src":"6114:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6099:22:39","typeDescriptions":{"typeIdentifier":"t_struct$_InternalParams_$36483_storage","typeString":"struct ConstantSum.InternalParams storage ref"}},"id":37052,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6122:5:39","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36478,"src":"6099:28:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6084:43:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":37054,"nodeType":"ExpressionStatement","src":"6084:43:39"},{"expression":{"id":37062,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":37055,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37044,"src":"6137:6:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":37057,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"6144:7:39","memberName":"swapFee","nodeType":"MemberAccess","referencedDeclaration":36487,"src":"6137:14:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"baseExpression":{"id":37058,"name":"internalParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36502,"src":"6154:14:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_InternalParams_$36483_storage_$","typeString":"mapping(uint256 => struct ConstantSum.InternalParams storage ref)"}},"id":37060,"indexExpression":{"id":37059,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37037,"src":"6169:6:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6154:22:39","typeDescriptions":{"typeIdentifier":"t_struct$_InternalParams_$36483_storage","typeString":"struct ConstantSum.InternalParams storage ref"}},"id":37061,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6177:7:39","memberName":"swapFee","nodeType":"MemberAccess","referencedDeclaration":36480,"src":"6154:30:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6137:47:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":37063,"nodeType":"ExpressionStatement","src":"6137:47:39"},{"expression":{"arguments":[{"id":37066,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37044,"src":"6213:6:39","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}],"expression":{"id":37064,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"6202:3:39","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":37065,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"6206:6:39","memberName":"encode","nodeType":"MemberAccess","src":"6202:10:39","typeDescriptions":{"typeIdentifier":"t_function_abiencode_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":37067,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6202:18:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"functionReturnParameters":37041,"id":37068,"nodeType":"Return","src":"6195:25:39"}]},"baseFunctions":[29838],"functionSelector":"dc178355","implemented":true,"kind":"function","modifiers":[],"name":"getPoolParams","nameLocation":"5967:13:39","parameters":{"id":37038,"nodeType":"ParameterList","parameters":[{"constant":false,"id":37037,"mutability":"mutable","name":"poolId","nameLocation":"5989:6:39","nodeType":"VariableDeclaration","scope":37070,"src":"5981:14:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":37036,"name":"uint256","nodeType":"ElementaryTypeName","src":"5981:7:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5980:16:39"},"returnParameters":{"id":37041,"nodeType":"ParameterList","parameters":[{"constant":false,"id":37040,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":37070,"src":"6018:12:39","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":37039,"name":"bytes","nodeType":"ElementaryTypeName","src":"6018:5:39","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"6017:14:39"},"scope":37071,"stateMutability":"view","virtual":false,"visibility":"public"}],"abstract":false,"baseContracts":[{"baseName":{"id":36468,"name":"IStrategy","nameLocations":["268:9:39"],"nodeType":"IdentifierPath","referencedDeclaration":29839,"src":"268:9:39"},"id":36469,"nodeType":"InheritanceSpecifier","src":"268:9:39"}],"canonicalName":"ConstantSum","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[37071,29839],"name":"ConstantSum","nameLocation":"253:11:39","scope":37072,"usedErrors":[29736,29739,29742],"usedEvents":[]}],"license":"GPL-3.0-or-later"},"id":39}