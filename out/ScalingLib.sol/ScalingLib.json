{"abi":[],"bytecode":{"object":"0x","linkReferences":{}},"deployedBytecode":{"object":"0x","linkReferences":{}},"ast":{"absolutePath":"src/lib/ScalingLib.sol","id":30097,"exportedSymbols":{"ERC20":[25948],"FixedPointMathLib":[26640],"computeScalingFactor":[30048],"downscaleDown":[30080],"downscaleUp":[30096],"upscale":[30064]},"nodeType":"SourceUnit","src":"45:841:29","nodes":[{"id":30014,"nodeType":"PragmaDirective","src":"45:24:29","nodes":[],"literals":["solidity","^","0.8",".13"]},{"id":30015,"nodeType":"ImportDirective","src":"71:34:29","nodes":[],"absolutePath":"lib/solstat/lib/solmate/src/tokens/ERC20.sol","file":"solmate/tokens/ERC20.sol","nameLocation":"-1:-1:-1","scope":30097,"sourceUnit":25949,"symbolAliases":[],"unitAlias":""},{"id":30016,"nodeType":"ImportDirective","src":"106:45:29","nodes":[],"absolutePath":"lib/solstat/lib/solmate/src/utils/FixedPointMathLib.sol","file":"solmate/utils/FixedPointMathLib.sol","nameLocation":"-1:-1:-1","scope":30097,"sourceUnit":26641,"symbolAliases":[],"unitAlias":""},{"id":30019,"nodeType":"UsingForDirective","src":"153:36:29","nodes":[],"global":false,"libraryName":{"id":30017,"name":"FixedPointMathLib","nameLocations":["159:17:29"],"nodeType":"IdentifierPath","referencedDeclaration":26640,"src":"159:17:29"},"typeName":{"id":30018,"name":"uint256","nodeType":"ElementaryTypeName","src":"181:7:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":30048,"nodeType":"FunctionDefinition","src":"191:212:29","nodes":[],"body":{"id":30047,"nodeType":"Block","src":"259:144:29","nodes":[],"statements":[{"assignments":[30027],"declarations":[{"constant":false,"id":30027,"mutability":"mutable","name":"decimals","nameLocation":"273:8:29","nodeType":"VariableDeclaration","scope":30047,"src":"265:16:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30026,"name":"uint256","nodeType":"ElementaryTypeName","src":"265:7:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":30033,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":30029,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30021,"src":"290:5:29","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":30028,"name":"ERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25948,"src":"284:5:29","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ERC20_$25948_$","typeString":"type(contract ERC20)"}},"id":30030,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"284:12:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ERC20_$25948","typeString":"contract ERC20"}},"id":30031,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"297:8:29","memberName":"decimals","nodeType":"MemberAccess","referencedDeclaration":25585,"src":"284:21:29","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint8_$","typeString":"function () view external returns (uint8)"}},"id":30032,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"284:23:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"VariableDeclarationStatement","src":"265:42:29"},{"assignments":[30035],"declarations":[{"constant":false,"id":30035,"mutability":"mutable","name":"difference","nameLocation":"321:10:29","nodeType":"VariableDeclaration","scope":30047,"src":"313:18:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30034,"name":"uint256","nodeType":"ElementaryTypeName","src":"313:7:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":30039,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":30038,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"3138","id":30036,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"334:2:29","typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":30037,"name":"decimals","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30027,"src":"339:8:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"334:13:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"313:34:29"},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":30045,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":30040,"name":"FixedPointMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":26640,"src":"360:17:29","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPointMathLib_$26640_$","typeString":"type(library FixedPointMathLib)"}},"id":30041,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"378:3:29","memberName":"WAD","nodeType":"MemberAccess","referencedDeclaration":26033,"src":"360:21:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":30044,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"3130","id":30042,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"384:2:29","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"id":30043,"name":"difference","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30035,"src":"390:10:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"384:16:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"360:40:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":30025,"id":30046,"nodeType":"Return","src":"353:47:29"}]},"implemented":true,"kind":"freeFunction","modifiers":[],"name":"computeScalingFactor","nameLocation":"200:20:29","parameters":{"id":30022,"nodeType":"ParameterList","parameters":[{"constant":false,"id":30021,"mutability":"mutable","name":"token","nameLocation":"229:5:29","nodeType":"VariableDeclaration","scope":30048,"src":"221:13:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":30020,"name":"address","nodeType":"ElementaryTypeName","src":"221:7:29","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"220:15:29"},"returnParameters":{"id":30025,"nodeType":"ParameterList","parameters":[{"constant":false,"id":30024,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":30048,"src":"250:7:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30023,"name":"uint256","nodeType":"ElementaryTypeName","src":"250:7:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"249:9:29"},"scope":30097,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":30064,"nodeType":"FunctionDefinition","src":"405:156:29","nodes":[],"body":{"id":30063,"nodeType":"Block","src":"494:67:29","nodes":[],"statements":[{"expression":{"arguments":[{"id":30059,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30050,"src":"536:6:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":30060,"name":"scalingFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30052,"src":"544:13:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":30057,"name":"FixedPointMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":26640,"src":"507:17:29","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPointMathLib_$26640_$","typeString":"type(library FixedPointMathLib)"}},"id":30058,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"525:10:29","memberName":"mulWadDown","nodeType":"MemberAccess","referencedDeclaration":26049,"src":"507:28:29","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":30061,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"507:51:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":30056,"id":30062,"nodeType":"Return","src":"500:58:29"}]},"implemented":true,"kind":"freeFunction","modifiers":[],"name":"upscale","nameLocation":"414:7:29","parameters":{"id":30053,"nodeType":"ParameterList","parameters":[{"constant":false,"id":30050,"mutability":"mutable","name":"amount","nameLocation":"435:6:29","nodeType":"VariableDeclaration","scope":30064,"src":"427:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30049,"name":"uint256","nodeType":"ElementaryTypeName","src":"427:7:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":30052,"mutability":"mutable","name":"scalingFactor","nameLocation":"455:13:29","nodeType":"VariableDeclaration","scope":30064,"src":"447:21:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30051,"name":"uint256","nodeType":"ElementaryTypeName","src":"447:7:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"421:49:29"},"returnParameters":{"id":30056,"nodeType":"ParameterList","parameters":[{"constant":false,"id":30055,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":30064,"src":"485:7:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30054,"name":"uint256","nodeType":"ElementaryTypeName","src":"485:7:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"484:9:29"},"scope":30097,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":30080,"nodeType":"FunctionDefinition","src":"563:162:29","nodes":[],"body":{"id":30079,"nodeType":"Block","src":"658:67:29","nodes":[],"statements":[{"expression":{"arguments":[{"id":30075,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30066,"src":"700:6:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":30076,"name":"scalingFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30068,"src":"708:13:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":30073,"name":"FixedPointMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":26640,"src":"671:17:29","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPointMathLib_$26640_$","typeString":"type(library FixedPointMathLib)"}},"id":30074,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"689:10:29","memberName":"divWadDown","nodeType":"MemberAccess","referencedDeclaration":26081,"src":"671:28:29","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":30077,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"671:51:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":30072,"id":30078,"nodeType":"Return","src":"664:58:29"}]},"implemented":true,"kind":"freeFunction","modifiers":[],"name":"downscaleDown","nameLocation":"572:13:29","parameters":{"id":30069,"nodeType":"ParameterList","parameters":[{"constant":false,"id":30066,"mutability":"mutable","name":"amount","nameLocation":"599:6:29","nodeType":"VariableDeclaration","scope":30080,"src":"591:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30065,"name":"uint256","nodeType":"ElementaryTypeName","src":"591:7:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":30068,"mutability":"mutable","name":"scalingFactor","nameLocation":"619:13:29","nodeType":"VariableDeclaration","scope":30080,"src":"611:21:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30067,"name":"uint256","nodeType":"ElementaryTypeName","src":"611:7:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"585:49:29"},"returnParameters":{"id":30072,"nodeType":"ParameterList","parameters":[{"constant":false,"id":30071,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":30080,"src":"649:7:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30070,"name":"uint256","nodeType":"ElementaryTypeName","src":"649:7:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"648:9:29"},"scope":30097,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":30096,"nodeType":"FunctionDefinition","src":"727:158:29","nodes":[],"body":{"id":30095,"nodeType":"Block","src":"820:65:29","nodes":[],"statements":[{"expression":{"arguments":[{"id":30091,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30082,"src":"860:6:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":30092,"name":"scalingFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30084,"src":"868:13:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":30089,"name":"FixedPointMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":26640,"src":"833:17:29","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPointMathLib_$26640_$","typeString":"type(library FixedPointMathLib)"}},"id":30090,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"851:8:29","memberName":"divWadUp","nodeType":"MemberAccess","referencedDeclaration":26097,"src":"833:26:29","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":30093,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"833:49:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":30088,"id":30094,"nodeType":"Return","src":"826:56:29"}]},"implemented":true,"kind":"freeFunction","modifiers":[],"name":"downscaleUp","nameLocation":"736:11:29","parameters":{"id":30085,"nodeType":"ParameterList","parameters":[{"constant":false,"id":30082,"mutability":"mutable","name":"amount","nameLocation":"761:6:29","nodeType":"VariableDeclaration","scope":30096,"src":"753:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30081,"name":"uint256","nodeType":"ElementaryTypeName","src":"753:7:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":30084,"mutability":"mutable","name":"scalingFactor","nameLocation":"781:13:29","nodeType":"VariableDeclaration","scope":30096,"src":"773:21:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30083,"name":"uint256","nodeType":"ElementaryTypeName","src":"773:7:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"747:49:29"},"returnParameters":{"id":30088,"nodeType":"ParameterList","parameters":[{"constant":false,"id":30087,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":30096,"src":"811:7:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30086,"name":"uint256","nodeType":"ElementaryTypeName","src":"811:7:29","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"810:9:29"},"scope":30097,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"license":"GPL-3.0-or-later"},"id":29}