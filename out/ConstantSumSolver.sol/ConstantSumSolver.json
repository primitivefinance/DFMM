{"abi":[{"type":"constructor","inputs":[{"name":"strategy_","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"getInitialPoolData","inputs":[{"name":"rx","type":"uint256","internalType":"uint256"},{"name":"ry","type":"uint256","internalType":"uint256"},{"name":"params","type":"tuple","internalType":"struct ConstantSum.ConstantSumParams","components":[{"name":"price","type":"uint256","internalType":"uint256"},{"name":"swapFee","type":"uint256","internalType":"uint256"},{"name":"controller","type":"address","internalType":"address"}]}],"outputs":[{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"pure"},{"type":"function","name":"simulateAllocateOrDeallocate","inputs":[{"name":"poolId","type":"uint256","internalType":"uint256"},{"name":"IsAllocate","type":"bool","internalType":"bool"},{"name":"amountX","type":"uint256","internalType":"uint256"},{"name":"amountY","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"},{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"view"},{"type":"function","name":"simulateSwap","inputs":[{"name":"poolId","type":"uint256","internalType":"uint256"},{"name":"swapXIn","type":"bool","internalType":"bool"},{"name":"amountIn","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"},{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"view"},{"type":"function","name":"strategy","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"error","name":"NotEnoughLiquidity","inputs":[]}],"bytecode":{"object":"0x60803461007457601f610c8938819003918201601f19168301916001600160401b038311848410176100795780849260209460405283398101031261007457516001600160a01b0381169081900361007457600080546001600160a01b031916919091179055604051610bf990816100908239f35b600080fd5b634e487b7160e01b600052604160045260246000fdfe60406080815260048036101561001457600080fd5b600091823560e01c9283633928ff971461005f57505050806389ea85591461005a5780638a1a20de146100555763a8c62e761461005057600080fd5b61088b565b6105c9565b6104fa565b346103cc5760603660031901126103cc57823560243561007e816103cf565b6044359161008a6108b4565b956100936108b4565b85549094906100b8906100ac906001600160a01b031681565b6001600160a01b031690565b8751632bee84f160e21b81529094602092838386818a5afa9283156102b657899361039d575b5060608a5180946333854efd60e21b825281806101028b8b83019190602083019252565b03916001600160a01b03165afa9081156102b6578b938a908b908c94610367575b50858d019384529486019485528c528a5163dc17835560e01b81528681018881528b908290819060200103818c5afa80156102b657610172918c91610345575b50868082518301019101610978565b92156102cb57916101be916101b66101de946101af888501516101a96101a361019b8386610b54565b975185610b80565b916109c8565b90610b80565b9e516109eb565b8a52516109eb565b8988019081526101d58b6101d06109f8565b610acc565b516101d0610a1f565b888151106102bb579261022f959261023d61025996936102018c60c098516109de565b818701525b8a5198899687928301919091604080606083019480518452602081015160208501520151910152565b03601f1981018652856104b6565b8851630d17a7c760e31b81529586948593849330908501610a78565b03915afa9283156102b6579261027e575b5061027a91925193849384610426565b0390f35b61027a92506102a49060c03d60c0116102af575b61029c81836104b6565b810190610a41565b50505050509161026a565b503d610292565b6108e8565b8751634323a55560e01b81528390fd5b916101be9161031161031b946101af969e968885015194610309836103046102fe6102f68a84610b54565b855190610b24565b986109c8565b610b80565b905190610ba1565b868b0152516109eb565b888151106102bb579261022f959261023d610259969361033e8c60c098516109de565b8652610206565b61036191503d808e833e61035981836104b6565b81019061090f565b8e610163565b91505061038d91925060603d606011610396575b61038581836104b6565b8101906108f4565b9291908e610123565b503d61037b565b6103be919350843d86116103c5575b6103b681836104b6565b8101906108d3565b918b6100de565b503d6103ac565b80fd5b801515036103d957565b600080fd5b60005b8381106103f15750506000910152565b81810151838201526020016103e1565b9060209161041a815180928185528580860191016103de565b601f01601f1916010190565b61044493926060921515825260208201528160408201520190610401565b90565b634e487b7160e01b600052604160045260246000fd5b6060810190811067ffffffffffffffff82111761047957604052565b610447565b60e0810190811067ffffffffffffffff82111761047957604052565b6040810190811067ffffffffffffffff82111761047957604052565b90601f8019910116810190811067ffffffffffffffff82111761047957604052565b6001600160a01b038116036103d957565b906020610444928181520190610401565b346103d95760a03660031901126103d95760243560043560603660431901126103d9576040516105298161045d565b60443590818152602081019060643582526105576084359361054a856104d8565b6040830194855286610b24565b84018085116105ab5761027a95604051956020870152604086015260608501525160808401525160a083015260018060a01b0390511660c082015260c0815261059f8161047e565b604051918291826104e9565b6109b2565b6040906104449392151581528160208201520190610401565b346103d95760803660031901126103d957600460243581356105ea826103cf565b604435906064356105f96108b4565b916106026108b4565b9260009561061c6100ac6100ac895460018060a01b031690565b93604096875190632bee84f160e21b825260209485838d818b5afa80156102b657876060918e61066d968f9261086c575b508d516333854efd60e21b81529081019283529586928391829160200190565b03916001600160a01b03165afa80156102b6578b888e6106bd938e9784918591869161084a575b508c880199880152885285528d51938492839263dc17835560e01b845283019190602083019252565b03818c5afa80156102b6576106e2918d91610830575b50878082518301019101610978565b94156107cf5761077698969461072661071761022f9e9661075a9661070f60a09d9b9761072c97516109eb565b8c52516109eb565b80858b01528951925190610b24565b906109eb565b898701525b88519a8b9687928301919091604080606083019480518452602081015160208501520151910152565b8651638a04bdd560e01b81529586948593849330908501610a78565b03915afa9283156102b65792610796575b5061027a9051928392836105b0565b61027a9192506107bd9060a03d60a0116107c8575b6107b581836104b6565b810190610a9c565b505050509190610787565b503d6107ab565b818151108015610826575b6108165761077698969461072661071761022f9e9661075a9661080560a09d9b9761080d97516109de565b8c52516109de565b89870152610731565b8951634323a55560e01b81528c90fd5b50838351106107da565b61084491503d808f833e61035981836104b6565b386106d3565b915050610866915060603d6060116103965761038581836104b6565b38610694565b6108849192508a3d8c116103c5576103b681836104b6565b903861064d565b346103d95760003660031901126103d9576000546040516001600160a01b039091168152602090f35b604051906108c18261045d565b60006040838281528260208201520152565b908160209103126103d95751610444816104d8565b6040513d6000823e3d90fd5b908160609103126103d9578051916040602083015192015190565b6020818303126103d957805167ffffffffffffffff918282116103d957019082601f830112156103d9578151908111610479576040519261095a601f8301601f1916602001856104b6565b818452602082840101116103d95761044491602080850191016103de565b908160609103126103d95760408051916109918361045d565b805183526020810151602084015201516109aa816104d8565b604082015290565b634e487b7160e01b600052601160045260246000fd5b90670de0b6b3a76400009182039182116105ab57565b919082039182116105ab57565b919082018092116105ab57565b60405190610a058261049a565b600b82526a030b6b7bab73a27baba1d160ad1b6020830152565b60405190610a2c8261049a565b600682526503732bba61d160d51b6020830152565b91908260c09103126103d9578151610a58816103cf565b9160208101519160408201519160608101519160a0608083015192015190565b610444939260609260018060a01b0316825260208201528160408201520190610401565b908160a09103126103d9578051610ab2816103cf565b916020820151916040810151916080606083015192015190565b600091908291610b116040518092610afd6020830195632d839cb360e21b8752604060248501526064840190610401565b90604483015203601f1981018352826104b6565b51906a636f6e736f6c652e6c6f675afa50565b90670de0b6b3a764000091828102928184041490151781151516156103d957600190600019830104019015150290565b8181029181830414901517600116156103d9576001670de0b6b3a7640000600019830104019015150290565b8181029181830414901517600116156103d957670de0b6b3a7640000900490565b670de0b6b3a764000090818102918183041490151782151516156103d957049056fea26469706673582212208dfd5857d9ca2481ec2f8db3afb8a6c38074c957084a4bb83e162400bf0d0bad64736f6c63430008160033","sourceMap":"268:4281:34:-:0;;;;;;;;;;;;;-1:-1:-1;;268:4281:34;;;;-1:-1:-1;;;;;268:4281:34;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;268:4281:34;;;;;;;;-1:-1:-1;268:4281:34;;-1:-1:-1;;;;;;268:4281:34;;;;;;;;;;;;;;;;;-1:-1:-1;268:4281:34;;;;;;-1:-1:-1;268:4281:34;;;;;-1:-1:-1;268:4281:34","linkReferences":{}},"deployedBytecode":{"object":"0x60406080815260048036101561001457600080fd5b600091823560e01c9283633928ff971461005f57505050806389ea85591461005a5780638a1a20de146100555763a8c62e761461005057600080fd5b61088b565b6105c9565b6104fa565b346103cc5760603660031901126103cc57823560243561007e816103cf565b6044359161008a6108b4565b956100936108b4565b85549094906100b8906100ac906001600160a01b031681565b6001600160a01b031690565b8751632bee84f160e21b81529094602092838386818a5afa9283156102b657899361039d575b5060608a5180946333854efd60e21b825281806101028b8b83019190602083019252565b03916001600160a01b03165afa9081156102b6578b938a908b908c94610367575b50858d019384529486019485528c528a5163dc17835560e01b81528681018881528b908290819060200103818c5afa80156102b657610172918c91610345575b50868082518301019101610978565b92156102cb57916101be916101b66101de946101af888501516101a96101a361019b8386610b54565b975185610b80565b916109c8565b90610b80565b9e516109eb565b8a52516109eb565b8988019081526101d58b6101d06109f8565b610acc565b516101d0610a1f565b888151106102bb579261022f959261023d61025996936102018c60c098516109de565b818701525b8a5198899687928301919091604080606083019480518452602081015160208501520151910152565b03601f1981018652856104b6565b8851630d17a7c760e31b81529586948593849330908501610a78565b03915afa9283156102b6579261027e575b5061027a91925193849384610426565b0390f35b61027a92506102a49060c03d60c0116102af575b61029c81836104b6565b810190610a41565b50505050509161026a565b503d610292565b6108e8565b8751634323a55560e01b81528390fd5b916101be9161031161031b946101af969e968885015194610309836103046102fe6102f68a84610b54565b855190610b24565b986109c8565b610b80565b905190610ba1565b868b0152516109eb565b888151106102bb579261022f959261023d610259969361033e8c60c098516109de565b8652610206565b61036191503d808e833e61035981836104b6565b81019061090f565b8e610163565b91505061038d91925060603d606011610396575b61038581836104b6565b8101906108f4565b9291908e610123565b503d61037b565b6103be919350843d86116103c5575b6103b681836104b6565b8101906108d3565b918b6100de565b503d6103ac565b80fd5b801515036103d957565b600080fd5b60005b8381106103f15750506000910152565b81810151838201526020016103e1565b9060209161041a815180928185528580860191016103de565b601f01601f1916010190565b61044493926060921515825260208201528160408201520190610401565b90565b634e487b7160e01b600052604160045260246000fd5b6060810190811067ffffffffffffffff82111761047957604052565b610447565b60e0810190811067ffffffffffffffff82111761047957604052565b6040810190811067ffffffffffffffff82111761047957604052565b90601f8019910116810190811067ffffffffffffffff82111761047957604052565b6001600160a01b038116036103d957565b906020610444928181520190610401565b346103d95760a03660031901126103d95760243560043560603660431901126103d9576040516105298161045d565b60443590818152602081019060643582526105576084359361054a856104d8565b6040830194855286610b24565b84018085116105ab5761027a95604051956020870152604086015260608501525160808401525160a083015260018060a01b0390511660c082015260c0815261059f8161047e565b604051918291826104e9565b6109b2565b6040906104449392151581528160208201520190610401565b346103d95760803660031901126103d957600460243581356105ea826103cf565b604435906064356105f96108b4565b916106026108b4565b9260009561061c6100ac6100ac895460018060a01b031690565b93604096875190632bee84f160e21b825260209485838d818b5afa80156102b657876060918e61066d968f9261086c575b508d516333854efd60e21b81529081019283529586928391829160200190565b03916001600160a01b03165afa80156102b6578b888e6106bd938e9784918591869161084a575b508c880199880152885285528d51938492839263dc17835560e01b845283019190602083019252565b03818c5afa80156102b6576106e2918d91610830575b50878082518301019101610978565b94156107cf5761077698969461072661071761022f9e9661075a9661070f60a09d9b9761072c97516109eb565b8c52516109eb565b80858b01528951925190610b24565b906109eb565b898701525b88519a8b9687928301919091604080606083019480518452602081015160208501520151910152565b8651638a04bdd560e01b81529586948593849330908501610a78565b03915afa9283156102b65792610796575b5061027a9051928392836105b0565b61027a9192506107bd9060a03d60a0116107c8575b6107b581836104b6565b810190610a9c565b505050509190610787565b503d6107ab565b818151108015610826575b6108165761077698969461072661071761022f9e9661075a9661080560a09d9b9761080d97516109de565b8c52516109de565b89870152610731565b8951634323a55560e01b81528c90fd5b50838351106107da565b61084491503d808f833e61035981836104b6565b386106d3565b915050610866915060603d6060116103965761038581836104b6565b38610694565b6108849192508a3d8c116103c5576103b681836104b6565b903861064d565b346103d95760003660031901126103d9576000546040516001600160a01b039091168152602090f35b604051906108c18261045d565b60006040838281528260208201520152565b908160209103126103d95751610444816104d8565b6040513d6000823e3d90fd5b908160609103126103d9578051916040602083015192015190565b6020818303126103d957805167ffffffffffffffff918282116103d957019082601f830112156103d9578151908111610479576040519261095a601f8301601f1916602001856104b6565b818452602082840101116103d95761044491602080850191016103de565b908160609103126103d95760408051916109918361045d565b805183526020810151602084015201516109aa816104d8565b604082015290565b634e487b7160e01b600052601160045260246000fd5b90670de0b6b3a76400009182039182116105ab57565b919082039182116105ab57565b919082018092116105ab57565b60405190610a058261049a565b600b82526a030b6b7bab73a27baba1d160ad1b6020830152565b60405190610a2c8261049a565b600682526503732bba61d160d51b6020830152565b91908260c09103126103d9578151610a58816103cf565b9160208101519160408201519160608101519160a0608083015192015190565b610444939260609260018060a01b0316825260208201528160408201520190610401565b908160a09103126103d9578051610ab2816103cf565b916020820151916040810151916080606083015192015190565b600091908291610b116040518092610afd6020830195632d839cb360e21b8752604060248501526064840190610401565b90604483015203601f1981018352826104b6565b51906a636f6e736f6c652e6c6f675afa50565b90670de0b6b3a764000091828102928184041490151781151516156103d957600190600019830104019015150290565b8181029181830414901517600116156103d9576001670de0b6b3a7640000600019830104019015150290565b8181029181830414901517600116156103d957670de0b6b3a7640000900490565b670de0b6b3a764000090818102918183041490151782151516156103d957049056fea26469706673582212208dfd5857d9ca2481ec2f8db3afb8a6c38074c957084a4bb83e162400bf0d0bad64736f6c63430008160033","sourceMap":"268:4281:34:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;:::i;:::-;;;;;;-1:-1:-1;;268:4281:34;;;;;;;;;;;:::i;:::-;;;;;;:::i;:::-;;;;:::i;:::-;;;;;;1359:24;;:19;;-1:-1:-1;;;;;268:4281:34;1359:19;268:4281;;-1:-1:-1;;;;;268:4281:34;;;1359:24;268:4281;;-1:-1:-1;;;1359:26:34;;268:4281;;;;;;1359:26;268:4281;;1359:26;;;;;;;;;;;268:4281;;;;;;;;;;1353:65;;;;;;;;;268:4281;;;;;;;;1353:65;;;-1:-1:-1;;;;;268:4281:34;1353:65;;;;;;;;;;268:4281;;;;1353:65;;;268:4281;-1:-1:-1;1322:15:34;;;268:4281;;;1304:16;;;268:4281;;;;;;;-1:-1:-1;;;1502:41:34;;;;;268:4281;;;1502:41;;268:4281;;;;;;1502:41;;;;;;;;;1478:120;1502:41;;;;;268:4281;;;;;;1478:120;;;;;;:::i;:::-;1608:17;1635:1239;;;1697:18;1936:24;1697:18;1879:27;2027:37;1697:18;631:21:18;1697:18:34;;;268:4281;1809:24;631:21:18;799:19;;;;:::i;:::-;268:4281:34;;631:21:18;;:::i;:::-;1809:24:34;;:::i;:::-;631:21:18;;:::i;:::-;268:4281:34;;1879:27;:::i;:::-;268:4281;;;1936:24;:::i;:::-;1920:13;;;268:4281;;;1975:38;378:4:31;;;:::i;:::-;1975:38:34;:::i;:::-;268:4281;378:4:31;;:::i;2027:37:34:-;268:4281;;;2083:28;2079:94;;268:4281;2908:23;268:4281;;2908:23;2973:65;268:4281;;2203:28;268:4281;2973:65;268:4281;;2203:28;:::i;:::-;2186:14;;;268:4281;1635:1239;268:4281;;2908:23;;;;;;;378:4:31;;;;;;;;;;;268:4281:34;;378:4:31;;;;;;;268:4281:34;378:4:31;;;;268:4281:34;378:4:31;2908:23:34;;;;;;;;;;:::i;:::-;268:4281;;-1:-1:-1;;;2973:65:34;;268:4281;;;;;;;3014:4;;2973:65;;;:::i;:::-;;;;;;;;;;;;;1635:1239;268:4281;;;;;;;;;;:::i;:::-;;;;2973:65;268:4281;2973:65;;;;;;;;;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;;;;;;;:::i;2079:94::-;268:4281;;-1:-1:-1;;;2138:20:34;;268:4281;;2138:20;1635:1239;2313:18;2568:24;2313:18;2511:27;2659:37;2313:18;965:21:18;2313:18:34;;;;;;268:4281;799:19:18;631:21;799:19;2387:24:34;1133:19:18;799;;;;:::i;:::-;268:4281:34;;1133:19:18;;:::i;:::-;2387:24:34;;:::i;:::-;631:21:18;:::i;:::-;268:4281:34;;965:21:18;;:::i;2511:27:34:-;2494:14;;;268:4281;;2568:24;:::i;2659:37::-;268:4281;;;2715:28;2711:94;;268:4281;2908:23;268:4281;;2908:23;2973:65;268:4281;;2835:28;268:4281;2973:65;268:4281;;2835:28;:::i;:::-;268:4281;;1635:1239;;1502:41;;;-1:-1:-1;1502:41:34;;;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;1353:65;;;;;;;;268:4281;1353:65;268:4281;1353:65;;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;;;1359:26;;;;;;;;;;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;268:4281;;;;;;;;;;:::o;:::-;;;;;;;;;;;;-1:-1:-1;;268:4281:34;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;;268:4281:34;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;:::i;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;2908:23;;268:4281;;;;;;;;;;;;;;;;:::o;:::-;-1:-1:-1;;;;;268:4281:34;;;;;:::o;:::-;;;;;;;;;;;:::i;:::-;;;;;;-1:-1:-1;;268:4281:34;;;;;;;;;;-1:-1:-1;;268:4281:34;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;1133:19:18;268:4281:34;;;;;;:::i;:::-;;;;;;;1133:19:18;;:::i;:::-;378:4:31;;;;;;;268:4281:34;;;;1007:29;268:4281;1007:29;;268:4281;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1007:29;;;;;:::i;:::-;268:4281;;;;;;;:::i;378:4:31:-;;:::i;268:4281:34:-;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;-1:-1:-1;;268:4281:34;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;:::i;:::-;-1:-1:-1;;268:4281:34;3440:24;:19;268:4281;;;;;;;;;;;3440:24;268:4281;;;;;;;;;3440:26;;268:4281;3440:26;;;;;;;;;;;;;268:4281;3440:26;;3434:65;3440:26;;;;;268:4281;-1:-1:-1;268:4281:34;;-1:-1:-1;;;3434:65:34;;;;;268:4281;;;;;;;;;;;;;;3434:65;;;-1:-1:-1;;;;;268:4281:34;3434:65;;;;;;;;;3583:41;3434:65;;;;-1:-1:-1;;;;3434:65:34;;;268:4281;3385:16;;;;3403:15;;;268:4281;;;;;;;;;;;;;;;3583:41;;;;268:4281;;;;;;;;3583:41;;;;;;;;;;3559:120;3583:41;;;;;268:4281;;;;;;3559:120;;;;;;:::i;:::-;3690:615;;;;4395:107;268:4281;;;1133:19:18;3794:26:34;4343:23;268:4281;;4343:23;268:4281;3737:26;4395:107;268:4281;;;3866:58;268:4281;;3737:26;:::i;:::-;268:4281;;;3794:26;:::i;:::-;3777:14;;;;268:4281;;;;;1133:19:18;;:::i;:::-;3866:58:34;;:::i;:::-;3834:13;;;268:4281;3690:615;268:4281;;4343:23;;;;;;;378:4:31;;;;;;;;;;;268:4281:34;;378:4:31;;;;;;;268:4281:34;378:4:31;;;;268:4281:34;378:4:31;4343:23:34;268:4281;;-1:-1:-1;;;4395:107:34;;268:4281;;;;;;;4465:4;;4395:107;;;:::i;:::-;;;;;;;;;;;;;3690:615;268:4281;;;;;;;;;:::i;4395:107::-;268:4281;4395:107;;;;;;;;;;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;;;;;3690:615;268:4281;;;3959:26;:56;;;;3690:615;3955:122;;4395:107;268:4281;;;1133:19:18;4164:26:34;4343:23;268:4281;;4343:23;268:4281;4107:26;4395:107;268:4281;;;4236:58;268:4281;;4107:26;:::i;:::-;268:4281;;;4164:26;:::i;4236:58::-;4204:13;;;268:4281;3690:615;;3955:122;268:4281;;-1:-1:-1;;;4042:20:34;;268:4281;;4042:20;3959:56;268:4281;;;;3989:26;3959:56;;3583:41;;;-1:-1:-1;3583:41:34;;;;;;;;;:::i;:::-;;;;3434:65;;;;;;;268:4281;3434:65;268:4281;3434:65;;;;;;;:::i;:::-;;;;3440:26;;;;;;;;;;;;;;;:::i;:::-;;;;;268:4281;;;;;;-1:-1:-1;;268:4281:34;;;;;;;;-1:-1:-1;;;;;268:4281:34;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;268:4281:34;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2908:23;268:4281;;-1:-1:-1;;268:4281:34;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;:::o;378:4:31:-;268:4281:34;;;378:4:31;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;268:4281:34;;;;;;:::i;:::-;378:4:31;;;-1:-1:-1;;;378:4:31;;;;:::o;:::-;268:4281:34;;;;;;:::i;:::-;378:4:31;;;-1:-1:-1;;;378:4:31;;;;:::o;:::-;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;268:4281:34;378:4:31;;;;;268:4281:34;378:4:31;;268:4281:34;378:4:31;:::o;:::-;;;;;;268:4281:34;;;;;;;;378:4:31;;;268:4281:34;378:4:31;;;;;;;;:::i;268:4281:34:-;;;;;;;;;378:4:31;;;;;:::i;:::-;268:4281:34;;;;378:4:31;268:4281:34;;;;;;;;;;;;;;;:::o;7176:145:14:-;-1:-1:-1;7176:145:14;;;;7259:54;268:4281:34;;7259:54:14;;268:4281:34;7259:54:14;;;;;;;;;268:4281:34;7259:54:14;;;268:4281:34;;;;;;:::i;:::-;;;;;;7259:54:14;2908:23:34;;7259:54:14;;;;;;:::i;:::-;268:4281:34;852:159:14;591:42;852:159;;;7176:145::o;8282:752:18:-;;378:4:31;8417:611:18;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8282:752;:::o;:::-;8417:611;;;;;;;;;;;;;;;;;378:4:31;8417:611:18;;;;;;;;;;8282:752;:::o;7741:535::-;7878:392;;;;;;;;;;;;;;;;378:4:31;7878:392:18;;7741:535;:::o;:::-;378:4:31;7878:392:18;;;;;;;;;;;;;;;;;;;;7741:535;:::o","linkReferences":{}},"methodIdentifiers":{"getInitialPoolData(uint256,uint256,(uint256,uint256,address))":"89ea8559","simulateAllocateOrDeallocate(uint256,bool,uint256,uint256)":"8a1a20de","simulateSwap(uint256,bool,uint256)":"3928ff97","strategy()":"a8c62e76"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.22+commit.4fc1097e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"strategy_\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"NotEnoughLiquidity\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"rx\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"ry\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"swapFee\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"controller\",\"type\":\"address\"}],\"internalType\":\"struct ConstantSum.ConstantSumParams\",\"name\":\"params\",\"type\":\"tuple\"}],\"name\":\"getInitialPoolData\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"poolId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"IsAllocate\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"amountX\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amountY\",\"type\":\"uint256\"}],\"name\":\"simulateAllocateOrDeallocate\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"poolId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"swapXIn\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"}],\"name\":\"simulateSwap\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"strategy\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/solvers/ConstantSum/ConstantSumSolver.sol\":\"ConstantSumSolver\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":ds-test/=lib/solstat/lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/solstat/lib/forge-std/src/\",\":solmate/=lib/solstat/lib/solmate/src/\",\":solstat/=lib/solstat/src/\"],\"viaIR\":true},\"sources\":{\"lib/solstat/lib/forge-std/lib/ds-test/src/test.sol\":{\"keccak256\":\"0xb39cd1d5220cb474947b131e15a4538334b7e886af244b440ae5c9c6bba96a54\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://3101520221449ac0070bda3881311a71d9aa87e5210765e875246922cb5cb5f5\",\"dweb:/ipfs/Qmbg6kAHNoG7ox9N9Xqd9Ere2H2XixMFWFqvyPwFCzB3Gr\"]},\"lib/solstat/lib/forge-std/src/Base.sol\":{\"keccak256\":\"0x7f6016716c0c6f49e8163af625290c7ef270a045d9b82be04e269035726d3213\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bd050537b58640f8545b319928ee66bef9649d1ebd68a3afa1d28a1ce8cea3dd\",\"dweb:/ipfs/QmbBVxERnZ2ciQuRuZ45czd2DRgouCLEhibLWtC2CrH2j4\"]},\"lib/solstat/lib/forge-std/src/StdAssertions.sol\":{\"keccak256\":\"0x9d53fb0317c888ed0ef4a8476883d4304f5e7e6fa0161d84d18fa27a63875524\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9638e9a042f5b7695953ea394072f90b814ac98312e447f45c4f2f6cdb22c3ec\",\"dweb:/ipfs/QmPvKu8hyzB2og54Lecmb2DvEiAgM9o5UC2gGgRQJ42PQw\"]},\"lib/solstat/lib/forge-std/src/StdChains.sol\":{\"keccak256\":\"0xd9f9791f56c2afcd841237417d5a55fa8b69de2c1b528ddbfc7d7823fe136606\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f66271850d38488984ec1e38aeb57df1cda53538b2ddd19e2164c767792905f0\",\"dweb:/ipfs/QmetNJMTfgJ7SCNMwfLrZEwnL3xdNaBY5vMiqrRrUWjjes\"]},\"lib/solstat/lib/forge-std/src/StdCheats.sol\":{\"keccak256\":\"0x94d97a78c720a10212552c5f7f27c61ea58eb027bd51dd054efae6925e785269\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://563fd7373c84d700606fc113d535b1a103e7bad4b0412e6cb515d927fb8f57bc\",\"dweb:/ipfs/QmQEjP2DXCXRC4bxXPonLfF8cq1UvMhdQu5X1JynPntvio\"]},\"lib/solstat/lib/forge-std/src/StdError.sol\":{\"keccak256\":\"0xbf477b11a42d7611696956546bcfaa29317d1166bf65e402344599c05943fc77\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bc2e117d1135e030862b96a6526a43feb38d396cc79857f1fb696d4eff0e5fd6\",\"dweb:/ipfs/QmdSuQ5RrQudTLsNmWXGEeVJX8gR5U9XPm6m4dwwuQnJrj\"]},\"lib/solstat/lib/forge-std/src/StdJson.sol\":{\"keccak256\":\"0x113bce4d6d0fe7c4e1e3bf2760ba21c075448660a8dae6003f27b9ff86890612\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8c8a169ea47398b475696e66d07e354d9997680b5f954418caeeaec5427a131f\",\"dweb:/ipfs/QmSTK6XmjgYZ2CCGZ87AVTowNL3UWfRvqhT6DTbZoKyJzz\"]},\"lib/solstat/lib/forge-std/src/StdMath.sol\":{\"keccak256\":\"0xd90ad4fd8aeaeb8929964e686e769fdedd5eded3fc3815df194a0ab9f91a3fb2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7919b70f636c7b805223992f28ad1ad0145d6c1385b5931a3589aface5fe6c92\",\"dweb:/ipfs/QmY7FRaULwoGgFteF8GawjQJRfasNgpWnU2aiMsFrYpuTC\"]},\"lib/solstat/lib/forge-std/src/StdStorage.sol\":{\"keccak256\":\"0xb31c4ee03d05c6202f6e354245ac3ab883d954f9f36074902089e1b3e645273d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://33bd98bde50b840b8d7d5cebf818176b9f219345078ed5d3bd0071f035efb2e3\",\"dweb:/ipfs/QmPYC7FZvCWCPF2qWg6TXXTTPGEdnT4y5nebPn1AoZ1H4p\"]},\"lib/solstat/lib/forge-std/src/StdUtils.sol\":{\"keccak256\":\"0xc3222299fd637498c81ab5c8e15c9327289d3708fb8a7063dd10a55a8813c9cf\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b6f5f818e75e8ae5a67b58cff9b351dd790a72d0a5332fb6f425a3561801b6cc\",\"dweb:/ipfs/QmXJEPtMM1AzwCh6u1o1wL2xdi1qRyxsTLt1eVgeC8Y1QH\"]},\"lib/solstat/lib/forge-std/src/Test.sol\":{\"keccak256\":\"0xb7004fe1ceab4a20ae13baec8732a5414b28d5ddb06f9f4184b49c1fc1d61521\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5a60b5d84bd7d7e455f4a1ca1d260f6b50c419e4c4e7196ef32fd77d0f480d51\",\"dweb:/ipfs/QmYwRMAYYsQuvvM4mnagYs8Zhqm5VXicXmxoqEvkiUzQSd\"]},\"lib/solstat/lib/forge-std/src/Vm.sol\":{\"keccak256\":\"0xfd793ebfb854f707ccf9dfec320b3b75d0d73ba54af0dfae727862fe93bc1cfd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9a0a39917aabf39d981b17d1a06c9b82377917c3a0eedce8e9dc00df5c096bf9\",\"dweb:/ipfs/Qme7GpiHd32FFKYNbY4vdhiiciWPV1z1Uwtj1KDQAusxki\"]},\"lib/solstat/lib/forge-std/src/console.sol\":{\"keccak256\":\"0x91d5413c2434ca58fd278b6e1e79fd98d10c83931cc2596a6038eee4daeb34ba\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://91ccea707361e48b9b7a161fe81f496b9932bc471e9c4e4e1e9c283f2453cc70\",\"dweb:/ipfs/QmcB66sZhQ6Kz7MUHcLE78YXRUZxoZnnxZjN6yATsbB2ec\"]},\"lib/solstat/lib/forge-std/src/console2.sol\":{\"keccak256\":\"0xcd5706f5a7025825d9fd389c89b49bf571f9abaea8a062dc4048320b5b43bf46\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c066485a7d4bd18d44efb4c89274b0959e8066b9a480383a2ce07d7f31555f88\",\"dweb:/ipfs/QmckeYfA5FtAjcxaytq69Dpj6uY57tbQ61kNPPxXi9kgbW\"]},\"lib/solstat/lib/solmate/src/tokens/ERC20.sol\":{\"keccak256\":\"0x43aa1509bb753f053143530705d9c4eee415691d26a4779769bf028a74e6ac69\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fb440672ebad7d487c1600e406e140fd1ffc4bd7520c86b5709183ca2602da58\",\"dweb:/ipfs/QmNgZaBoAZwnwm4mTL1cUZnMtvt1iZnruMnfpJnDu6upuc\"]},\"lib/solstat/lib/solmate/src/utils/FixedPointMathLib.sol\":{\"keccak256\":\"0x0bf1d4f3999a4471e0fded0a2f67e7fe328e2a27385348571b1fc0a8d9c9f62e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://737232ccd46bfbe6f34a3e5bc24c345777da47e6ea27bcc46d2c3931883c2257\",\"dweb:/ipfs/QmeA6ikG9dQKZgkJYUVGXcApuCii34h7qtmguToRdSU3qZ\"]},\"lib/solstat/src/Gaussian.sol\":{\"keccak256\":\"0x6d8461cfbbcd52f15b35af8e5d3fdf67a544bcf3a20db2e00fdfee9f538489ec\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://169aac115f217f00d741e3b63413df28f540e33d3b628a6f42a5ef4ed8af8bd9\",\"dweb:/ipfs/QmTHwgyiPgygMWnW5vTem1ARicssoBNw69ASMrCdgEPdKs\"]},\"lib/solstat/src/Units.sol\":{\"keccak256\":\"0x7bd75c8513c11a58e3afd88cc083318e27453ae5545db3023b07de2cd0a672a5\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0ae27dbbd82b4dea4afb0caf04dcab5bcea62790e46b785bd752a11e98d0fc1e\",\"dweb:/ipfs/QmbF9xjLJSE6h3v1qMVYhBYY1PksgfgBkVMhefsxrA8cP2\"]},\"src/interfaces/IDFMM.sol\":{\"keccak256\":\"0xd5b5452996dda5edf737d0aff0753b241d5209af867cf21d235288b2786b6826\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://35b24ba013cf67d1d887abf1872f18fe91dc8951c21470590a4341c82e5af1ad\",\"dweb:/ipfs/QmSHMfk6v8Z9UmDmfzKGezJqbgV4nostapBfMJiqG67Syv\"]},\"src/interfaces/IStrategy.sol\":{\"keccak256\":\"0xffe5e42cb4b35fcd34eec76c3af4f71b806ff818d3ef29d1bb88854dc987b1c9\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://d3416b7a2ffeba44c08e99829fa36a51141feed449077f263e4c08bb0e9ed4ca\",\"dweb:/ipfs/QmYKj3Q5uQ1TojRp6urNQFJXadVwDeQqms8MHaMGXy5DGS\"]},\"src/lib/DynamicParamLib.sol\":{\"keccak256\":\"0x3b6e3212336e9ea98f15dedd38ba356e3ca97e3a10cb2fdb11df0056fc40126a\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://9bddae3638de314e1c0046caf4974e65f6e68e64a3dd31fe5cf0330e9ebdf7d5\",\"dweb:/ipfs/QmNPhHmQ68apS4eWvYBHe17qeSEQicgcAUkCfHC9KaLzDJ\"]},\"src/lib/StrategyLib.sol\":{\"keccak256\":\"0xd85613792edcfb6ae0d3514b24ae556fb00ea626ab5b8b4e74a49b33b639fb6c\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://5b11c21bd4c718d0430363807b7bcc145133382e1480129e1bbffcba178365cc\",\"dweb:/ipfs/QmduNUCbUJJnxy75fuewpwX2GuwYb56ji44usYtEA5rnFd\"]},\"src/solvers/ConstantSum/ConstantSumSolver.sol\":{\"keccak256\":\"0x1a158ac3d20750c049a2951f4c524990bb6ba4e504cc8e853e26ee5fdad7949e\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://bf94f52d0e1c0eb3d77af0a7a705a8bbaf4b829b0d45be6c0c9864a2d71dcb64\",\"dweb:/ipfs/QmXKtEBo6iP127RVqiERBh4ji7u1xKdAS3iPzkWS8sHXMg\"]},\"src/strategies/ConstantSum/ConstantSum.sol\":{\"keccak256\":\"0xb842f20507e6dcc6751ca5a7e902b3a71376bacd6ccb732c36369ec42b80293b\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://3e8eab1244452c527e995512bf2be44809de0dff09f9c675a9aa65dee5e85fe5\",\"dweb:/ipfs/QmfHn6yjWUhrVbKwSA6hZ1xpCXd5zFjgkGoKv6jqPdjnbK\"]},\"src/strategies/ConstantSum/ConstantSumLib.sol\":{\"keccak256\":\"0xbecc63accf7f1015ad2e60521f9c91f03b2692493e93b936e3939a1619f51c2a\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://2cbb36900fbcd271029f9659731988e3c401d01f19ab9a3b7ce182153918dc66\",\"dweb:/ipfs/QmZS3YyfNRdwndyb8njoByb7qVbAKEbo6DgejmUdNAfkwv\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.22+commit.4fc1097e"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"strategy_","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"NotEnoughLiquidity"},{"inputs":[{"internalType":"uint256","name":"rx","type":"uint256"},{"internalType":"uint256","name":"ry","type":"uint256"},{"internalType":"struct ConstantSum.ConstantSumParams","name":"params","type":"tuple","components":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"},{"internalType":"address","name":"controller","type":"address"}]}],"stateMutability":"pure","type":"function","name":"getInitialPoolData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[{"internalType":"uint256","name":"poolId","type":"uint256"},{"internalType":"bool","name":"IsAllocate","type":"bool"},{"internalType":"uint256","name":"amountX","type":"uint256"},{"internalType":"uint256","name":"amountY","type":"uint256"}],"stateMutability":"view","type":"function","name":"simulateAllocateOrDeallocate","outputs":[{"internalType":"bool","name":"","type":"bool"},{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[{"internalType":"uint256","name":"poolId","type":"uint256"},{"internalType":"bool","name":"swapXIn","type":"bool"},{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"view","type":"function","name":"simulateSwap","outputs":[{"internalType":"bool","name":"","type":"bool"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"strategy","outputs":[{"internalType":"address","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["ds-test/=lib/solstat/lib/forge-std/lib/ds-test/src/","forge-std/=lib/solstat/lib/forge-std/src/","solmate/=lib/solstat/lib/solmate/src/","solstat/=lib/solstat/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/solvers/ConstantSum/ConstantSumSolver.sol":"ConstantSumSolver"},"evmVersion":"paris","libraries":{},"viaIR":true},"sources":{"lib/solstat/lib/forge-std/lib/ds-test/src/test.sol":{"keccak256":"0xb39cd1d5220cb474947b131e15a4538334b7e886af244b440ae5c9c6bba96a54","urls":["bzz-raw://3101520221449ac0070bda3881311a71d9aa87e5210765e875246922cb5cb5f5","dweb:/ipfs/Qmbg6kAHNoG7ox9N9Xqd9Ere2H2XixMFWFqvyPwFCzB3Gr"],"license":"GPL-3.0-or-later"},"lib/solstat/lib/forge-std/src/Base.sol":{"keccak256":"0x7f6016716c0c6f49e8163af625290c7ef270a045d9b82be04e269035726d3213","urls":["bzz-raw://bd050537b58640f8545b319928ee66bef9649d1ebd68a3afa1d28a1ce8cea3dd","dweb:/ipfs/QmbBVxERnZ2ciQuRuZ45czd2DRgouCLEhibLWtC2CrH2j4"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdAssertions.sol":{"keccak256":"0x9d53fb0317c888ed0ef4a8476883d4304f5e7e6fa0161d84d18fa27a63875524","urls":["bzz-raw://9638e9a042f5b7695953ea394072f90b814ac98312e447f45c4f2f6cdb22c3ec","dweb:/ipfs/QmPvKu8hyzB2og54Lecmb2DvEiAgM9o5UC2gGgRQJ42PQw"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdChains.sol":{"keccak256":"0xd9f9791f56c2afcd841237417d5a55fa8b69de2c1b528ddbfc7d7823fe136606","urls":["bzz-raw://f66271850d38488984ec1e38aeb57df1cda53538b2ddd19e2164c767792905f0","dweb:/ipfs/QmetNJMTfgJ7SCNMwfLrZEwnL3xdNaBY5vMiqrRrUWjjes"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdCheats.sol":{"keccak256":"0x94d97a78c720a10212552c5f7f27c61ea58eb027bd51dd054efae6925e785269","urls":["bzz-raw://563fd7373c84d700606fc113d535b1a103e7bad4b0412e6cb515d927fb8f57bc","dweb:/ipfs/QmQEjP2DXCXRC4bxXPonLfF8cq1UvMhdQu5X1JynPntvio"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdError.sol":{"keccak256":"0xbf477b11a42d7611696956546bcfaa29317d1166bf65e402344599c05943fc77","urls":["bzz-raw://bc2e117d1135e030862b96a6526a43feb38d396cc79857f1fb696d4eff0e5fd6","dweb:/ipfs/QmdSuQ5RrQudTLsNmWXGEeVJX8gR5U9XPm6m4dwwuQnJrj"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdJson.sol":{"keccak256":"0x113bce4d6d0fe7c4e1e3bf2760ba21c075448660a8dae6003f27b9ff86890612","urls":["bzz-raw://8c8a169ea47398b475696e66d07e354d9997680b5f954418caeeaec5427a131f","dweb:/ipfs/QmSTK6XmjgYZ2CCGZ87AVTowNL3UWfRvqhT6DTbZoKyJzz"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdMath.sol":{"keccak256":"0xd90ad4fd8aeaeb8929964e686e769fdedd5eded3fc3815df194a0ab9f91a3fb2","urls":["bzz-raw://7919b70f636c7b805223992f28ad1ad0145d6c1385b5931a3589aface5fe6c92","dweb:/ipfs/QmY7FRaULwoGgFteF8GawjQJRfasNgpWnU2aiMsFrYpuTC"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdStorage.sol":{"keccak256":"0xb31c4ee03d05c6202f6e354245ac3ab883d954f9f36074902089e1b3e645273d","urls":["bzz-raw://33bd98bde50b840b8d7d5cebf818176b9f219345078ed5d3bd0071f035efb2e3","dweb:/ipfs/QmPYC7FZvCWCPF2qWg6TXXTTPGEdnT4y5nebPn1AoZ1H4p"],"license":"MIT"},"lib/solstat/lib/forge-std/src/StdUtils.sol":{"keccak256":"0xc3222299fd637498c81ab5c8e15c9327289d3708fb8a7063dd10a55a8813c9cf","urls":["bzz-raw://b6f5f818e75e8ae5a67b58cff9b351dd790a72d0a5332fb6f425a3561801b6cc","dweb:/ipfs/QmXJEPtMM1AzwCh6u1o1wL2xdi1qRyxsTLt1eVgeC8Y1QH"],"license":"MIT"},"lib/solstat/lib/forge-std/src/Test.sol":{"keccak256":"0xb7004fe1ceab4a20ae13baec8732a5414b28d5ddb06f9f4184b49c1fc1d61521","urls":["bzz-raw://5a60b5d84bd7d7e455f4a1ca1d260f6b50c419e4c4e7196ef32fd77d0f480d51","dweb:/ipfs/QmYwRMAYYsQuvvM4mnagYs8Zhqm5VXicXmxoqEvkiUzQSd"],"license":"MIT"},"lib/solstat/lib/forge-std/src/Vm.sol":{"keccak256":"0xfd793ebfb854f707ccf9dfec320b3b75d0d73ba54af0dfae727862fe93bc1cfd","urls":["bzz-raw://9a0a39917aabf39d981b17d1a06c9b82377917c3a0eedce8e9dc00df5c096bf9","dweb:/ipfs/Qme7GpiHd32FFKYNbY4vdhiiciWPV1z1Uwtj1KDQAusxki"],"license":"MIT"},"lib/solstat/lib/forge-std/src/console.sol":{"keccak256":"0x91d5413c2434ca58fd278b6e1e79fd98d10c83931cc2596a6038eee4daeb34ba","urls":["bzz-raw://91ccea707361e48b9b7a161fe81f496b9932bc471e9c4e4e1e9c283f2453cc70","dweb:/ipfs/QmcB66sZhQ6Kz7MUHcLE78YXRUZxoZnnxZjN6yATsbB2ec"],"license":"MIT"},"lib/solstat/lib/forge-std/src/console2.sol":{"keccak256":"0xcd5706f5a7025825d9fd389c89b49bf571f9abaea8a062dc4048320b5b43bf46","urls":["bzz-raw://c066485a7d4bd18d44efb4c89274b0959e8066b9a480383a2ce07d7f31555f88","dweb:/ipfs/QmckeYfA5FtAjcxaytq69Dpj6uY57tbQ61kNPPxXi9kgbW"],"license":"MIT"},"lib/solstat/lib/solmate/src/tokens/ERC20.sol":{"keccak256":"0x43aa1509bb753f053143530705d9c4eee415691d26a4779769bf028a74e6ac69","urls":["bzz-raw://fb440672ebad7d487c1600e406e140fd1ffc4bd7520c86b5709183ca2602da58","dweb:/ipfs/QmNgZaBoAZwnwm4mTL1cUZnMtvt1iZnruMnfpJnDu6upuc"],"license":"MIT"},"lib/solstat/lib/solmate/src/utils/FixedPointMathLib.sol":{"keccak256":"0x0bf1d4f3999a4471e0fded0a2f67e7fe328e2a27385348571b1fc0a8d9c9f62e","urls":["bzz-raw://737232ccd46bfbe6f34a3e5bc24c345777da47e6ea27bcc46d2c3931883c2257","dweb:/ipfs/QmeA6ikG9dQKZgkJYUVGXcApuCii34h7qtmguToRdSU3qZ"],"license":"MIT"},"lib/solstat/src/Gaussian.sol":{"keccak256":"0x6d8461cfbbcd52f15b35af8e5d3fdf67a544bcf3a20db2e00fdfee9f538489ec","urls":["bzz-raw://169aac115f217f00d741e3b63413df28f540e33d3b628a6f42a5ef4ed8af8bd9","dweb:/ipfs/QmTHwgyiPgygMWnW5vTem1ARicssoBNw69ASMrCdgEPdKs"],"license":"MIT"},"lib/solstat/src/Units.sol":{"keccak256":"0x7bd75c8513c11a58e3afd88cc083318e27453ae5545db3023b07de2cd0a672a5","urls":["bzz-raw://0ae27dbbd82b4dea4afb0caf04dcab5bcea62790e46b785bd752a11e98d0fc1e","dweb:/ipfs/QmbF9xjLJSE6h3v1qMVYhBYY1PksgfgBkVMhefsxrA8cP2"],"license":"MIT"},"src/interfaces/IDFMM.sol":{"keccak256":"0xd5b5452996dda5edf737d0aff0753b241d5209af867cf21d235288b2786b6826","urls":["bzz-raw://35b24ba013cf67d1d887abf1872f18fe91dc8951c21470590a4341c82e5af1ad","dweb:/ipfs/QmSHMfk6v8Z9UmDmfzKGezJqbgV4nostapBfMJiqG67Syv"],"license":"GPL-3.0-or-later"},"src/interfaces/IStrategy.sol":{"keccak256":"0xffe5e42cb4b35fcd34eec76c3af4f71b806ff818d3ef29d1bb88854dc987b1c9","urls":["bzz-raw://d3416b7a2ffeba44c08e99829fa36a51141feed449077f263e4c08bb0e9ed4ca","dweb:/ipfs/QmYKj3Q5uQ1TojRp6urNQFJXadVwDeQqms8MHaMGXy5DGS"],"license":"GPL-3.0-or-later"},"src/lib/DynamicParamLib.sol":{"keccak256":"0x3b6e3212336e9ea98f15dedd38ba356e3ca97e3a10cb2fdb11df0056fc40126a","urls":["bzz-raw://9bddae3638de314e1c0046caf4974e65f6e68e64a3dd31fe5cf0330e9ebdf7d5","dweb:/ipfs/QmNPhHmQ68apS4eWvYBHe17qeSEQicgcAUkCfHC9KaLzDJ"],"license":"GPL-3.0-or-later"},"src/lib/StrategyLib.sol":{"keccak256":"0xd85613792edcfb6ae0d3514b24ae556fb00ea626ab5b8b4e74a49b33b639fb6c","urls":["bzz-raw://5b11c21bd4c718d0430363807b7bcc145133382e1480129e1bbffcba178365cc","dweb:/ipfs/QmduNUCbUJJnxy75fuewpwX2GuwYb56ji44usYtEA5rnFd"],"license":"GPL-3.0-or-later"},"src/solvers/ConstantSum/ConstantSumSolver.sol":{"keccak256":"0x1a158ac3d20750c049a2951f4c524990bb6ba4e504cc8e853e26ee5fdad7949e","urls":["bzz-raw://bf94f52d0e1c0eb3d77af0a7a705a8bbaf4b829b0d45be6c0c9864a2d71dcb64","dweb:/ipfs/QmXKtEBo6iP127RVqiERBh4ji7u1xKdAS3iPzkWS8sHXMg"],"license":"GPL-3.0-or-later"},"src/strategies/ConstantSum/ConstantSum.sol":{"keccak256":"0xb842f20507e6dcc6751ca5a7e902b3a71376bacd6ccb732c36369ec42b80293b","urls":["bzz-raw://3e8eab1244452c527e995512bf2be44809de0dff09f9c675a9aa65dee5e85fe5","dweb:/ipfs/QmfHn6yjWUhrVbKwSA6hZ1xpCXd5zFjgkGoKv6jqPdjnbK"],"license":"GPL-3.0-or-later"},"src/strategies/ConstantSum/ConstantSumLib.sol":{"keccak256":"0xbecc63accf7f1015ad2e60521f9c91f03b2692493e93b936e3939a1619f51c2a","urls":["bzz-raw://2cbb36900fbcd271029f9659731988e3c401d01f19ab9a3b7ce182153918dc66","dweb:/ipfs/QmZS3YyfNRdwndyb8njoByb7qVbAKEbo6DgejmUdNAfkwv"],"license":"GPL-3.0-or-later"}},"version":1},"ast":{"absolutePath":"src/solvers/ConstantSum/ConstantSumSolver.sol","id":31600,"exportedSymbols":{"ConstantSum":[37071],"ConstantSumLib":[37235],"ConstantSumSolver":[31599],"DSTest":[1786],"DynamicParam":[29851],"DynamicParamLib":[30012],"EPSILON":[30665],"ERC20":[25948],"FixedPointMathLib":[26640],"Gaussian":[27374],"HALF":[30636],"IDFMM":[29730],"INFINITY_IS_NOT_REAL":[30646],"IStrategy":[29839],"I_ONE":[30655],"I_TWO":[30661],"Min":[27736],"ONE":[30639],"SQRT_WAD":[30630],"StdAssertions":[2708],"StdChains":[3244],"StdCheats":[5181],"StdStorage":[6088],"StdUtils":[8153],"TWO":[30633],"Test":[8195],"TestBase":[1843],"Vm":[9352],"ZERO":[30649],"abs":[27763],"computeAllocationGivenX":[30723],"computeAllocationGivenY":[30775],"console":[17416],"console2":[25512],"diviWad":[27813],"muli":[27777],"muliWad":[27795],"stdError":[5247],"stdJson":[5914],"stdMath":[6056],"stdStorage":[7522]},"nodeType":"SourceUnit","src":"45:4505:34","nodes":[{"id":31120,"nodeType":"PragmaDirective","src":"45:24:34","nodes":[],"literals":["solidity","^","0.8",".13"]},{"id":31121,"nodeType":"ImportDirective","src":"71:34:34","nodes":[],"absolutePath":"lib/solstat/lib/solmate/src/tokens/ERC20.sol","file":"solmate/tokens/ERC20.sol","nameLocation":"-1:-1:-1","scope":31600,"sourceUnit":25949,"symbolAliases":[],"unitAlias":""},{"id":31122,"nodeType":"ImportDirective","src":"106:38:34","nodes":[],"absolutePath":"src/interfaces/IStrategy.sol","file":"src/interfaces/IStrategy.sol","nameLocation":"-1:-1:-1","scope":31600,"sourceUnit":29840,"symbolAliases":[],"unitAlias":""},{"id":31123,"nodeType":"ImportDirective","src":"145:34:34","nodes":[],"absolutePath":"src/interfaces/IDFMM.sol","file":"src/interfaces/IDFMM.sol","nameLocation":"-1:-1:-1","scope":31600,"sourceUnit":29731,"symbolAliases":[],"unitAlias":""},{"id":31124,"nodeType":"ImportDirective","src":"180:33:34","nodes":[],"absolutePath":"src/lib/StrategyLib.sol","file":"src/lib/StrategyLib.sol","nameLocation":"-1:-1:-1","scope":31600,"sourceUnit":30776,"symbolAliases":[],"unitAlias":""},{"id":31125,"nodeType":"ImportDirective","src":"214:52:34","nodes":[],"absolutePath":"src/strategies/ConstantSum/ConstantSum.sol","file":"src/strategies/ConstantSum/ConstantSum.sol","nameLocation":"-1:-1:-1","scope":31600,"sourceUnit":37072,"symbolAliases":[],"unitAlias":""},{"id":31599,"nodeType":"ContractDefinition","src":"268:4281:34","nodes":[{"id":31127,"nodeType":"ErrorDefinition","src":"301:27:34","nodes":[],"errorSelector":"4323a555","name":"NotEnoughLiquidity","nameLocation":"307:18:34","parameters":{"id":31126,"nodeType":"ParameterList","parameters":[],"src":"325:2:34"}},{"id":31130,"nodeType":"UsingForDirective","src":"334:36:34","nodes":[],"global":false,"libraryName":{"id":31128,"name":"FixedPointMathLib","nameLocations":["340:17:34"],"nodeType":"IdentifierPath","referencedDeclaration":26640,"src":"340:17:34"},"typeName":{"id":31129,"name":"uint256","nodeType":"ElementaryTypeName","src":"362:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":31133,"nodeType":"UsingForDirective","src":"375:35:34","nodes":[],"global":false,"libraryName":{"id":31131,"name":"FixedPointMathLib","nameLocations":["381:17:34"],"nodeType":"IdentifierPath","referencedDeclaration":26640,"src":"381:17:34"},"typeName":{"id":31132,"name":"int256","nodeType":"ElementaryTypeName","src":"403:6:34","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":31140,"nodeType":"StructDefinition","src":"416:82:34","nodes":[],"canonicalName":"ConstantSumSolver.Reserves","members":[{"constant":false,"id":31135,"mutability":"mutable","name":"rx","nameLocation":"450:2:34","nodeType":"VariableDeclaration","scope":31140,"src":"442:10:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31134,"name":"uint256","nodeType":"ElementaryTypeName","src":"442:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":31137,"mutability":"mutable","name":"ry","nameLocation":"470:2:34","nodeType":"VariableDeclaration","scope":31140,"src":"462:10:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31136,"name":"uint256","nodeType":"ElementaryTypeName","src":"462:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":31139,"mutability":"mutable","name":"L","nameLocation":"490:1:34","nodeType":"VariableDeclaration","scope":31140,"src":"482:9:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31138,"name":"uint256","nodeType":"ElementaryTypeName","src":"482:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"Reserves","nameLocation":"423:8:34","scope":31599,"visibility":"public"},{"id":31142,"nodeType":"VariableDeclaration","src":"504:23:34","nodes":[],"constant":false,"functionSelector":"a8c62e76","mutability":"mutable","name":"strategy","nameLocation":"519:8:34","scope":31599,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":31141,"name":"address","nodeType":"ElementaryTypeName","src":"504:7:34","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":31152,"nodeType":"FunctionDefinition","src":"534:68:34","nodes":[],"body":{"id":31151,"nodeType":"Block","src":"565:37:34","nodes":[],"statements":[{"expression":{"id":31149,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":31147,"name":"strategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31142,"src":"575:8:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":31148,"name":"strategy_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31144,"src":"586:9:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"575:20:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":31150,"nodeType":"ExpressionStatement","src":"575:20:34"}]},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":31145,"nodeType":"ParameterList","parameters":[{"constant":false,"id":31144,"mutability":"mutable","name":"strategy_","nameLocation":"554:9:34","nodeType":"VariableDeclaration","scope":31152,"src":"546:17:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":31143,"name":"address","nodeType":"ElementaryTypeName","src":"546:7:34","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"545:19:34"},"returnParameters":{"id":31146,"nodeType":"ParameterList","parameters":[],"src":"565:0:34"},"scope":31599,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":31183,"nodeType":"FunctionDefinition","src":"608:435:34","nodes":[],"body":{"id":31182,"nodeType":"Block","src":"770:273:34","nodes":[],"statements":[{"assignments":[31165],"declarations":[{"constant":false,"id":31165,"mutability":"mutable","name":"L","nameLocation":"956:1:34","nodeType":"VariableDeclaration","scope":31182,"src":"948:9:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31164,"name":"uint256","nodeType":"ElementaryTypeName","src":"948:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":31173,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31172,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":31166,"name":"rx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31154,"src":"960:2:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":31169,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31159,"src":"977:6:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":31170,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"984:5:34","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"977:12:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":31167,"name":"ry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31156,"src":"965:2:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31168,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"968:8:34","memberName":"divWadUp","nodeType":"MemberAccess","referencedDeclaration":26097,"src":"965:11:34","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":31171,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"965:25:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"960:30:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"948:42:34"},{"expression":{"arguments":[{"id":31176,"name":"rx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31154,"src":"1018:2:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":31177,"name":"ry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31156,"src":"1022:2:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":31178,"name":"L","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31165,"src":"1026:1:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":31179,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31159,"src":"1029:6:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}],"expression":{"id":31174,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1007:3:34","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":31175,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1011:6:34","memberName":"encode","nodeType":"MemberAccess","src":"1007:10:34","typeDescriptions":{"typeIdentifier":"t_function_abiencode_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":31180,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1007:29:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"functionReturnParameters":31163,"id":31181,"nodeType":"Return","src":"1000:36:34"}]},"functionSelector":"89ea8559","implemented":true,"kind":"function","modifiers":[],"name":"getInitialPoolData","nameLocation":"617:18:34","parameters":{"id":31160,"nodeType":"ParameterList","parameters":[{"constant":false,"id":31154,"mutability":"mutable","name":"rx","nameLocation":"653:2:34","nodeType":"VariableDeclaration","scope":31183,"src":"645:10:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31153,"name":"uint256","nodeType":"ElementaryTypeName","src":"645:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":31156,"mutability":"mutable","name":"ry","nameLocation":"673:2:34","nodeType":"VariableDeclaration","scope":31183,"src":"665:10:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31155,"name":"uint256","nodeType":"ElementaryTypeName","src":"665:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":31159,"mutability":"mutable","name":"params","nameLocation":"722:6:34","nodeType":"VariableDeclaration","scope":31183,"src":"685:43:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams"},"typeName":{"id":31158,"nodeType":"UserDefinedTypeName","pathNode":{"id":31157,"name":"ConstantSum.ConstantSumParams","nameLocations":["685:11:34","697:17:34"],"nodeType":"IdentifierPath","referencedDeclaration":36490,"src":"685:29:34"},"referencedDeclaration":36490,"src":"685:29:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_storage_ptr","typeString":"struct ConstantSum.ConstantSumParams"}},"visibility":"internal"}],"src":"635:99:34"},"returnParameters":{"id":31163,"nodeType":"ParameterList","parameters":[{"constant":false,"id":31162,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":31183,"src":"756:12:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":31161,"name":"bytes","nodeType":"ElementaryTypeName","src":"756:5:34","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"755:14:34"},"scope":31599,"stateMutability":"pure","virtual":false,"visibility":"public"},{"id":31429,"nodeType":"FunctionDefinition","src":"1049:2041:34","nodes":[],"body":{"id":31428,"nodeType":"Block","src":"1199:1891:34","nodes":[],"statements":[{"assignments":[31200],"declarations":[{"constant":false,"id":31200,"mutability":"mutable","name":"startReserves","nameLocation":"1225:13:34","nodeType":"VariableDeclaration","scope":31428,"src":"1209:29:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves"},"typeName":{"id":31199,"nodeType":"UserDefinedTypeName","pathNode":{"id":31198,"name":"Reserves","nameLocations":["1209:8:34"],"nodeType":"IdentifierPath","referencedDeclaration":31140,"src":"1209:8:34"},"referencedDeclaration":31140,"src":"1209:8:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_storage_ptr","typeString":"struct ConstantSumSolver.Reserves"}},"visibility":"internal"}],"id":31201,"nodeType":"VariableDeclarationStatement","src":"1209:29:34"},{"assignments":[31204],"declarations":[{"constant":false,"id":31204,"mutability":"mutable","name":"endReserves","nameLocation":"1264:11:34","nodeType":"VariableDeclaration","scope":31428,"src":"1248:27:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves"},"typeName":{"id":31203,"nodeType":"UserDefinedTypeName","pathNode":{"id":31202,"name":"Reserves","nameLocations":["1248:8:34"],"nodeType":"IdentifierPath","referencedDeclaration":31140,"src":"1248:8:34"},"referencedDeclaration":31140,"src":"1248:8:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_storage_ptr","typeString":"struct ConstantSumSolver.Reserves"}},"visibility":"internal"}],"id":31205,"nodeType":"VariableDeclarationStatement","src":"1248:27:34"},{"expression":{"id":31224,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"id":31206,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31200,"src":"1286:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31208,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"1300:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"1286:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":31209,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31200,"src":"1304:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31210,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"1318:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"1304:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":31211,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31200,"src":"1322:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31212,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"1336:1:34","memberName":"L","nodeType":"MemberAccess","referencedDeclaration":31139,"src":"1322:15:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":31213,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"1285:53:34","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":31222,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31185,"src":"1411:6:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":31216,"name":"strategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31142,"src":"1369:8:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":31215,"name":"IStrategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29839,"src":"1359:9:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStrategy_$29839_$","typeString":"type(contract IStrategy)"}},"id":31217,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1359:19:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStrategy_$29839","typeString":"contract IStrategy"}},"id":31218,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1379:4:34","memberName":"dfmm","nodeType":"MemberAccess","referencedDeclaration":29831,"src":"1359:24:34","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_address_$","typeString":"function () view external returns (address)"}},"id":31219,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1359:26:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":31214,"name":"IDFMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29730,"src":"1353:5:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDFMM_$29730_$","typeString":"type(contract IDFMM)"}},"id":31220,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1353:33:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IDFMM_$29730","typeString":"contract IDFMM"}},"id":31221,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1387:23:34","memberName":"getReservesAndLiquidity","nodeType":"MemberAccess","referencedDeclaration":29710,"src":"1353:57:34","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (uint256) view external returns (uint256,uint256,uint256)"}},"id":31223,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1353:65:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"src":"1285:133:34","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":31225,"nodeType":"ExpressionStatement","src":"1285:133:34"},{"assignments":[31230],"declarations":[{"constant":false,"id":31230,"mutability":"mutable","name":"poolParams","nameLocation":"1465:10:34","nodeType":"VariableDeclaration","scope":31428,"src":"1428:47:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams"},"typeName":{"id":31229,"nodeType":"UserDefinedTypeName","pathNode":{"id":31228,"name":"ConstantSum.ConstantSumParams","nameLocations":["1428:11:34","1440:17:34"],"nodeType":"IdentifierPath","referencedDeclaration":36490,"src":"1428:29:34"},"referencedDeclaration":36490,"src":"1428:29:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_storage_ptr","typeString":"struct ConstantSum.ConstantSumParams"}},"visibility":"internal"}],"id":31243,"initialValue":{"arguments":[{"arguments":[{"id":31237,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31185,"src":"1536:6:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":31234,"name":"strategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31142,"src":"1512:8:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":31233,"name":"IStrategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29839,"src":"1502:9:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStrategy_$29839_$","typeString":"type(contract IStrategy)"}},"id":31235,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1502:19:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStrategy_$29839","typeString":"contract IStrategy"}},"id":31236,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1522:13:34","memberName":"getPoolParams","nodeType":"MemberAccess","referencedDeclaration":29838,"src":"1502:33:34","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_bytes_memory_ptr_$","typeString":"function (uint256) view external returns (bytes memory)"}},"id":31238,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1502:41:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"expression":{"id":31239,"name":"ConstantSum","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37071,"src":"1558:11:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ConstantSum_$37071_$","typeString":"type(contract ConstantSum)"}},"id":31240,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1570:17:34","memberName":"ConstantSumParams","nodeType":"MemberAccess","referencedDeclaration":36490,"src":"1558:29:34","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}}],"id":31241,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1557:31:34","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}],"expression":{"id":31231,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1478:3:34","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":31232,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1482:6:34","memberName":"decode","nodeType":"MemberAccess","src":"1478:10:34","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":31242,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1478:120:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"nodeType":"VariableDeclarationStatement","src":"1428:170:34"},{"assignments":[31245],"declarations":[{"constant":false,"id":31245,"mutability":"mutable","name":"amountOut","nameLocation":"1616:9:34","nodeType":"VariableDeclaration","scope":31428,"src":"1608:17:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31244,"name":"uint256","nodeType":"ElementaryTypeName","src":"1608:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":31246,"nodeType":"VariableDeclarationStatement","src":"1608:17:34"},{"condition":{"id":31247,"name":"swapXIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31187,"src":"1639:7:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":31400,"nodeType":"Block","src":"2248:626:34","statements":[{"assignments":[31323],"declarations":[{"constant":false,"id":31323,"mutability":"mutable","name":"deltaL","nameLocation":"2270:6:34","nodeType":"VariableDeclaration","scope":31400,"src":"2262:14:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31322,"name":"uint256","nodeType":"ElementaryTypeName","src":"2262:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":31333,"initialValue":{"arguments":[{"expression":{"id":31330,"name":"poolParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31230,"src":"2342:10:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":31331,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2353:5:34","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"2342:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":31326,"name":"poolParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31230,"src":"2313:10:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":31327,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2324:7:34","memberName":"swapFee","nodeType":"MemberAccess","referencedDeclaration":36487,"src":"2313:18:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":31324,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31189,"src":"2295:8:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31325,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2304:8:34","memberName":"mulWadUp","nodeType":"MemberAccess","referencedDeclaration":26065,"src":"2295:17:34","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":31328,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2295:37:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31329,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2333:8:34","memberName":"divWadUp","nodeType":"MemberAccess","referencedDeclaration":26097,"src":"2295:46:34","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":31332,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2295:64:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2262:97:34"},{"expression":{"id":31347,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":31334,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31245,"src":"2374:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":31344,"name":"poolParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31230,"src":"2462:10:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":31345,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2473:5:34","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"2462:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":31341,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31189,"src":"2424:8:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":31335,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30639,"src":"2387:3:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":31336,"name":"poolParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31230,"src":"2393:10:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":31337,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2404:7:34","memberName":"swapFee","nodeType":"MemberAccess","referencedDeclaration":36487,"src":"2393:18:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2387:24:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":31339,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2386:26:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2413:10:34","memberName":"mulWadDown","nodeType":"MemberAccess","referencedDeclaration":26049,"src":"2386:37:34","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":31342,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2386:47:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31343,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2451:10:34","memberName":"divWadDown","nodeType":"MemberAccess","referencedDeclaration":26081,"src":"2386:75:34","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":31346,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2386:93:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2374:105:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31348,"nodeType":"ExpressionStatement","src":"2374:105:34"},{"expression":{"id":31356,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":31349,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31204,"src":"2494:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31351,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2506:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"2494:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31355,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31352,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31200,"src":"2511:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31353,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2525:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"2511:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":31354,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31189,"src":"2530:8:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2511:27:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2494:44:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31357,"nodeType":"ExpressionStatement","src":"2494:44:34"},{"expression":{"id":31365,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":31358,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31204,"src":"2552:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31360,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2564:1:34","memberName":"L","nodeType":"MemberAccess","referencedDeclaration":31139,"src":"2552:13:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31364,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31361,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31200,"src":"2568:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31362,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2582:1:34","memberName":"L","nodeType":"MemberAccess","referencedDeclaration":31139,"src":"2568:15:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":31363,"name":"deltaL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31323,"src":"2586:6:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2568:24:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2552:40:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31366,"nodeType":"ExpressionStatement","src":"2552:40:34"},{"expression":{"arguments":[{"hexValue":"616d6f756e744f75743a20","id":31370,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2620:13:34","typeDescriptions":{"typeIdentifier":"t_stringliteral_3ef8f92aaa32f0dcfbe7eafff45dd9369fde88197579275455403f4a1e7d8f3a","typeString":"literal_string \"amountOut: \""},"value":"amountOut: "},{"id":31371,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31245,"src":"2635:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_3ef8f92aaa32f0dcfbe7eafff45dd9369fde88197579275455403f4a1e7d8f3a","typeString":"literal_string \"amountOut: \""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":31367,"name":"console2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25512,"src":"2607:8:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_console2_$25512_$","typeString":"type(library console2)"}},"id":31369,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2616:3:34","memberName":"log","nodeType":"MemberAccess","referencedDeclaration":18139,"src":"2607:12:34","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_string_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (string memory,uint256) view"}},"id":31372,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2607:38:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":31373,"nodeType":"ExpressionStatement","src":"2607:38:34"},{"expression":{"arguments":[{"hexValue":"6e65774c3a20","id":31377,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2672:8:34","typeDescriptions":{"typeIdentifier":"t_stringliteral_7c331ab154f5a027f338d8a3b030cb763a8d71c19cf54dd63d1efedc859d64a3","typeString":"literal_string \"newL: \""},"value":"newL: "},{"expression":{"id":31378,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31204,"src":"2682:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31379,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2694:1:34","memberName":"L","nodeType":"MemberAccess","referencedDeclaration":31139,"src":"2682:13:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_7c331ab154f5a027f338d8a3b030cb763a8d71c19cf54dd63d1efedc859d64a3","typeString":"literal_string \"newL: \""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":31374,"name":"console2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25512,"src":"2659:8:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_console2_$25512_$","typeString":"type(library console2)"}},"id":31376,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2668:3:34","memberName":"log","nodeType":"MemberAccess","referencedDeclaration":18139,"src":"2659:12:34","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_string_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (string memory,uint256) view"}},"id":31380,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2659:37:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":31381,"nodeType":"ExpressionStatement","src":"2659:37:34"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31385,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31382,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31200,"src":"2715:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31383,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2729:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"2715:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":31384,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31245,"src":"2734:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2715:28:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":31390,"nodeType":"IfStatement","src":"2711:94:34","trueBody":{"id":31389,"nodeType":"Block","src":"2745:60:34","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":31386,"name":"NotEnoughLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31127,"src":"2770:18:34","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":31387,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2770:20:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":31388,"nodeType":"RevertStatement","src":"2763:27:34"}]}},{"expression":{"id":31398,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":31391,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31204,"src":"2818:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31393,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2830:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"2818:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31397,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31394,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31200,"src":"2835:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31395,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2849:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"2835:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":31396,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31245,"src":"2854:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2835:28:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2818:45:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31399,"nodeType":"ExpressionStatement","src":"2818:45:34"}]},"id":31401,"nodeType":"IfStatement","src":"1635:1239:34","trueBody":{"id":31321,"nodeType":"Block","src":"1648:594:34","statements":[{"assignments":[31249],"declarations":[{"constant":false,"id":31249,"mutability":"mutable","name":"deltaL","nameLocation":"1670:6:34","nodeType":"VariableDeclaration","scope":31321,"src":"1662:14:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31248,"name":"uint256","nodeType":"ElementaryTypeName","src":"1662:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":31255,"initialValue":{"arguments":[{"expression":{"id":31252,"name":"poolParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31230,"src":"1697:10:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":31253,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1708:7:34","memberName":"swapFee","nodeType":"MemberAccess","referencedDeclaration":36487,"src":"1697:18:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":31250,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31189,"src":"1679:8:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31251,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1688:8:34","memberName":"mulWadUp","nodeType":"MemberAccess","referencedDeclaration":26065,"src":"1679:17:34","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":31254,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1679:37:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1662:54:34"},{"expression":{"id":31268,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":31256,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31245,"src":"1731:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31266,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":31263,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30639,"src":"1809:3:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":31264,"name":"poolParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31230,"src":"1815:10:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":31265,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1826:7:34","memberName":"swapFee","nodeType":"MemberAccess","referencedDeclaration":36487,"src":"1815:18:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1809:24:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":31259,"name":"poolParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31230,"src":"1763:10:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":31260,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1774:5:34","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"1763:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":31257,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31189,"src":"1743:8:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31258,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1752:10:34","memberName":"mulWadDown","nodeType":"MemberAccess","referencedDeclaration":26049,"src":"1743:19:34","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":31261,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1743:37:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31262,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1781:10:34","memberName":"mulWadDown","nodeType":"MemberAccess","referencedDeclaration":26049,"src":"1743:48:34","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":31267,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1743:104:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1731:116:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31269,"nodeType":"ExpressionStatement","src":"1731:116:34"},{"expression":{"id":31277,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":31270,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31204,"src":"1862:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31272,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"1874:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"1862:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31276,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31273,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31200,"src":"1879:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31274,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1893:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"1879:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":31275,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31189,"src":"1898:8:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1879:27:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1862:44:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31278,"nodeType":"ExpressionStatement","src":"1862:44:34"},{"expression":{"id":31286,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":31279,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31204,"src":"1920:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31281,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"1932:1:34","memberName":"L","nodeType":"MemberAccess","referencedDeclaration":31139,"src":"1920:13:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31285,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31282,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31200,"src":"1936:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31283,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1950:1:34","memberName":"L","nodeType":"MemberAccess","referencedDeclaration":31139,"src":"1936:15:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":31284,"name":"deltaL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31249,"src":"1954:6:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1936:24:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1920:40:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31287,"nodeType":"ExpressionStatement","src":"1920:40:34"},{"expression":{"arguments":[{"hexValue":"616d6f756e744f75743a20","id":31291,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1988:13:34","typeDescriptions":{"typeIdentifier":"t_stringliteral_3ef8f92aaa32f0dcfbe7eafff45dd9369fde88197579275455403f4a1e7d8f3a","typeString":"literal_string \"amountOut: \""},"value":"amountOut: "},{"id":31292,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31245,"src":"2003:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_3ef8f92aaa32f0dcfbe7eafff45dd9369fde88197579275455403f4a1e7d8f3a","typeString":"literal_string \"amountOut: \""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":31288,"name":"console2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25512,"src":"1975:8:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_console2_$25512_$","typeString":"type(library console2)"}},"id":31290,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1984:3:34","memberName":"log","nodeType":"MemberAccess","referencedDeclaration":18139,"src":"1975:12:34","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_string_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (string memory,uint256) view"}},"id":31293,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1975:38:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":31294,"nodeType":"ExpressionStatement","src":"1975:38:34"},{"expression":{"arguments":[{"hexValue":"6e65774c3a20","id":31298,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2040:8:34","typeDescriptions":{"typeIdentifier":"t_stringliteral_7c331ab154f5a027f338d8a3b030cb763a8d71c19cf54dd63d1efedc859d64a3","typeString":"literal_string \"newL: \""},"value":"newL: "},{"expression":{"id":31299,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31204,"src":"2050:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31300,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2062:1:34","memberName":"L","nodeType":"MemberAccess","referencedDeclaration":31139,"src":"2050:13:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_7c331ab154f5a027f338d8a3b030cb763a8d71c19cf54dd63d1efedc859d64a3","typeString":"literal_string \"newL: \""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":31295,"name":"console2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25512,"src":"2027:8:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_console2_$25512_$","typeString":"type(library console2)"}},"id":31297,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2036:3:34","memberName":"log","nodeType":"MemberAccess","referencedDeclaration":18139,"src":"2027:12:34","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_string_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (string memory,uint256) view"}},"id":31301,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2027:37:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":31302,"nodeType":"ExpressionStatement","src":"2027:37:34"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31306,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31303,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31200,"src":"2083:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31304,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2097:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"2083:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":31305,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31245,"src":"2102:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2083:28:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":31311,"nodeType":"IfStatement","src":"2079:94:34","trueBody":{"id":31310,"nodeType":"Block","src":"2113:60:34","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":31307,"name":"NotEnoughLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31127,"src":"2138:18:34","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":31308,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2138:20:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":31309,"nodeType":"RevertStatement","src":"2131:27:34"}]}},{"expression":{"id":31319,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":31312,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31204,"src":"2186:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31314,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2198:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"2186:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31318,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31315,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31200,"src":"2203:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31316,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2217:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"2203:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":31317,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31245,"src":"2222:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2203:28:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2186:45:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31320,"nodeType":"ExpressionStatement","src":"2186:45:34"}]}},{"assignments":[31403],"declarations":[{"constant":false,"id":31403,"mutability":"mutable","name":"swapData","nameLocation":"2897:8:34","nodeType":"VariableDeclaration","scope":31428,"src":"2884:21:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":31402,"name":"bytes","nodeType":"ElementaryTypeName","src":"2884:5:34","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":31408,"initialValue":{"arguments":[{"id":31406,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31204,"src":"2919:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}],"expression":{"id":31404,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2908:3:34","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":31405,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2912:6:34","memberName":"encode","nodeType":"MemberAccess","src":"2908:10:34","typeDescriptions":{"typeIdentifier":"t_function_abiencode_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":31407,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2908:23:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"2884:47:34"},{"assignments":[31410,null,null,null,null,null],"declarations":[{"constant":false,"id":31410,"mutability":"mutable","name":"valid","nameLocation":"2947:5:34","nodeType":"VariableDeclaration","scope":31428,"src":"2942:10:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":31409,"name":"bool","nodeType":"ElementaryTypeName","src":"2942:4:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},null,null,null,null,null],"id":31422,"initialValue":{"arguments":[{"arguments":[{"id":31417,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"3014:4:34","typeDescriptions":{"typeIdentifier":"t_contract$_ConstantSumSolver_$31599","typeString":"contract ConstantSumSolver"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_ConstantSumSolver_$31599","typeString":"contract ConstantSumSolver"}],"id":31416,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3006:7:34","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":31415,"name":"address","nodeType":"ElementaryTypeName","src":"3006:7:34","typeDescriptions":{}}},"id":31418,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3006:13:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":31419,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31185,"src":"3021:6:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":31420,"name":"swapData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31403,"src":"3029:8:34","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"arguments":[{"id":31412,"name":"strategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31142,"src":"2983:8:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":31411,"name":"IStrategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29839,"src":"2973:9:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStrategy_$29839_$","typeString":"type(contract IStrategy)"}},"id":31413,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2973:19:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStrategy_$29839","typeString":"contract IStrategy"}},"id":31414,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2993:12:34","memberName":"validateSwap","nodeType":"MemberAccess","referencedDeclaration":29808,"src":"2973:32:34","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$_t_bytes_memory_ptr_$returns$_t_bool_$_t_int256_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (address,uint256,bytes memory) view external returns (bool,int256,int256,uint256,uint256,uint256)"}},"id":31421,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2973:65:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_int256_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(bool,int256,int256,uint256,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"2941:97:34"},{"expression":{"components":[{"id":31423,"name":"valid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31410,"src":"3056:5:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":31424,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31245,"src":"3063:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":31425,"name":"swapData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31403,"src":"3074:8:34","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"id":31426,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3055:28:34","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_uint256_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,uint256,bytes memory)"}},"functionReturnParameters":31197,"id":31427,"nodeType":"Return","src":"3048:35:34"}]},"functionSelector":"3928ff97","implemented":true,"kind":"function","modifiers":[],"name":"simulateSwap","nameLocation":"1058:12:34","parameters":{"id":31190,"nodeType":"ParameterList","parameters":[{"constant":false,"id":31185,"mutability":"mutable","name":"poolId","nameLocation":"1088:6:34","nodeType":"VariableDeclaration","scope":31429,"src":"1080:14:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31184,"name":"uint256","nodeType":"ElementaryTypeName","src":"1080:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":31187,"mutability":"mutable","name":"swapXIn","nameLocation":"1109:7:34","nodeType":"VariableDeclaration","scope":31429,"src":"1104:12:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":31186,"name":"bool","nodeType":"ElementaryTypeName","src":"1104:4:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":31189,"mutability":"mutable","name":"amountIn","nameLocation":"1134:8:34","nodeType":"VariableDeclaration","scope":31429,"src":"1126:16:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31188,"name":"uint256","nodeType":"ElementaryTypeName","src":"1126:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1070:78:34"},"returnParameters":{"id":31197,"nodeType":"ParameterList","parameters":[{"constant":false,"id":31192,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":31429,"src":"1170:4:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":31191,"name":"bool","nodeType":"ElementaryTypeName","src":"1170:4:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":31194,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":31429,"src":"1176:7:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31193,"name":"uint256","nodeType":"ElementaryTypeName","src":"1176:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":31196,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":31429,"src":"1185:12:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":31195,"name":"bytes","nodeType":"ElementaryTypeName","src":"1185:5:34","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1169:29:34"},"scope":31599,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":31598,"nodeType":"FunctionDefinition","src":"3096:1451:34","nodes":[],"body":{"id":31597,"nodeType":"Block","src":"3280:1267:34","nodes":[],"statements":[{"assignments":[31446],"declarations":[{"constant":false,"id":31446,"mutability":"mutable","name":"startReserves","nameLocation":"3306:13:34","nodeType":"VariableDeclaration","scope":31597,"src":"3290:29:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves"},"typeName":{"id":31445,"nodeType":"UserDefinedTypeName","pathNode":{"id":31444,"name":"Reserves","nameLocations":["3290:8:34"],"nodeType":"IdentifierPath","referencedDeclaration":31140,"src":"3290:8:34"},"referencedDeclaration":31140,"src":"3290:8:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_storage_ptr","typeString":"struct ConstantSumSolver.Reserves"}},"visibility":"internal"}],"id":31447,"nodeType":"VariableDeclarationStatement","src":"3290:29:34"},{"assignments":[31450],"declarations":[{"constant":false,"id":31450,"mutability":"mutable","name":"endReserves","nameLocation":"3345:11:34","nodeType":"VariableDeclaration","scope":31597,"src":"3329:27:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves"},"typeName":{"id":31449,"nodeType":"UserDefinedTypeName","pathNode":{"id":31448,"name":"Reserves","nameLocations":["3329:8:34"],"nodeType":"IdentifierPath","referencedDeclaration":31140,"src":"3329:8:34"},"referencedDeclaration":31140,"src":"3329:8:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_storage_ptr","typeString":"struct ConstantSumSolver.Reserves"}},"visibility":"internal"}],"id":31451,"nodeType":"VariableDeclarationStatement","src":"3329:27:34"},{"expression":{"id":31470,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"id":31452,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31446,"src":"3367:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31454,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3381:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"3367:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":31455,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31446,"src":"3385:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31456,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3399:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"3385:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":31457,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31446,"src":"3403:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31458,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3417:1:34","memberName":"L","nodeType":"MemberAccess","referencedDeclaration":31139,"src":"3403:15:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":31459,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"3366:53:34","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":31468,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31431,"src":"3492:6:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":31462,"name":"strategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31142,"src":"3450:8:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":31461,"name":"IStrategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29839,"src":"3440:9:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStrategy_$29839_$","typeString":"type(contract IStrategy)"}},"id":31463,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3440:19:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStrategy_$29839","typeString":"contract IStrategy"}},"id":31464,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3460:4:34","memberName":"dfmm","nodeType":"MemberAccess","referencedDeclaration":29831,"src":"3440:24:34","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_address_$","typeString":"function () view external returns (address)"}},"id":31465,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3440:26:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":31460,"name":"IDFMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29730,"src":"3434:5:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDFMM_$29730_$","typeString":"type(contract IDFMM)"}},"id":31466,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3434:33:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IDFMM_$29730","typeString":"contract IDFMM"}},"id":31467,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3468:23:34","memberName":"getReservesAndLiquidity","nodeType":"MemberAccess","referencedDeclaration":29710,"src":"3434:57:34","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (uint256) view external returns (uint256,uint256,uint256)"}},"id":31469,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3434:65:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"src":"3366:133:34","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":31471,"nodeType":"ExpressionStatement","src":"3366:133:34"},{"assignments":[31476],"declarations":[{"constant":false,"id":31476,"mutability":"mutable","name":"poolParams","nameLocation":"3546:10:34","nodeType":"VariableDeclaration","scope":31597,"src":"3509:47:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams"},"typeName":{"id":31475,"nodeType":"UserDefinedTypeName","pathNode":{"id":31474,"name":"ConstantSum.ConstantSumParams","nameLocations":["3509:11:34","3521:17:34"],"nodeType":"IdentifierPath","referencedDeclaration":36490,"src":"3509:29:34"},"referencedDeclaration":36490,"src":"3509:29:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_storage_ptr","typeString":"struct ConstantSum.ConstantSumParams"}},"visibility":"internal"}],"id":31489,"initialValue":{"arguments":[{"arguments":[{"id":31483,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31431,"src":"3617:6:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":31480,"name":"strategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31142,"src":"3593:8:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":31479,"name":"IStrategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29839,"src":"3583:9:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStrategy_$29839_$","typeString":"type(contract IStrategy)"}},"id":31481,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3583:19:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStrategy_$29839","typeString":"contract IStrategy"}},"id":31482,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3603:13:34","memberName":"getPoolParams","nodeType":"MemberAccess","referencedDeclaration":29838,"src":"3583:33:34","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_bytes_memory_ptr_$","typeString":"function (uint256) view external returns (bytes memory)"}},"id":31484,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3583:41:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"expression":{"id":31485,"name":"ConstantSum","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37071,"src":"3639:11:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ConstantSum_$37071_$","typeString":"type(contract ConstantSum)"}},"id":31486,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3651:17:34","memberName":"ConstantSumParams","nodeType":"MemberAccess","referencedDeclaration":36490,"src":"3639:29:34","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}}],"id":31487,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3638:31:34","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_struct$_ConstantSumParams_$36490_storage_ptr_$","typeString":"type(struct ConstantSum.ConstantSumParams storage pointer)"}],"expression":{"id":31477,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"3559:3:34","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":31478,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3563:6:34","memberName":"decode","nodeType":"MemberAccess","src":"3559:10:34","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":31488,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3559:120:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"nodeType":"VariableDeclarationStatement","src":"3509:170:34"},{"condition":{"id":31490,"name":"IsAllocate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31433,"src":"3694:10:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":31570,"nodeType":"Block","src":"3941:364:34","statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":31532,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31527,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31524,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31446,"src":"3959:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31525,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3973:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"3959:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":31526,"name":"amountX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31435,"src":"3978:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3959:26:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31531,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31528,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31446,"src":"3989:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31529,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4003:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"3989:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":31530,"name":"amountY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31437,"src":"4008:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3989:26:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3959:56:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":31537,"nodeType":"IfStatement","src":"3955:122:34","trueBody":{"id":31536,"nodeType":"Block","src":"4017:60:34","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":31533,"name":"NotEnoughLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31127,"src":"4042:18:34","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":31534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4042:20:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":31535,"nodeType":"RevertStatement","src":"4035:27:34"}]}},{"expression":{"id":31545,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":31538,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31450,"src":"4090:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31540,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4102:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"4090:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31544,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31541,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31446,"src":"4107:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31542,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4121:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"4107:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":31543,"name":"amountX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31435,"src":"4126:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4107:26:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4090:43:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31546,"nodeType":"ExpressionStatement","src":"4090:43:34"},{"expression":{"id":31554,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":31547,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31450,"src":"4147:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31549,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4159:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"4147:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31553,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31550,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31446,"src":"4164:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31551,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4178:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"4164:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":31552,"name":"amountY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31437,"src":"4183:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4164:26:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4147:43:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31555,"nodeType":"ExpressionStatement","src":"4147:43:34"},{"expression":{"id":31568,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":31556,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31450,"src":"4204:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31558,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4216:1:34","memberName":"L","nodeType":"MemberAccess","referencedDeclaration":31139,"src":"4204:13:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31567,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31559,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31450,"src":"4236:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31560,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4248:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"4236:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":31564,"name":"poolParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31476,"src":"4277:10:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":31565,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4288:5:34","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"4277:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":31561,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31450,"src":"4253:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31562,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4265:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"4253:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31563,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4268:8:34","memberName":"divWadUp","nodeType":"MemberAccess","referencedDeclaration":26097,"src":"4253:23:34","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":31566,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4253:41:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4236:58:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4204:90:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31569,"nodeType":"ExpressionStatement","src":"4204:90:34"}]},"id":31571,"nodeType":"IfStatement","src":"3690:615:34","trueBody":{"id":31523,"nodeType":"Block","src":"3706:229:34","statements":[{"expression":{"id":31498,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":31491,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31450,"src":"3720:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31493,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3732:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"3720:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31497,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31494,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31446,"src":"3737:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31495,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3751:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"3737:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":31496,"name":"amountX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31435,"src":"3756:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3737:26:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3720:43:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31499,"nodeType":"ExpressionStatement","src":"3720:43:34"},{"expression":{"id":31507,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":31500,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31450,"src":"3777:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31502,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3789:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"3777:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31506,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31503,"name":"startReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31446,"src":"3794:13:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31504,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3808:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"3794:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":31505,"name":"amountY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31437,"src":"3813:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3794:26:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3777:43:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31508,"nodeType":"ExpressionStatement","src":"3777:43:34"},{"expression":{"id":31521,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":31509,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31450,"src":"3834:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31511,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3846:1:34","memberName":"L","nodeType":"MemberAccess","referencedDeclaration":31139,"src":"3834:13:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":31520,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":31512,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31450,"src":"3866:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31513,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3878:2:34","memberName":"rx","nodeType":"MemberAccess","referencedDeclaration":31135,"src":"3866:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":31517,"name":"poolParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31476,"src":"3907:10:34","typeDescriptions":{"typeIdentifier":"t_struct$_ConstantSumParams_$36490_memory_ptr","typeString":"struct ConstantSum.ConstantSumParams memory"}},"id":31518,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3918:5:34","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":36485,"src":"3907:16:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":31514,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31450,"src":"3883:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}},"id":31515,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3895:2:34","memberName":"ry","nodeType":"MemberAccess","referencedDeclaration":31137,"src":"3883:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31516,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3898:8:34","memberName":"divWadUp","nodeType":"MemberAccess","referencedDeclaration":26097,"src":"3883:23:34","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":31519,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3883:41:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3866:58:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3834:90:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":31522,"nodeType":"ExpressionStatement","src":"3834:90:34"}]}},{"assignments":[31573],"declarations":[{"constant":false,"id":31573,"mutability":"mutable","name":"allocateData","nameLocation":"4328:12:34","nodeType":"VariableDeclaration","scope":31597,"src":"4315:25:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":31572,"name":"bytes","nodeType":"ElementaryTypeName","src":"4315:5:34","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":31578,"initialValue":{"arguments":[{"id":31576,"name":"endReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31450,"src":"4354:11:34","typeDescriptions":{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Reserves_$31140_memory_ptr","typeString":"struct ConstantSumSolver.Reserves memory"}],"expression":{"id":31574,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"4343:3:34","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":31575,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4347:6:34","memberName":"encode","nodeType":"MemberAccess","src":"4343:10:34","typeDescriptions":{"typeIdentifier":"t_function_abiencode_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":31577,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4343:23:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"4315:51:34"},{"assignments":[31580,null,null,null,null],"declarations":[{"constant":false,"id":31580,"mutability":"mutable","name":"valid","nameLocation":"4382:5:34","nodeType":"VariableDeclaration","scope":31597,"src":"4377:10:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":31579,"name":"bool","nodeType":"ElementaryTypeName","src":"4377:4:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},null,null,null,null],"id":31592,"initialValue":{"arguments":[{"arguments":[{"id":31587,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"4465:4:34","typeDescriptions":{"typeIdentifier":"t_contract$_ConstantSumSolver_$31599","typeString":"contract ConstantSumSolver"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_ConstantSumSolver_$31599","typeString":"contract ConstantSumSolver"}],"id":31586,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4457:7:34","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":31585,"name":"address","nodeType":"ElementaryTypeName","src":"4457:7:34","typeDescriptions":{}}},"id":31588,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4457:13:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":31589,"name":"poolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31431,"src":"4472:6:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":31590,"name":"allocateData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31573,"src":"4480:12:34","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"arguments":[{"id":31582,"name":"strategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31142,"src":"4405:8:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":31581,"name":"IStrategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29839,"src":"4395:9:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStrategy_$29839_$","typeString":"type(contract IStrategy)"}},"id":31583,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4395:19:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStrategy_$29839","typeString":"contract IStrategy"}},"id":31584,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4415:28:34","memberName":"validateAllocateOrDeallocate","nodeType":"MemberAccess","referencedDeclaration":29787,"src":"4395:48:34","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$_t_bytes_memory_ptr_$returns$_t_bool_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (address,uint256,bytes memory) view external returns (bool,int256,uint256,uint256,uint256)"}},"id":31591,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4395:107:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(bool,int256,uint256,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"4376:126:34"},{"expression":{"components":[{"id":31593,"name":"valid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31580,"src":"4520:5:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":31594,"name":"allocateData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31573,"src":"4527:12:34","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"id":31595,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4519:21:34","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"functionReturnParameters":31443,"id":31596,"nodeType":"Return","src":"4512:28:34"}]},"functionSelector":"8a1a20de","implemented":true,"kind":"function","modifiers":[],"name":"simulateAllocateOrDeallocate","nameLocation":"3105:28:34","parameters":{"id":31438,"nodeType":"ParameterList","parameters":[{"constant":false,"id":31431,"mutability":"mutable","name":"poolId","nameLocation":"3151:6:34","nodeType":"VariableDeclaration","scope":31598,"src":"3143:14:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31430,"name":"uint256","nodeType":"ElementaryTypeName","src":"3143:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":31433,"mutability":"mutable","name":"IsAllocate","nameLocation":"3172:10:34","nodeType":"VariableDeclaration","scope":31598,"src":"3167:15:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":31432,"name":"bool","nodeType":"ElementaryTypeName","src":"3167:4:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":31435,"mutability":"mutable","name":"amountX","nameLocation":"3200:7:34","nodeType":"VariableDeclaration","scope":31598,"src":"3192:15:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31434,"name":"uint256","nodeType":"ElementaryTypeName","src":"3192:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":31437,"mutability":"mutable","name":"amountY","nameLocation":"3225:7:34","nodeType":"VariableDeclaration","scope":31598,"src":"3217:15:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31436,"name":"uint256","nodeType":"ElementaryTypeName","src":"3217:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3133:105:34"},"returnParameters":{"id":31443,"nodeType":"ParameterList","parameters":[{"constant":false,"id":31440,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":31598,"src":"3260:4:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":31439,"name":"bool","nodeType":"ElementaryTypeName","src":"3260:4:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":31442,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":31598,"src":"3266:12:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":31441,"name":"bytes","nodeType":"ElementaryTypeName","src":"3266:5:34","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3259:20:34"},"scope":31599,"stateMutability":"view","virtual":false,"visibility":"public"}],"abstract":false,"baseContracts":[],"canonicalName":"ConstantSumSolver","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[31599],"name":"ConstantSumSolver","nameLocation":"277:17:34","scope":31600,"usedErrors":[31127],"usedEvents":[]}],"license":"GPL-3.0-or-later"},"id":34}