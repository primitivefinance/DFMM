{"abi":[{"type":"error","name":"OOB","inputs":[]}],"bytecode":{"object":"0x60808060405234601757603a9081601d823930815050f35b600080fdfe600080fdfea26469706673582212204a11d29c64b95cb0faf59ba341539dcd3923fba640c2e69e7ca3d23a7270b10064736f6c63430008160033","sourceMap":"2241:5664:22:-:0;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x600080fdfea26469706673582212204a11d29c64b95cb0faf59ba341539dcd3923fba640c2e69e7ca3d23a7270b10064736f6c63430008160033","sourceMap":"2241:5664:22:-:0;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.22+commit.4fc1097e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"OOB\",\"type\":\"error\"}],\"devdoc\":{\"author\":\"@alexangelj\",\"details\":\"Terms which can potentially be ambiguous are given discrete names. This makes it easier to search for terms and update terms. Variables can sometimes not be trusted to be or act like their names. This naming scheme avoids this problem using a glossary to define them. // -------------------- Glossary --------------------- // `R_x` - Amount of asset token reserves per single unit of liquidity. `R_y` - Amount of quote token reserves per single unit of liquidity. `stk` - Strike price of the pool. The terminal price of each asset token. `vol` - Implied volatility of the pool. Higher vol = higher price impact on swaps. `tau` - Time until the pool expires. Amount of seconds until the pool's curve becomes flat around `stk`. `inv` - Invariant of the pool. Difference between theoretical $ value and actual $ value per liquidity. `WAD` - Signed or unsigned fixed point number with up to 18 decimals and up to 256 total bits wide. `YEAR`- Equal to the amount of seconds in a year. Used in `invariant` function. // -------------------- Units ------------------------ // `R_x` - Units are unsigned WAD. Represents value of tokens, decimals matter. `R_y` - Units are unsigned WAD. Represents value of tokens, decimals matter. `stk` - Units are unsigned WAD. Represents value of tokens, decimals matter. `vol` - Units are unsigned WAD. Represents a percentage in which 100% = WAD. `tau` - Units are YEAR. Represents a time unit which `1.0` is equal to YEAR. `inv` - Units are signed WAD. Initial value of zero and decreases over time. // -------------------- Denoted By ----------------- // `R_x` - Denoted by `x`. `R_y` - Denoted by `y`. `stk` - Denoted by `K`. `vol` - Denoted by `\\u03c3`. `tau` - Denoted by `\\u03c4`. `inv` - Denoted by `k`. // -------------------- Error Bounds ----------------- // `inv` - Up to 1e-9. // ------------------------ ~ ------------------------ //\",\"errors\":{\"OOB()\":[{\"details\":\"Reverts when an input value is out of bounds of its acceptable range.\"}]},\"kind\":\"dev\",\"methods\":{},\"title\":\"Invariant of Primitive RMM.\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"Invariant is `k` with the trading function `k = y - K\\u03a6(\\u03a6\\u207b\\u00b9(1-x) - \\u03c3\\u221a\\u03c4)`.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/solstat/src/Invariant.sol\":\"Invariant\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":ds-test/=lib/solstat/lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/solstat/lib/forge-std/src/\",\":solmate/=lib/solstat/lib/solmate/src/\",\":solstat/=lib/solstat/src/\"],\"viaIR\":true},\"sources\":{\"lib/solstat/lib/solmate/src/utils/FixedPointMathLib.sol\":{\"keccak256\":\"0x0bf1d4f3999a4471e0fded0a2f67e7fe328e2a27385348571b1fc0a8d9c9f62e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://737232ccd46bfbe6f34a3e5bc24c345777da47e6ea27bcc46d2c3931883c2257\",\"dweb:/ipfs/QmeA6ikG9dQKZgkJYUVGXcApuCii34h7qtmguToRdSU3qZ\"]},\"lib/solstat/src/Gaussian.sol\":{\"keccak256\":\"0x6d8461cfbbcd52f15b35af8e5d3fdf67a544bcf3a20db2e00fdfee9f538489ec\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://169aac115f217f00d741e3b63413df28f540e33d3b628a6f42a5ef4ed8af8bd9\",\"dweb:/ipfs/QmTHwgyiPgygMWnW5vTem1ARicssoBNw69ASMrCdgEPdKs\"]},\"lib/solstat/src/Invariant.sol\":{\"keccak256\":\"0xc1b1bd5e16204c135ff82855b5e01045505efefa48c986356a01e58517f65006\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6163e9486820eae1ff3ee3af534032360099f5bd61617ab48dea415009d6062f\",\"dweb:/ipfs/QmddfNakL2FyWsFoB6AjmGn9oVE95tNG1xXmc9M7PUGHka\"]},\"lib/solstat/src/Units.sol\":{\"keccak256\":\"0x7bd75c8513c11a58e3afd88cc083318e27453ae5545db3023b07de2cd0a672a5\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0ae27dbbd82b4dea4afb0caf04dcab5bcea62790e46b785bd752a11e98d0fc1e\",\"dweb:/ipfs/QmbF9xjLJSE6h3v1qMVYhBYY1PksgfgBkVMhefsxrA8cP2\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.22+commit.4fc1097e"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"OOB"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["ds-test/=lib/solstat/lib/forge-std/lib/ds-test/src/","forge-std/=lib/solstat/lib/forge-std/src/","solmate/=lib/solstat/lib/solmate/src/","solstat/=lib/solstat/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/solstat/src/Invariant.sol":"Invariant"},"evmVersion":"paris","libraries":{},"viaIR":true},"sources":{"lib/solstat/lib/solmate/src/utils/FixedPointMathLib.sol":{"keccak256":"0x0bf1d4f3999a4471e0fded0a2f67e7fe328e2a27385348571b1fc0a8d9c9f62e","urls":["bzz-raw://737232ccd46bfbe6f34a3e5bc24c345777da47e6ea27bcc46d2c3931883c2257","dweb:/ipfs/QmeA6ikG9dQKZgkJYUVGXcApuCii34h7qtmguToRdSU3qZ"],"license":"MIT"},"lib/solstat/src/Gaussian.sol":{"keccak256":"0x6d8461cfbbcd52f15b35af8e5d3fdf67a544bcf3a20db2e00fdfee9f538489ec","urls":["bzz-raw://169aac115f217f00d741e3b63413df28f540e33d3b628a6f42a5ef4ed8af8bd9","dweb:/ipfs/QmTHwgyiPgygMWnW5vTem1ARicssoBNw69ASMrCdgEPdKs"],"license":"MIT"},"lib/solstat/src/Invariant.sol":{"keccak256":"0xc1b1bd5e16204c135ff82855b5e01045505efefa48c986356a01e58517f65006","urls":["bzz-raw://6163e9486820eae1ff3ee3af534032360099f5bd61617ab48dea415009d6062f","dweb:/ipfs/QmddfNakL2FyWsFoB6AjmGn9oVE95tNG1xXmc9M7PUGHka"],"license":"MIT"},"lib/solstat/src/Units.sol":{"keccak256":"0x7bd75c8513c11a58e3afd88cc083318e27453ae5545db3023b07de2cd0a672a5","urls":["bzz-raw://0ae27dbbd82b4dea4afb0caf04dcab5bcea62790e46b785bd752a11e98d0fc1e","dweb:/ipfs/QmbF9xjLJSE6h3v1qMVYhBYY1PksgfgBkVMhefsxrA8cP2"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"lib/solstat/src/Invariant.sol","id":27733,"exportedSymbols":{"FixedPointMathLib":[26640],"Gaussian":[27374],"Invariant":[27732],"Min":[27736],"abs":[27763],"diviWad":[27813],"muli":[27777],"muliWad":[27795]},"nodeType":"SourceUnit","src":"32:7874:22","nodes":[{"id":27376,"nodeType":"PragmaDirective","src":"32:23:22","nodes":[],"literals":["solidity","^","0.8",".4"]},{"id":27377,"nodeType":"ImportDirective","src":"57:24:22","nodes":[],"absolutePath":"lib/solstat/src/Gaussian.sol","file":"./Gaussian.sol","nameLocation":"-1:-1:-1","scope":27733,"sourceUnit":27375,"symbolAliases":[],"unitAlias":""},{"id":27732,"nodeType":"ContractDefinition","src":"2241:5664:22","nodes":[{"id":27381,"nodeType":"UsingForDirective","src":"2265:26:22","nodes":[],"global":false,"libraryName":{"id":27379,"name":"Gaussian","nameLocations":["2271:8:22"],"nodeType":"IdentifierPath","referencedDeclaration":27374,"src":"2271:8:22"},"typeName":{"id":27380,"name":"int256","nodeType":"ElementaryTypeName","src":"2284:6:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":27384,"nodeType":"UsingForDirective","src":"2296:36:22","nodes":[],"global":false,"libraryName":{"id":27382,"name":"FixedPointMathLib","nameLocations":["2302:17:22"],"nodeType":"IdentifierPath","referencedDeclaration":26640,"src":"2302:17:22"},"typeName":{"id":27383,"name":"uint256","nodeType":"ElementaryTypeName","src":"2324:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":27387,"nodeType":"VariableDeclaration","src":"2338:39:22","nodes":[],"constant":true,"mutability":"constant","name":"WAD","nameLocation":"2364:3:22","scope":27732,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27385,"name":"uint256","nodeType":"ElementaryTypeName","src":"2338:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31","id":27386,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2370:7:22","subdenomination":"ether","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1"},"visibility":"internal"},{"id":27390,"nodeType":"VariableDeclaration","src":"2383:38:22","nodes":[],"constant":true,"mutability":"constant","name":"ONE","nameLocation":"2408:3:22","scope":27732,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":27388,"name":"int256","nodeType":"ElementaryTypeName","src":"2383:6:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":{"hexValue":"31","id":27389,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2414:7:22","subdenomination":"ether","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1"},"visibility":"internal"},{"id":27393,"nodeType":"VariableDeclaration","src":"2427:40:22","nodes":[],"constant":true,"mutability":"constant","name":"YEAR","nameLocation":"2452:4:22","scope":27732,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":27391,"name":"int256","nodeType":"ElementaryTypeName","src":"2427:6:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":{"hexValue":"3331353536393532","id":27392,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2459:8:22","typeDescriptions":{"typeIdentifier":"t_rational_31556952_by_1","typeString":"int_const 31556952"},"value":"31556952"},"visibility":"internal"},{"id":27396,"nodeType":"VariableDeclaration","src":"2473:42:22","nodes":[],"constant":true,"mutability":"constant","name":"HALF_SCALAR","nameLocation":"2498:11:22","scope":27732,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":27394,"name":"int256","nodeType":"ElementaryTypeName","src":"2473:6:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":{"hexValue":"316539","id":27395,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2512:3:22","typeDescriptions":{"typeIdentifier":"t_rational_1000000000_by_1","typeString":"int_const 1000000000"},"value":"1e9"},"visibility":"internal"},{"id":27399,"nodeType":"ErrorDefinition","src":"2620:12:22","nodes":[],"documentation":{"id":27397,"nodeType":"StructuredDocumentation","src":"2522:93:22","text":" @dev Reverts when an input value is out of bounds of its acceptable range."},"errorSelector":"aaf3956f","name":"OOB","nameLocation":"2626:3:22","parameters":{"id":27398,"nodeType":"ParameterList","parameters":[],"src":"2629:2:22"}},{"id":27549,"nodeType":"FunctionDefinition","src":"3967:1061:22","nodes":[],"body":{"id":27548,"nodeType":"Block","src":"4081:947:22","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":27417,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27415,"name":"R_x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27402,"src":"4095:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":27416,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27387,"src":"4101:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4095:9:22","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":27421,"nodeType":"IfStatement","src":"4091:27:22","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":27418,"name":"OOB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27399,"src":"4113:3:22","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":27419,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4113:5:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":27420,"nodeType":"RevertStatement","src":"4106:12:22"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":27424,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27422,"name":"R_x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27402,"src":"4172:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":27423,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27387,"src":"4179:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4172:10:22","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":27430,"nodeType":"IfStatement","src":"4168:35:22","trueBody":{"expression":{"arguments":[{"id":27427,"name":"inv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27410,"src":"4199:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27426,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4191:7:22","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":27425,"name":"uint256","nodeType":"ElementaryTypeName","src":"4191:7:22","typeDescriptions":{}}},"id":27428,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4191:12:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":27414,"id":27429,"nodeType":"Return","src":"4184:19:22"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":27433,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27431,"name":"R_x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27402,"src":"4320:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":27432,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4327:1:22","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4320:8:22","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":27444,"nodeType":"IfStatement","src":"4316:47:22","trueBody":{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27441,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":27438,"name":"stk","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27404,"src":"4352:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":27437,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4345:6:22","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":27436,"name":"int256","nodeType":"ElementaryTypeName","src":"4345:6:22","typeDescriptions":{}}},"id":27439,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4345:11:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":27440,"name":"inv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27410,"src":"4359:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4345:17:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27435,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4337:7:22","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":27434,"name":"uint256","nodeType":"ElementaryTypeName","src":"4337:7:22","typeDescriptions":{}}},"id":27442,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4337:26:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":27414,"id":27443,"nodeType":"Return","src":"4330:33:22"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":27447,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27445,"name":"tau","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27408,"src":"4484:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":27446,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4491:1:22","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4484:8:22","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":27546,"nodeType":"Block","src":"4937:85:22","statements":[{"expression":{"id":27544,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":27526,"name":"R_y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27413,"src":"4951:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27542,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":27532,"name":"stk","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27404,"src":"4980:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":27531,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4973:6:22","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":27530,"name":"int256","nodeType":"ElementaryTypeName","src":"4973:6:22","typeDescriptions":{}}},"id":27533,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4973:11:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27539,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27534,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27390,"src":"4986:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":27537,"name":"R_x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27402,"src":"4999:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":27536,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4992:6:22","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":27535,"name":"int256","nodeType":"ElementaryTypeName","src":"4992:6:22","typeDescriptions":{}}},"id":27538,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4992:11:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4986:17:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27529,"name":"muliWad","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27795,"src":"4965:7:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":27540,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4965:39:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":27541,"name":"inv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27410,"src":"5007:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4965:45:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27528,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4957:7:22","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":27527,"name":"uint256","nodeType":"ElementaryTypeName","src":"4957:7:22","typeDescriptions":{}}},"id":27543,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4957:54:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4951:60:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27545,"nodeType":"ExpressionStatement","src":"4951:60:22"}]},"id":27547,"nodeType":"IfStatement","src":"4480:542:22","trueBody":{"id":27525,"nodeType":"Block","src":"4494:437:22","statements":[{"assignments":[27449],"declarations":[{"constant":false,"id":27449,"mutability":"mutable","name":"sec","nameLocation":"4545:3:22","nodeType":"VariableDeclaration","scope":27525,"src":"4537:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27448,"name":"uint256","nodeType":"ElementaryTypeName","src":"4537:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":27457,"initialValue":{"arguments":[{"arguments":[{"id":27454,"name":"YEAR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27393,"src":"4574:4:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27453,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4566:7:22","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":27452,"name":"uint256","nodeType":"ElementaryTypeName","src":"4566:7:22","typeDescriptions":{}}},"id":27455,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4566:13:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":27450,"name":"tau","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27408,"src":"4551:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27451,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4555:10:22","memberName":"divWadDown","nodeType":"MemberAccess","referencedDeclaration":26081,"src":"4551:14:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":27456,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4551:29:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4537:43:22"},{"assignments":[27459],"declarations":[{"constant":false,"id":27459,"mutability":"mutable","name":"sdr","nameLocation":"4602:3:22","nodeType":"VariableDeclaration","scope":27525,"src":"4594:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27458,"name":"uint256","nodeType":"ElementaryTypeName","src":"4594:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":27463,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":27460,"name":"sec","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27449,"src":"4608:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27461,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4612:4:22","memberName":"sqrt","nodeType":"MemberAccess","referencedDeclaration":26589,"src":"4608:8:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint256)"}},"id":27462,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4608:10:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4594:24:22"},{"expression":{"id":27471,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":27464,"name":"sdr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27459,"src":"4632:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":27470,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27465,"name":"sdr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27459,"src":"4638:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"arguments":[{"id":27468,"name":"HALF_SCALAR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27396,"src":"4652:11:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27467,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4644:7:22","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":27466,"name":"uint256","nodeType":"ElementaryTypeName","src":"4644:7:22","typeDescriptions":{}}},"id":27469,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4644:20:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4638:26:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4632:32:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27472,"nodeType":"ExpressionStatement","src":"4632:32:22"},{"expression":{"id":27478,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":27473,"name":"sdr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27459,"src":"4678:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":27476,"name":"sdr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27459,"src":"4699:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":27474,"name":"vol","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27406,"src":"4684:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27475,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4688:10:22","memberName":"mulWadDown","nodeType":"MemberAccess","referencedDeclaration":26049,"src":"4684:14:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":27477,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4684:19:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4678:25:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27479,"nodeType":"ExpressionStatement","src":"4678:25:22"},{"assignments":[27481],"declarations":[{"constant":false,"id":27481,"mutability":"mutable","name":"phi","nameLocation":"4725:3:22","nodeType":"VariableDeclaration","scope":27525,"src":"4718:10:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":27480,"name":"int256","nodeType":"ElementaryTypeName","src":"4718:6:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":27488,"initialValue":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27487,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27482,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27390,"src":"4731:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":27485,"name":"R_x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27402,"src":"4744:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":27484,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4737:6:22","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":27483,"name":"int256","nodeType":"ElementaryTypeName","src":"4737:6:22","typeDescriptions":{}}},"id":27486,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4737:11:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4731:17:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"4718:30:22"},{"expression":{"id":27493,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":27489,"name":"phi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27481,"src":"4762:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":27490,"name":"phi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27481,"src":"4768:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":27491,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4772:3:22","memberName":"ppf","nodeType":"MemberAccess","referencedDeclaration":27373,"src":"4768:7:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_int256_$attached_to$_t_int256_$","typeString":"function (int256) pure returns (int256)"}},"id":27492,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4768:9:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4762:15:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":27494,"nodeType":"ExpressionStatement","src":"4762:15:22"},{"assignments":[27496],"declarations":[{"constant":false,"id":27496,"mutability":"mutable","name":"input","nameLocation":"4799:5:22","nodeType":"VariableDeclaration","scope":27525,"src":"4792:12:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":27495,"name":"int256","nodeType":"ElementaryTypeName","src":"4792:6:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":27503,"initialValue":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27502,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27497,"name":"phi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27481,"src":"4807:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":27500,"name":"sdr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27459,"src":"4820:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":27499,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4813:6:22","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":27498,"name":"int256","nodeType":"ElementaryTypeName","src":"4813:6:22","typeDescriptions":{}}},"id":27501,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4813:11:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4807:17:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"4792:32:22"},{"expression":{"id":27508,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":27504,"name":"input","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27496,"src":"4838:5:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":27505,"name":"input","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27496,"src":"4846:5:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":27506,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4852:3:22","memberName":"cdf","nodeType":"MemberAccess","referencedDeclaration":27280,"src":"4846:9:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_int256_$attached_to$_t_int256_$","typeString":"function (int256) pure returns (int256)"}},"id":27507,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4846:11:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4838:19:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":27509,"nodeType":"ExpressionStatement","src":"4838:19:22"},{"expression":{"id":27523,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":27510,"name":"R_y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27413,"src":"4872:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27521,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":27516,"name":"stk","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27404,"src":"4901:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":27515,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4894:6:22","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":27514,"name":"int256","nodeType":"ElementaryTypeName","src":"4894:6:22","typeDescriptions":{}}},"id":27517,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4894:11:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":27518,"name":"input","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27496,"src":"4907:5:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27513,"name":"muliWad","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27795,"src":"4886:7:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":27519,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4886:27:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":27520,"name":"inv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27410,"src":"4916:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4886:33:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27512,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4878:7:22","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":27511,"name":"uint256","nodeType":"ElementaryTypeName","src":"4878:7:22","typeDescriptions":{}}},"id":27522,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4878:42:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4872:48:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27524,"nodeType":"ExpressionStatement","src":"4872:48:22"}]}}]},"documentation":{"id":27400,"nodeType":"StructuredDocumentation","src":"2638:1324:22","text":" @notice Uses reserves `R_x` to compute reserves `R_y`.\n @dev Computes `y` in `y = KΦ(Φ⁻¹(1-x) - σ√τ) + k`.\n Primary function use to compute the invariant.\n Simplifies to `K(1 -x) + k` when time to expiry is zero.\n Reverts if `R_x` is greater than one. Units are a fixed point number with 18 decimals.\n We handle some special cases, try this:\n `normalcd(normalicd(1) - 0.1)` in https://keisan.casio.com/calculator\n Gaussian.sol reverts for `ppf(1)` and `ppf(0)`, so we handle those cases.\n @param R_x Quantity of token reserve `x` within the bounds of [0, 1].\n @param stk Strike price of the pool. Terminal price of asset `x` in the pool denominated in asset `y`.\n @param vol Implied volatility of the pool. Higher implied volatility = higher price impact on swaps.\n @param tau Time until the pool expires. Once expired, no swaps can happen. Scaled to units of `Invariant.YEAR`.\n @param inv Current invariant given the actual `R_x`. Zero if computing invariant itself.\n @return R_y Quantity of token reserve `y` within the bounds of [0, stk].\n @custom:error Technically, none. This is the source of truth for the trading function.\n @custom:source https://primitive.xyz/whitepaper"},"implemented":true,"kind":"function","modifiers":[],"name":"getY","nameLocation":"3976:4:22","parameters":{"id":27411,"nodeType":"ParameterList","parameters":[{"constant":false,"id":27402,"mutability":"mutable","name":"R_x","nameLocation":"3989:3:22","nodeType":"VariableDeclaration","scope":27549,"src":"3981:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27401,"name":"uint256","nodeType":"ElementaryTypeName","src":"3981:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":27404,"mutability":"mutable","name":"stk","nameLocation":"4002:3:22","nodeType":"VariableDeclaration","scope":27549,"src":"3994:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27403,"name":"uint256","nodeType":"ElementaryTypeName","src":"3994:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":27406,"mutability":"mutable","name":"vol","nameLocation":"4015:3:22","nodeType":"VariableDeclaration","scope":27549,"src":"4007:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27405,"name":"uint256","nodeType":"ElementaryTypeName","src":"4007:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":27408,"mutability":"mutable","name":"tau","nameLocation":"4028:3:22","nodeType":"VariableDeclaration","scope":27549,"src":"4020:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27407,"name":"uint256","nodeType":"ElementaryTypeName","src":"4020:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":27410,"mutability":"mutable","name":"inv","nameLocation":"4040:3:22","nodeType":"VariableDeclaration","scope":27549,"src":"4033:10:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":27409,"name":"int256","nodeType":"ElementaryTypeName","src":"4033:6:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"3980:64:22"},"returnParameters":{"id":27414,"nodeType":"ParameterList","parameters":[{"constant":false,"id":27413,"mutability":"mutable","name":"R_y","nameLocation":"4076:3:22","nodeType":"VariableDeclaration","scope":27549,"src":"4068:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27412,"name":"uint256","nodeType":"ElementaryTypeName","src":"4068:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4067:13:22"},"scope":27732,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":27703,"nodeType":"FunctionDefinition","src":"6199:1115:22","nodes":[],"body":{"id":27702,"nodeType":"Block","src":"6313:1001:22","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":27567,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27565,"name":"tau","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27558,"src":"6386:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":27566,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6393:1:22","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6386:8:22","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":27700,"nodeType":"Block","src":"7135:173:22","statements":[{"assignments":[27673],"declarations":[{"constant":false,"id":27673,"mutability":"mutable","name":"numerator","nameLocation":"7156:9:22","nodeType":"VariableDeclaration","scope":27700,"src":"7149:16:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":27672,"name":"int256","nodeType":"ElementaryTypeName","src":"7149:6:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":27680,"initialValue":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27679,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":27676,"name":"R_y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27552,"src":"7175:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":27675,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7168:6:22","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":27674,"name":"int256","nodeType":"ElementaryTypeName","src":"7168:6:22","typeDescriptions":{}}},"id":27677,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7168:11:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":27678,"name":"inv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27560,"src":"7182:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7168:17:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"7149:36:22"},{"assignments":[27682],"declarations":[{"constant":false,"id":27682,"mutability":"mutable","name":"denominator","nameLocation":"7206:11:22","nodeType":"VariableDeclaration","scope":27700,"src":"7199:18:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":27681,"name":"int256","nodeType":"ElementaryTypeName","src":"7199:6:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":27687,"initialValue":{"arguments":[{"id":27685,"name":"stk","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27554,"src":"7227:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":27684,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7220:6:22","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":27683,"name":"int256","nodeType":"ElementaryTypeName","src":"7220:6:22","typeDescriptions":{}}},"id":27686,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7220:11:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"7199:32:22"},{"expression":{"id":27698,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":27688,"name":"R_x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27563,"src":"7245:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27696,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27691,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27390,"src":"7259:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":27693,"name":"numerator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27673,"src":"7273:9:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":27694,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27682,"src":"7284:11:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27692,"name":"diviWad","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27813,"src":"7265:7:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":27695,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7265:31:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7259:37:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27690,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7251:7:22","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":27689,"name":"uint256","nodeType":"ElementaryTypeName","src":"7251:7:22","typeDescriptions":{}}},"id":27697,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7251:46:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7245:52:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27699,"nodeType":"ExpressionStatement","src":"7245:52:22"}]},"id":27701,"nodeType":"IfStatement","src":"6382:926:22","trueBody":{"id":27671,"nodeType":"Block","src":"6396:733:22","statements":[{"assignments":[27569],"declarations":[{"constant":false,"id":27569,"mutability":"mutable","name":"sec","nameLocation":"6418:3:22","nodeType":"VariableDeclaration","scope":27671,"src":"6410:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27568,"name":"uint256","nodeType":"ElementaryTypeName","src":"6410:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":27577,"initialValue":{"arguments":[{"arguments":[{"id":27574,"name":"YEAR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27393,"src":"6447:4:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27573,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6439:7:22","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":27572,"name":"uint256","nodeType":"ElementaryTypeName","src":"6439:7:22","typeDescriptions":{}}},"id":27575,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6439:13:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":27570,"name":"tau","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27558,"src":"6424:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27571,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6428:10:22","memberName":"divWadDown","nodeType":"MemberAccess","referencedDeclaration":26081,"src":"6424:14:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":27576,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6424:29:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6410:43:22"},{"assignments":[27579],"declarations":[{"constant":false,"id":27579,"mutability":"mutable","name":"sdr","nameLocation":"6476:3:22","nodeType":"VariableDeclaration","scope":27671,"src":"6468:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27578,"name":"uint256","nodeType":"ElementaryTypeName","src":"6468:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":27583,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":27580,"name":"sec","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27569,"src":"6482:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27581,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6486:4:22","memberName":"sqrt","nodeType":"MemberAccess","referencedDeclaration":26589,"src":"6482:8:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint256)"}},"id":27582,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6482:10:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6468:24:22"},{"expression":{"id":27591,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":27584,"name":"sdr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27579,"src":"6506:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":27590,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27585,"name":"sdr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27579,"src":"6512:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"arguments":[{"id":27588,"name":"HALF_SCALAR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27396,"src":"6526:11:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27587,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6518:7:22","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":27586,"name":"uint256","nodeType":"ElementaryTypeName","src":"6518:7:22","typeDescriptions":{}}},"id":27589,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6518:20:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6512:26:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6506:32:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27592,"nodeType":"ExpressionStatement","src":"6506:32:22"},{"expression":{"id":27598,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":27593,"name":"sdr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27579,"src":"6552:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":27596,"name":"sdr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27579,"src":"6573:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":27594,"name":"vol","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27556,"src":"6558:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27595,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6562:10:22","memberName":"mulWadDown","nodeType":"MemberAccess","referencedDeclaration":26049,"src":"6558:14:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":27597,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6558:19:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6552:25:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27599,"nodeType":"ExpressionStatement","src":"6552:25:22"},{"assignments":[27601],"declarations":[{"constant":false,"id":27601,"mutability":"mutable","name":"phi","nameLocation":"6599:3:22","nodeType":"VariableDeclaration","scope":27671,"src":"6592:10:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":27600,"name":"int256","nodeType":"ElementaryTypeName","src":"6592:6:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":27614,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27608,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":27605,"name":"R_y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27552,"src":"6620:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":27604,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6613:6:22","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":27603,"name":"int256","nodeType":"ElementaryTypeName","src":"6613:6:22","typeDescriptions":{}}},"id":27606,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6613:11:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":27607,"name":"inv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27560,"src":"6627:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"6613:17:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"arguments":[{"id":27611,"name":"stk","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27554,"src":"6639:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":27610,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6632:6:22","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":27609,"name":"int256","nodeType":"ElementaryTypeName","src":"6632:6:22","typeDescriptions":{}}},"id":27612,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6632:11:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27602,"name":"diviWad","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27813,"src":"6605:7:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":27613,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6605:39:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"6592:52:22"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27617,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27615,"name":"phi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27601,"src":"6663:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":27616,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6669:1:22","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6663:7:22","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":27621,"nodeType":"IfStatement","src":"6659:25:22","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":27618,"name":"OOB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27399,"src":"6679:3:22","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":27619,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6679:5:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":27620,"nodeType":"RevertStatement","src":"6672:12:22"}},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27624,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27622,"name":"phi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27601,"src":"6742:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":27623,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27390,"src":"6748:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"6742:9:22","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":27628,"nodeType":"IfStatement","src":"6738:27:22","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":27625,"name":"OOB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27399,"src":"6760:3:22","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":27626,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6760:5:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":27627,"nodeType":"RevertStatement","src":"6753:12:22"}},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27631,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27629,"name":"phi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27601,"src":"6783:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":27630,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27390,"src":"6790:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"6783:10:22","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":27634,"nodeType":"IfStatement","src":"6779:24:22","trueBody":{"expression":{"hexValue":"30","id":27632,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6802:1:22","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":27564,"id":27633,"nodeType":"Return","src":"6795:8:22"}},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27637,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27635,"name":"phi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27601,"src":"6885:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":27636,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6892:1:22","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6885:8:22","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":27640,"nodeType":"IfStatement","src":"6881:24:22","trueBody":{"expression":{"id":27638,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27387,"src":"6902:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":27564,"id":27639,"nodeType":"Return","src":"6895:10:22"}},{"expression":{"id":27645,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":27641,"name":"phi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27601,"src":"6983:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":27642,"name":"phi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27601,"src":"6989:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":27643,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6993:3:22","memberName":"ppf","nodeType":"MemberAccess","referencedDeclaration":27373,"src":"6989:7:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_int256_$attached_to$_t_int256_$","typeString":"function (int256) pure returns (int256)"}},"id":27644,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6989:9:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"6983:15:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":27646,"nodeType":"ExpressionStatement","src":"6983:15:22"},{"assignments":[27648],"declarations":[{"constant":false,"id":27648,"mutability":"mutable","name":"input","nameLocation":"7020:5:22","nodeType":"VariableDeclaration","scope":27671,"src":"7013:12:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":27647,"name":"int256","nodeType":"ElementaryTypeName","src":"7013:6:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":27655,"initialValue":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27654,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27649,"name":"phi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27601,"src":"7028:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":27652,"name":"sdr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27579,"src":"7041:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":27651,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7034:6:22","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":27650,"name":"int256","nodeType":"ElementaryTypeName","src":"7034:6:22","typeDescriptions":{}}},"id":27653,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7034:11:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7028:17:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"7013:32:22"},{"expression":{"id":27660,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":27656,"name":"input","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27648,"src":"7059:5:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":27657,"name":"input","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27648,"src":"7067:5:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":27658,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7073:3:22","memberName":"cdf","nodeType":"MemberAccess","referencedDeclaration":27280,"src":"7067:9:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_int256_$attached_to$_t_int256_$","typeString":"function (int256) pure returns (int256)"}},"id":27659,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7067:11:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7059:19:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":27661,"nodeType":"ExpressionStatement","src":"7059:19:22"},{"expression":{"id":27669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":27662,"name":"R_x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27563,"src":"7092:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":27667,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27665,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27390,"src":"7106:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":27666,"name":"input","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27648,"src":"7112:5:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7106:11:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27664,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7098:7:22","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":27663,"name":"uint256","nodeType":"ElementaryTypeName","src":"7098:7:22","typeDescriptions":{}}},"id":27668,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7098:20:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7092:26:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27670,"nodeType":"ExpressionStatement","src":"7092:26:22"}]}}]},"documentation":{"id":27550,"nodeType":"StructuredDocumentation","src":"5034:1160:22","text":" @notice Uses reserves `R_y` to compute reserves `R_x`.\n @dev Computes `x` in `x = 1 - Φ(Φ⁻¹( (y + k) / K ) + σ√τ)`.\n Not used in invariant function. Used for computing swap outputs.\n Simplifies to `1 - ( (y + k) / K )` when time to expiry is zero.\n Reverts if `R_y` is greater than one. Units are WAD.\n Dangerous! There are important bounds to using this function.\n @param R_y Quantity of token reserve `y` within the bounds of [0, stk].\n @param stk Strike price of the pool. Terminal price of asset `x` in the pool denominated in asset `y`.\n @param vol Implied volatility of the pool. Higher implied volatility = higher price impact on swaps.\n @param tau Time until the pool expires. Once expired, no swaps can happen. Scaled to units of `Invariant.YEAR`.\n @param inv Current invariant given the actual reserves `R_y`.\n @return R_x Quantity of token reserve `x` within the bounds of [0, 1].\n @custom:error Up to 1e-6. This an **approximated** \"inverse\" of the `getY` function.\n @custom:source https://primitive.xyz/whitepaper"},"implemented":true,"kind":"function","modifiers":[],"name":"getX","nameLocation":"6208:4:22","parameters":{"id":27561,"nodeType":"ParameterList","parameters":[{"constant":false,"id":27552,"mutability":"mutable","name":"R_y","nameLocation":"6221:3:22","nodeType":"VariableDeclaration","scope":27703,"src":"6213:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27551,"name":"uint256","nodeType":"ElementaryTypeName","src":"6213:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":27554,"mutability":"mutable","name":"stk","nameLocation":"6234:3:22","nodeType":"VariableDeclaration","scope":27703,"src":"6226:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27553,"name":"uint256","nodeType":"ElementaryTypeName","src":"6226:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":27556,"mutability":"mutable","name":"vol","nameLocation":"6247:3:22","nodeType":"VariableDeclaration","scope":27703,"src":"6239:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27555,"name":"uint256","nodeType":"ElementaryTypeName","src":"6239:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":27558,"mutability":"mutable","name":"tau","nameLocation":"6260:3:22","nodeType":"VariableDeclaration","scope":27703,"src":"6252:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27557,"name":"uint256","nodeType":"ElementaryTypeName","src":"6252:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":27560,"mutability":"mutable","name":"inv","nameLocation":"6272:3:22","nodeType":"VariableDeclaration","scope":27703,"src":"6265:10:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":27559,"name":"int256","nodeType":"ElementaryTypeName","src":"6265:6:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"6212:64:22"},"returnParameters":{"id":27564,"nodeType":"ParameterList","parameters":[{"constant":false,"id":27563,"mutability":"mutable","name":"R_x","nameLocation":"6308:3:22","nodeType":"VariableDeclaration","scope":27703,"src":"6300:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27562,"name":"uint256","nodeType":"ElementaryTypeName","src":"6300:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6299:13:22"},"scope":27732,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":27731,"nodeType":"FunctionDefinition","src":"7585:318:22","nodes":[],"body":{"id":27730,"nodeType":"Block","src":"7732:171:22","nodes":[],"statements":[{"assignments":[27720],"declarations":[{"constant":false,"id":27720,"mutability":"mutable","name":"y","nameLocation":"7750:1:22","nodeType":"VariableDeclaration","scope":27730,"src":"7742:9:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27719,"name":"uint256","nodeType":"ElementaryTypeName","src":"7742:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":27728,"initialValue":{"arguments":[{"id":27722,"name":"R_x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27708,"src":"7759:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":27723,"name":"stk","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27710,"src":"7764:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":27724,"name":"vol","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27712,"src":"7769:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":27725,"name":"tau","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27714,"src":"7774:3:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":27726,"name":"inv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27717,"src":"7779:3:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":27721,"name":"getY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27549,"src":"7754:4:22","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,int256) pure returns (uint256)"}},"id":27727,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7754:29:22","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7742:41:22"},{"AST":{"nativeSrc":"7855:42:22","nodeType":"YulBlock","src":"7855:42:22","statements":[{"nativeSrc":"7869:18:22","nodeType":"YulAssignment","src":"7869:18:22","value":{"arguments":[{"name":"R_y","nativeSrc":"7880:3:22","nodeType":"YulIdentifier","src":"7880:3:22"},{"name":"y","nativeSrc":"7885:1:22","nodeType":"YulIdentifier","src":"7885:1:22"}],"functionName":{"name":"sub","nativeSrc":"7876:3:22","nodeType":"YulIdentifier","src":"7876:3:22"},"nativeSrc":"7876:11:22","nodeType":"YulFunctionCall","src":"7876:11:22"},"variableNames":[{"name":"inv","nativeSrc":"7869:3:22","nodeType":"YulIdentifier","src":"7869:3:22"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":27706,"isOffset":false,"isSlot":false,"src":"7880:3:22","valueSize":1},{"declaration":27717,"isOffset":false,"isSlot":false,"src":"7869:3:22","valueSize":1},{"declaration":27720,"isOffset":false,"isSlot":false,"src":"7885:1:22","valueSize":1}],"id":27729,"nodeType":"InlineAssembly","src":"7846:51:22"}]},"documentation":{"id":27704,"nodeType":"StructuredDocumentation","src":"7320:260:22","text":" @notice Computes the invariant of the RMM trading function.\n @dev Computes `k` in `k = y - KΦ(Φ⁻¹(1-x) - σ√τ)`.\n Used to validate swaps, the most critical function.\n @custom:source https://rmm.eth.xyz"},"implemented":true,"kind":"function","modifiers":[],"name":"invariant","nameLocation":"7594:9:22","parameters":{"id":27715,"nodeType":"ParameterList","parameters":[{"constant":false,"id":27706,"mutability":"mutable","name":"R_y","nameLocation":"7612:3:22","nodeType":"VariableDeclaration","scope":27731,"src":"7604:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27705,"name":"uint256","nodeType":"ElementaryTypeName","src":"7604:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":27708,"mutability":"mutable","name":"R_x","nameLocation":"7625:3:22","nodeType":"VariableDeclaration","scope":27731,"src":"7617:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27707,"name":"uint256","nodeType":"ElementaryTypeName","src":"7617:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":27710,"mutability":"mutable","name":"stk","nameLocation":"7638:3:22","nodeType":"VariableDeclaration","scope":27731,"src":"7630:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27709,"name":"uint256","nodeType":"ElementaryTypeName","src":"7630:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":27712,"mutability":"mutable","name":"vol","nameLocation":"7651:3:22","nodeType":"VariableDeclaration","scope":27731,"src":"7643:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27711,"name":"uint256","nodeType":"ElementaryTypeName","src":"7643:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":27714,"mutability":"mutable","name":"tau","nameLocation":"7664:3:22","nodeType":"VariableDeclaration","scope":27731,"src":"7656:11:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27713,"name":"uint256","nodeType":"ElementaryTypeName","src":"7656:7:22","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7603:65:22"},"returnParameters":{"id":27718,"nodeType":"ParameterList","parameters":[{"constant":false,"id":27717,"mutability":"mutable","name":"inv","nameLocation":"7723:3:22","nodeType":"VariableDeclaration","scope":27731,"src":"7716:10:22","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":27716,"name":"int256","nodeType":"ElementaryTypeName","src":"7716:6:22","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"7715:12:22"},"scope":27732,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"Invariant","contractDependencies":[],"contractKind":"library","documentation":{"id":27378,"nodeType":"StructuredDocumentation","src":"83:2157:22","text":" @title Invariant of Primitive RMM.\n @author @alexangelj\n @notice Invariant is `k` with the trading function `k = y - KΦ(Φ⁻¹(1-x) - σ√τ)`.\n @dev Terms which can potentially be ambiguous are given discrete names.\n This makes it easier to search for terms and update terms.\n Variables can sometimes not be trusted to be or act like their names.\n This naming scheme avoids this problem using a glossary to define them.\n // -------------------- Glossary --------------------- //\n `R_x` - Amount of asset token reserves per single unit of liquidity.\n `R_y` - Amount of quote token reserves per single unit of liquidity.\n `stk` - Strike price of the pool. The terminal price of each asset token.\n `vol` - Implied volatility of the pool. Higher vol = higher price impact on swaps.\n `tau` - Time until the pool expires. Amount of seconds until the pool's curve becomes flat around `stk`.\n `inv` - Invariant of the pool. Difference between theoretical $ value and actual $ value per liquidity.\n `WAD` - Signed or unsigned fixed point number with up to 18 decimals and up to 256 total bits wide.\n `YEAR`- Equal to the amount of seconds in a year. Used in `invariant` function.\n // -------------------- Units ------------------------ //\n `R_x` - Units are unsigned WAD. Represents value of tokens, decimals matter.\n `R_y` - Units are unsigned WAD. Represents value of tokens, decimals matter.\n `stk` - Units are unsigned WAD. Represents value of tokens, decimals matter.\n `vol` - Units are unsigned WAD. Represents a percentage in which 100% = WAD.\n `tau` - Units are YEAR. Represents a time unit which `1.0` is equal to YEAR.\n `inv` - Units are signed WAD. Initial value of zero and decreases over time.\n // -------------------- Denoted By ----------------- //\n `R_x` - Denoted by `x`.\n `R_y` - Denoted by `y`.\n `stk` - Denoted by `K`.\n `vol` - Denoted by `σ`.\n `tau` - Denoted by `τ`.\n `inv` - Denoted by `k`.\n // -------------------- Error Bounds ----------------- //\n `inv` - Up to 1e-9.\n // ------------------------ ~ ------------------------ //"},"fullyImplemented":true,"linearizedBaseContracts":[27732],"name":"Invariant","nameLocation":"2249:9:22","scope":27733,"usedErrors":[27399],"usedEvents":[]}],"license":"MIT"},"id":22}